{"version":3,"sources":["reportWebVitals.js","index.js","components/Elements.js","components/Forms.js","components/Marketplace.js","components/Deals.js","components/Account.js","components/Modal.js","serviceWorkerRegistration.js","SiteContext.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","App","lazy","ErrorBoundary","props","state","hasError","reported","error","errorInfo","options","method","headers","body","JSON","stringify","issue","toString","dscr","fetch","res","json","data","code","this","className","name","href","children","React","Component","ReactDOM","render","StrictMode","fallback","document","getElementById","DateRange","a","mod","default","require","Err_svg","xmlns","width","height","viewBox","id","x1","y1","x2","y2","gradientUnits","offset","stopColor","rx","fill","transform","d","Succ_svg","clipPath","X_svg","Step_tick","stroke","strokeWidth","cx","cy","r","Step_blank","Step_fill","InputDateRange","defaultRange","dateRange","onChange","required","dateFilterRef","useRef","useState","startDate","Date","endDate","setDateRange","datePickerStyle","setDatePickerStyle","dateFilter","setDateFilter","open","setOpen","useLayoutEffect","current","getBoundingClientRect","y","x","bottom","position","top","Math","min","window","innerHeight","right","innerWidth","useEffect","ref","onClick","type","style","value","moment","time","format","Moment","onBackdropClick","backdropClass","ranges","e","range1","Prog_done","Prog_running","Prog_runningBack","Plus_svg","Minus_svg","Arrow_up_svg","Arrow_down_svg","Arrow_left_svg","Chev_down_svg","External_link_icon","focusable","Tick","Cart_svg","version","Seller_cart_svg","Img","defaultSrc","src","rest","setSrc","alt","onError","Checkbox","defaultValue","checked","setChecked","Combobox","maxHeight","placeholder","disabled","dataId","validationMessage","label","find","item","setValue","setData","optionsStyle","setOptionsStyle","input","section","left","max","length","autoComplete","onFocus","target","blur","zIndex","map","option","setCustomValidity","NumberInput","step","readOnly","FileInput","prefill","multiple","accept","files","setFiles","fileIndex","file","url","URL","createObjectURL","img","startsWith","match","prev","filter","i","some","useOnScreen","visible","setVisible","observer","IntersectionObserver","entry","isIntersecting","observe","unobserve","Pagination","total","btns","perPage","currentPage","setPage","setCurrentPage","pages","setPages","links","setLinks","Array","ceil","keys","num","remain","middle","pivit","Header","useContext","SiteContext","user","setUser","history","cart","setCart","userType","useHistory","to","location","pathname","Footer","UploadFiles","setMsg","cdn","process","formData","FormData","uploaded","_file","push","append","link","catch","err","console","log","Media","mediaPreview","setMediaPreview","media","setMedia","index","setIndex","medias","thumb","view","handleClick","controls","autoPlay","Actions","icon","wrapperClassName","clickable","setStyle","buttonRef","wrapperRef","wrapper","stopPropagation","Tabs","basepath","tabs","path","User","profileImg","firstName","lastName","phone","ShareButtons","year","includes","month","weekday","day","hour","minute","second","values","Intl","DateTimeFormat","formatToParts","replace","dayPeriod","calculatePrice","product","gst","discount","finalPrice","price","amount","calculateDiscount","verified","fix","LS","set","key","localStorage","setItem","get","getItem","remove","forEach","removeItem","addToCart","_id","buyer","qty","Tip","MilestoneForm","action","client","onSuccess","definedAmount","order","refund","strict","config","loading","setLoading","userDetail","clientDetail","setDscr","setAmount","fee","setFee","msg","onTimeout","requestMilestone","useCallback","buyer_id","createMilestone","seller","onSubmit","preventDefault","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","onClose","draggable","progress","undefined","email","address","street","city","zip","MilestoneReleaseForm","milestone","setReleaseForm","AddressForm","onCancel","setName","setPhone","setZip","locality","setLocatily","setStreet","setCity","setState","landmark","setLandmark","altPhone","setAltPhone","htmlFor","resiz","DisputeForm","setDisputeForm","setIssue","caseFiles","setCaseFiles","submit","fileLinks","milestoneId","defendantId","_case","role","TicketForm","setMilestone","transaction","setTransaction","message","setMessage","ticket","TicketReplyForm","Helmet","MiniChat","onToggle","ChatContext","contacts","setContacts","userCard","setUserCard","chat","setChat","clientChat","contact","status","userBlock","messages","socket","emit","client_id","newChat","Product","setSellerCart","images","available","SingleProduct","setNativeShare","share","setShare","setProduct","chatOpen","setChatOpen","params","navigator","content","property","Gallery","shopInfo","logo","head","setView","ImageView","boundingBody","setBoundingBody","applyStyle","setApplyStyle","container","onMouseMove","abs","round","clientX","clientY","onTouchStart","querySelector","overflow","onTouchEnd","onTouchMove","touches","transition","onMouseEnter","onMouseLeave","Cart","carts","setCarts","products","Shop","SellerCart","sellerCart","SellerShop","deliveryDetail","setDeliveryDetail","addressForm","setAddressForm","milestoneForm","setMilestoneForm","showTerms","setShowTerms","couponCode","setCouponCode","validCoupon","setValidCoupon","couponCodeForm","setCouponCodeForm","note","setNote","productPrice","reduce","c","couponCodeDiscount","maxDiscount","shippingCost","CartItem","coupon","sellers","threshold","usage","validPerUser","onBlur","toUpperCase","refundable","Object","entries","deliveryWithin","terms","Marketplace","nativeShare","rootMargin","loadingRef","loadingVisible","sortOptions","column","categories","setCategories","setTotal","queryString","parse","search","page","q","setSearch","sort","setSort","setProducts","category","setCategory","sellerDetail","setSellerDetail","buyerDetail","setBuyerDetail","setLoadingMore","URLSearchParams","display","opacity","updateChatLastSeen","rooms","UserSearch","users","setUsers","showUsers","setShowUsers","formRef","inviteUser","RegExp","test","toLowerCase","origin","documentClickHandler","addEventListener","removeEventListener","encodeURIComponent","Person","lastSeen","unread","toISOString","text","Chat","chatWrapper","setRooms","msgLoading","setMsgLoading","allMessages","setAllMessages","Confirm","question","callback","blocked","blockList","onScroll","Bubble","reverse","ChatForm","scrollBy","scrollHeight","component","ReportForm","milestones","timestamp","createdAt","getTime","dateStamp","from","MediaBubble","fullView","inputRef","connected","focus","on","connect","Preview","autoFocus","onKeyDown","keyCode","altKey","Deals","user_id","person","MyShopping","StartTransaction","Transactions","Support","QRCode","Profile","Hold","Wallet","MyShop","Home","setUserType","recentPayments","setRecentPayments","recentOrders","setRecentOrders","setClient","orders","ProfileAvatar","menu","setMenu","invite","setInvite","noti","setNoti","notificationLastRead","notifications","referLink","fillRule","title","UserTypeSwitch","tip","size","renderAs","Accordion","Account","useLocation","fontSize","fontFamily","fontWeight","Modal","forwardRef","containerClass","portal","classList","add","createPortal","cleanup","decline","isLocalhost","Boolean","hostname","urlBase64ToUint8Array","base64String","base64","repeat","rawData","atob","outputArray","Uint8Array","charCodeAt","register","swUrl","response","contentType","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","checkValidServiceWorker","pushManager","subscribe","userVisibleOnly","applicationServerKey","subscription","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","io","createContext","Provider","gtag","ga","isAuthenticated","setIsAuthenticated","setConfig","setProperty","ChatProvider","setWindowFocus","connectedRooms","setConnectedRooms","setUnread","effectRan","clientBlock","b","focusHandler","blurHandler","clientRoom_id","payload","newMessages","updatedAt","room","join"],"mappings":"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,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,kBAMF+D,GAAmB,WAC9B,OACE,sBACE9F,UAAU,cACVkB,MAAM,6BACNC,MAAM,MACNC,OAAO,QACPC,QAAQ,gBALV,SAOE,qBACEC,GAAG,YACH,YAAU,YACVU,UAAU,2CAHZ,UAKE,uBACEV,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,WACVW,EAAE,wDACFD,UAAU,0CACVD,KAAK,YAEP,uBACET,GAAG,WACH,YAAU,W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","file":"static/js/main.c474b135.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useContext, lazy, Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"./SiteContext\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nconst App = lazy(() => import(\"./App.js\"));\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, reported: false };\n  }\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n  componentDidCatch(error, errorInfo) {\n    const options = {\n      method: \"POST\",\n      headers: { \"Content-type\": \"application/json\" },\n      body: JSON.stringify({\n        issue: error.toString(),\n        dscr: errorInfo,\n      }),\n    };\n    fetch(\"/api/bugReport\", options)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          this.reported = true;\n        }\n      });\n  }\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"deathPage\">\n          <div className=\"content\">\n            <ion-icon name=\"skull-outline\"></ion-icon>\n            <h2>Oops.</h2>\n            <a href=\"/\">RELOAD</a>\n            {this.reported && <p>successfully reported</p>}\n          </div>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <Provider>\n        <Suspense fallback={<p>Loading...</p>}>\n          <App />\n        </Suspense>\n      </Provider>\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {\n  useState,\n  useRef,\n  useLayoutEffect,\n  useEffect,\n  useContext,\n  lazy,\n  Suspense,\n} from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Modal } from \"./Modal\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { ProfileAvatar } from \"./Account\";\nimport {\n  EmailShareButton,\n  FacebookShareButton,\n  HatenaShareButton,\n  InstapaperShareButton,\n  LineShareButton,\n  LinkedinShareButton,\n  LivejournalShareButton,\n  MailruShareButton,\n  OKShareButton,\n  PinterestShareButton,\n  PocketShareButton,\n  RedditShareButton,\n  TelegramShareButton,\n  TumblrShareButton,\n  TwitterShareButton,\n  ViberShareButton,\n  VKShareButton,\n  WhatsappShareButton,\n  WorkplaceShareButton,\n  EmailIcon,\n  FacebookIcon,\n  HatenaIcon,\n  InstapaperIcon,\n  LineIcon,\n  LinkedinIcon,\n  LivejournalIcon,\n  MailruIcon,\n  OKIcon,\n  PinterestIcon,\n  PocketIcon,\n  RedditIcon,\n  TelegramIcon,\n  TumblrIcon,\n  TwitterIcon,\n  ViberIcon,\n  VKIcon,\n  WhatsappIcon,\n  WorkplaceIcon,\n} from \"react-share\";\nconst DateRange = lazy(async () => {\n  await import(\"react-date-range/dist/styles.css\");\n  await import(\"react-date-range/dist/theme/default.css\");\n  return import(\"react-date-range\").then((mod) => ({ default: mod.DateRange }));\n});\n\nrequire(\"./styles/elements.scss\");\n\nexport const Err_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"158\"\n      height=\"158\"\n      viewBox=\"0 0 158 158\"\n    >\n      <defs>\n        <linearGradient\n          id=\"linear-gradient-red\"\n          x1=\"-0.298\"\n          y1=\"-0.669\"\n          x2=\"1.224\"\n          y2=\"1.588\"\n          gradientUnits=\"objectBoundingBox\"\n        >\n          <stop offset=\"0\" stopColor=\"#f93389\" />\n          <stop offset=\"1\" stopColor=\"#e3003e\" />\n        </linearGradient>\n      </defs>\n      <rect\n        id=\"Rectangle_1104\"\n        data-name=\"Rectangle 1104\"\n        width=\"158\"\n        height=\"158\"\n        rx=\"79\"\n        fill=\"url(#linear-gradient-red)\"\n      />\n      <g\n        id=\"Component_85_8\"\n        data-name=\"Component 85  8\"\n        transform=\"translate(49.472 49.472)\"\n      >\n        <path\n          id=\"Union_3\"\n          data-name=\"Union 3\"\n          d=\"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z\"\n          fill=\"#fff\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Succ_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"158\"\n      height=\"158\"\n      viewBox=\"0 0 158 158\"\n    >\n      <defs>\n        <linearGradient\n          id=\"linear-gradient\"\n          x1=\"-0.298\"\n          y1=\"-0.669\"\n          x2=\"1.224\"\n          y2=\"1.588\"\n          gradientUnits=\"objectBoundingBox\"\n        >\n          <stop offset=\"0\" stopColor=\"#336cf9\" />\n          <stop offset=\"1\" stopColor=\"#1be6d6\" />\n        </linearGradient>\n        <clipPath id=\"clip-path\">\n          <rect width=\"64\" height=\"64\" fill=\"none\" />\n        </clipPath>\n      </defs>\n      <g\n        id=\"Group_163\"\n        data-name=\"Group 163\"\n        transform=\"translate(-0.426 -0.384)\"\n      >\n        <g id=\"Group_103\" data-name=\"Group 103\" transform=\"translate(0 0)\">\n          <rect\n            id=\"Rectangle_1104\"\n            data-name=\"Rectangle 1104\"\n            width=\"158\"\n            height=\"158\"\n            rx=\"79\"\n            transform=\"translate(0.426 0.384)\"\n            fill=\"url(#linear-gradient)\"\n          />\n        </g>\n        <g\n          id=\"Component_148_2\"\n          data-name=\"Component 148  2\"\n          transform=\"translate(47.426 58.384)\"\n          clipPath=\"url(#clip-path)\"\n        >\n          <rect\n            id=\"Rectangle_460\"\n            data-name=\"Rectangle 460\"\n            width=\"64\"\n            height=\"64\"\n            transform=\"translate(0 0)\"\n            fill=\"none\"\n          />\n          <path\n            id=\"Checkbox\"\n            d=\"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z\"\n            transform=\"translate(0 1.728)\"\n            fill=\"#fff\"\n          />\n        </g>\n      </g>\n    </svg>\n  );\n};\nexport const X_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"15.557\"\n      height=\"15.557\"\n      viewBox=\"0 0 15.557 15.557\"\n    >\n      <defs>\n        <clipPath id=\"clip-path\">\n          <rect width=\"15.557\" height=\"15.557\" fill=\"none\" />\n        </clipPath>\n      </defs>\n      <g id=\"Cancel\" clipPath=\"url(#clip-path)\">\n        <path\n          id=\"Union_3\"\n          data-name=\"Union 3\"\n          d=\"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z\"\n          fill=\"#2699fb\"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const Step_tick = ({ className }) => {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"65\"\n      height=\"65\"\n      viewBox=\"0 0 65 65\"\n    >\n      <g\n        id=\"Ellipse_110\"\n        data-name=\"Ellipse 110\"\n        fill=\"#fff\"\n        stroke=\"#336cf9\"\n        strokeWidth=\"1\"\n      >\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32.5\" stroke=\"none\" />\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32\" fill=\"none\" />\n      </g>\n      <path\n        id=\"Checkbox\"\n        d=\"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z\"\n        transform=\"translate(17.034 20.967)\"\n        fill=\"#336cf9\"\n      />\n    </svg>\n  );\n};\nexport const Step_blank = ({ className }) => {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"65\"\n      height=\"65\"\n      viewBox=\"0 0 65 65\"\n    >\n      <g\n        id=\"Ellipse_229\"\n        data-name=\"Ellipse 229\"\n        fill=\"#fff\"\n        stroke=\"#707070\"\n        strokeWidth=\"1\"\n      >\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32.5\" stroke=\"none\" />\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32\" fill=\"none\" />\n      </g>\n    </svg>\n  );\n};\nexport const Step_fill = ({ className }) => {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"65\"\n      height=\"65\"\n      viewBox=\"0 0 65 65\"\n    >\n      <g\n        id=\"Ellipse_110\"\n        data-name=\"Ellipse 110\"\n        fill=\"#336cf9\"\n        stroke=\"#336cf9\"\n        strokeWidth=\"1\"\n      >\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32.5\" stroke=\"none\" />\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32\" fill=\"none\" />\n      </g>\n      <path\n        id=\"Checkbox\"\n        d=\"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z\"\n        transform=\"translate(17.034 20.967)\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const InputDateRange = ({\n  dateRange: defaultRange,\n  onChange,\n  required,\n}) => {\n  const dateFilterRef = useRef();\n  const [dateRange, setDateRange] = useState(\n    defaultRange || {\n      startDate: new Date(),\n      endDate: new Date(),\n    }\n  );\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [dateFilter, setDateFilter] = useState(!!defaultRange);\n  const [open, setOpen] = useState(false);\n  useLayoutEffect(() => {\n    const {\n      height,\n      y,\n      width,\n      x,\n      bottom,\n    } = dateFilterRef.current.getBoundingClientRect();\n    setDatePickerStyle({\n      position: \"fixed\",\n      top: Math.min(height + y + 4, window.innerHeight - 350),\n      right: Math.min(window.innerWidth - x - width, window.innerWidth - 335),\n    });\n  }, [open]);\n  useEffect(() => {\n    if (dateFilter) {\n      onChange?.(dateRange);\n    } else {\n      onChange?.(null);\n    }\n  }, [dateRange]);\n  return (\n    <>\n      <section\n        className={`date ${dateFilter ? \"open\" : \"\"}`}\n        ref={dateFilterRef}\n        onClick={() => setOpen(true)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"30.971\"\n          height=\"30.971\"\n          viewBox=\"0 0 30.971 30.971\"\n        >\n          <path\n            id=\"Path_299\"\n            data-name=\"Path 299\"\n            d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n            fill=\"#336cf9\"\n          />\n        </svg>\n        <input\n          className=\"dateInput\"\n          type=\"date\"\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n          }}\n          value={\n            dateFilter\n              ? moment({\n                  time: dateRange.startDate,\n                  format: \"YYYY-MM-DD\",\n                })\n              : \"\"\n          }\n          required={required}\n          onChange={() => {}}\n        />\n        {dateFilter && (\n          <>\n            <div className=\"dates\">\n              <p>\n                From:{\" \"}\n                <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n              </p>\n              <p>\n                To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n              </p>\n            </div>\n            <button\n              className=\"clearDateFilter\"\n              onClick={() => {\n                setDateRange({\n                  startDate: new Date(),\n                  endDate: new Date(),\n                });\n                setDateFilter(false);\n              }}\n            >\n              <X_svg />\n            </button>\n          </>\n        )}\n      </section>\n      <Modal\n        open={open}\n        onBackdropClick={() => setOpen(false)}\n        backdropClass=\"datePicker\"\n        className=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <Suspense fallback={<>Loading</>}>\n          <DateRange\n            className=\"dateRange\"\n            ranges={[dateRange]}\n            onChange={(e) => {\n              setDateRange(e.range1);\n              if (e.range1.endDate !== e.range1.startDate) {\n                setOpen(false);\n                setDateFilter(true);\n              }\n            }}\n          />\n        </Suspense>\n      </Modal>\n    </>\n  );\n};\n\nexport const Prog_done = () => {\n  return (\n    <svg\n      className=\"done\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"214.5\"\n      height=\"2\"\n      viewBox=\"0 0 214.5 2\"\n    >\n      <line\n        id=\"Line_22\"\n        data-name=\"Line 22\"\n        x2=\"214.5\"\n        transform=\"translate(0 1)\"\n        fill=\"none\"\n        stroke=\"#1be6d6\"\n        strokeWidth=\"2\"\n      />\n    </svg>\n  );\n};\nexport const Prog_running = () => {\n  return (\n    <svg\n      className=\"running\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"200\"\n      height=\"16.55\"\n      viewBox=\"0 0 200 16.55\"\n    >\n      <g\n        id=\"Group_203\"\n        data-name=\"Group 203\"\n        transform=\"translate(-5063.943 -1197)\"\n      >\n        <path\n          id=\"Path_301\"\n          data-name=\"Path 301\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5063.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_302\"\n          data-name=\"Path 302\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5073.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_303\"\n          data-name=\"Path 303\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5083.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_304\"\n          data-name=\"Path 304\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5093.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_305\"\n          data-name=\"Path 305\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5103.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_306\"\n          data-name=\"Path 306\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5113.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_307\"\n          data-name=\"Path 307\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5123.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_308\"\n          data-name=\"Path 308\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5133.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_309\"\n          data-name=\"Path 309\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5143.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_310\"\n          data-name=\"Path 310\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5153.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_311\"\n          data-name=\"Path 311\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5163.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_312\"\n          data-name=\"Path 312\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5173.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_313\"\n          data-name=\"Path 313\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5183.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_314\"\n          data-name=\"Path 314\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5193.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_315\"\n          data-name=\"Path 315\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5203.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_316\"\n          data-name=\"Path 316\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5213.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_317\"\n          data-name=\"Path 317\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5223.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_318\"\n          data-name=\"Path 318\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5233.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_319\"\n          data-name=\"Path 319\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5243.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_320\"\n          data-name=\"Path 320\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5253.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Prog_runningBack = () => {\n  return (\n    <svg\n      className=\"runningBack\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"200\"\n      height=\"16.55\"\n      viewBox=\"0 0 200 16.55\"\n    >\n      <g\n        id=\"Group_226\"\n        data-name=\"Group 226\"\n        transform=\"translate(5263.943 1213.55) rotate(-180)\"\n      >\n        <path\n          id=\"Path_301\"\n          data-name=\"Path 301\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5063.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_302\"\n          data-name=\"Path 302\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5073.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_303\"\n          data-name=\"Path 303\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5083.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_304\"\n          data-name=\"Path 304\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5093.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_305\"\n          data-name=\"Path 305\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5103.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_306\"\n          data-name=\"Path 306\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5113.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_307\"\n          data-name=\"Path 307\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5123.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_308\"\n          data-name=\"Path 308\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5133.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_309\"\n          data-name=\"Path 309\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5143.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_310\"\n          data-name=\"Path 310\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5153.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_311\"\n          data-name=\"Path 311\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5163.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_312\"\n          data-name=\"Path 312\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5173.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_313\"\n          data-name=\"Path 313\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5183.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_314\"\n          data-name=\"Path 314\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5193.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_315\"\n          data-name=\"Path 315\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5203.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_316\"\n          data-name=\"Path 316\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5213.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_317\"\n          data-name=\"Path 317\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5223.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_318\"\n          data-name=\"Path 318\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5233.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_319\"\n          data-name=\"Path 319\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5243.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_320\"\n          data-name=\"Path 320\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5253.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const Plus_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <line\n        id=\"Line_29\"\n        data-name=\"Line 29\"\n        y2=\"20\"\n        transform=\"translate(10)\"\n        fill=\"none\"\n        stroke=\"#006dff\"\n        strokeWidth=\"2\"\n      />\n      <line\n        id=\"Line_30\"\n        data-name=\"Line 30\"\n        x2=\"20\"\n        transform=\"translate(0 10)\"\n        fill=\"none\"\n        stroke=\"#006dff\"\n        strokeWidth=\"2\"\n      />\n    </svg>\n  );\n};\nexport const Minus_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <line\n        id=\"Line_30\"\n        data-name=\"Line 30\"\n        x2=\"20\"\n        transform=\"translate(0 10)\"\n        fill=\"none\"\n        stroke=\"#006dff\"\n        strokeWidth=\"2\"\n      />\n    </svg>\n  );\n};\nexport const Arrow_up_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n    >\n      <g\n        id=\"Symbol_82\"\n        data-name=\"Symbol 82\"\n        transform=\"translate(-507 1272) rotate(-90)\"\n      >\n        <path\n          id=\"Path_10\"\n          data-name=\"Path 10\"\n          d=\"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z\"\n          transform=\"translate(1254 507)\"\n          fill=\"#336cf9\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Arrow_down_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n    >\n      <g id=\"_1\" data-name=\" 1\" transform=\"translate(525 -1254) rotate(90)\">\n        <path\n          id=\"Path_10\"\n          data-name=\"Path 10\"\n          d=\"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z\"\n          transform=\"translate(1254 507)\"\n          fill=\"#ff0080\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Arrow_left_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        id=\"Path_10\"\n        data-name=\"Path 10\"\n        d=\"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z\"\n        transform=\"translate(16 16) rotate(180)\"\n        fill=\"#2699fb\"\n      />\n    </svg>\n  );\n};\nexport const Chev_down_svg = ({ className }) => {\n  return (\n    <svg\n      className={className || \"\"}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"23.616\"\n      height=\"13.503\"\n      viewBox=\"0 0 23.616 13.503\"\n    >\n      <path\n        id=\"Icon_ionic-ios-arrow-down\"\n        data-name=\"Icon ionic-ios-arrow-down\"\n        d=\"M18,20.679l8.93-8.937a1.681,1.681,0,0,1,2.384,0,1.7,1.7,0,0,1,0,2.391L19.2,24.258a1.685,1.685,0,0,1-2.327.049L6.68,14.14a1.688,1.688,0,0,1,2.384-2.391Z\"\n        transform=\"translate(-6.188 -11.246)\"\n        fill=\"#53aefc\"\n      />\n    </svg>\n  );\n};\n\nexport const External_link_icon = () => {\n  return (\n    <span className=\"externalLinkIcon\" aria-label=\"(opens a new window)\">\n      <svg\n        viewBox=\"0 0 20 20\"\n        className=\"Polaris-Icon__Svg_375hu\"\n        focusable=\"false\"\n        aria-hidden=\"true\"\n      >\n        <path d=\"M14 13v1a1 1 0 0 1-1 1H6c-.575 0-1-.484-1-1V7a1 1 0 0 1 1-1h1c1.037 0 1.04 1.5 0 1.5-.178.005-.353 0-.5 0v6h6V13c0-1 1.5-1 1.5 0zm-3.75-7.25A.75.75 0 0 1 11 5h4v4a.75.75 0 0 1-1.5 0V7.56l-3.22 3.22a.75.75 0 1 1-1.06-1.06l3.22-3.22H11a.75.75 0 0 1-.75-.75z\"></path>\n      </svg>\n    </span>\n  );\n};\n\nexport const Tick = () => {\n  return (\n    <svg\n      className=\"tick\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"15.1\"\n      height=\"10.8\"\n      viewBox=\"0 0 15.1 10.8\"\n    >\n      <path\n        id=\"Path_207\"\n        data-name=\"Path 207\"\n        d=\"M6.5,10.8,0,4.3,2.1,2.2,6.5,6.5,13,0l2.1,2.1Z\"\n        fill=\"#2699fb\"\n      />\n    </svg>\n  );\n};\nexport const Cart_svg = () => {\n  return (\n    <svg\n      version=\"1.1\"\n      id=\"Layer_1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 122.9 107.5\"\n    >\n      <g>\n        <path d=\"M3.9,7.9C1.8,7.9,0,6.1,0,3.9C0,1.8,1.8,0,3.9,0h10.2c0.1,0,0.3,0,0.4,0c3.6,0.1,6.8,0.8,9.5,2.5c3,1.9,5.2,4.8,6.4,9.1 c0,0.1,0,0.2,0.1,0.3l1,4H119c2.2,0,3.9,1.8,3.9,3.9c0,0.4-0.1,0.8-0.2,1.2l-10.2,41.1c-0.4,1.8-2,3-3.8,3v0H44.7 c1.4,5.2,2.8,8,4.7,9.3c2.3,1.5,6.3,1.6,13,1.5h0.1v0h45.2c2.2,0,3.9,1.8,3.9,3.9c0,2.2-1.8,3.9-3.9,3.9H62.5v0 c-8.3,0.1-13.4-0.1-17.5-2.8c-4.2-2.8-6.4-7.6-8.6-16.3l0,0L23,13.9c0-0.1,0-0.1-0.1-0.2c-0.6-2.2-1.6-3.7-3-4.5 c-1.4-0.9-3.3-1.3-5.5-1.3c-0.1,0-0.2,0-0.3,0H3.9L3.9,7.9z M96,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C86.4,92.6,90.7,88.3,96,88.3L96,88.3z M53.9,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C44.3,92.6,48.6,88.3,53.9,88.3L53.9,88.3z M33.7,23.7l8.9,33.5h63.1l8.3-33.5H33.7L33.7,23.7z\" />\n      </g>\n    </svg>\n  );\n};\nexport const Seller_cart_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n      width=\"512\"\n      height=\"512\"\n    >\n      <g id=\"Outline\">\n        <path d=\"M488.2,409.63l-15.921,1.592,5.945,59.448L432,436V176h16.76l21.7,217.054,15.921-1.592L463.96,167.2A8,8,0,0,0,456,160H368V96A79.96,79.96,0,0,0,256,22.7,79.96,79.96,0,0,0,144,96v64H56a8,8,0,0,0-7.96,7.2l-5.335,53.347,15.921,1.592L63.24,176H104v75.056L76.422,264.845A8,8,0,0,0,72,272v32H88V276.944l16-8V288h16V268.944l16,8V360H88V320H72v48a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V272a8,8,0,0,0-4.422-7.155L120,251.056V176h24v18.165a16,16,0,1,0,16,0V176H288v18.165a16,16,0,1,0,16,0V176h79.16l-30.4,304H32.84l23.8-237.957-15.921-1.592L16.04,487.2A8,8,0,0,0,24,496H488a8,8,0,0,0,7.96-8.8ZM208,160H160V96a63.953,63.953,0,0,1,78.054-62.426A79.871,79.871,0,0,0,208,96Zm80,0H224V96a64.023,64.023,0,0,1,32-55.39A64.023,64.023,0,0,1,288,96Zm64,0H304V96a79.871,79.871,0,0,0-30.054-62.426A63.953,63.953,0,0,1,352,96Zm47.24,16H416V436l-46.227,34.67ZM384,480l40-30,40,30Z\" />\n      </g>\n    </svg>\n  );\n};\n\nexport const Img = ({ src: defaultSrc, ...rest }) => {\n  const [src, setSrc] = useState(defaultSrc);\n  useEffect(() => {\n    setSrc(defaultSrc);\n  }, [defaultSrc]);\n  return (\n    <img\n      alt={rest.alt || \"\"}\n      src={src}\n      onError={() => setSrc(\"/img_err.png\")}\n      {...rest}\n      onClick={rest.onClick || function () {}}\n    />\n  );\n};\n\nexport const Checkbox = ({ defaultValue, value, required, onChange }) => {\n  const [checked, setChecked] = useState(!!defaultValue);\n  useEffect(() => {\n    setChecked(value);\n  }, [value]);\n  return (\n    <section className=\"checkbox\">\n      <div className=\"ticks\" onClick={() => setChecked(!checked)}>\n        <input\n          type=\"checkbox\"\n          value={checked}\n          required={required}\n          onChange={(e) => {\n            setChecked(!checked);\n            onChange?.(!checked);\n          }}\n        />\n        <svg\n          className=\"border\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"30\"\n          height=\"30\"\n          viewBox=\"0 0 30 30\"\n        >\n          <g\n            id=\"Rectangle_661\"\n            data-name=\"Rectangle 661\"\n            fill=\"none\"\n            stroke=\"#7fc4fd\"\n            strokeWidth=\"3\"\n          >\n            <rect width=\"30\" height=\"30\" rx=\"4\" stroke=\"none\" />\n            <rect x=\"1.5\" y=\"1.5\" width=\"27\" height=\"27\" rx=\"2.5\" fill=\"none\" />\n          </g>\n        </svg>\n        {checked && <Tick />}\n      </div>\n    </section>\n  );\n};\nexport const Combobox = ({\n  options,\n  defaultValue,\n  onChange,\n  maxHeight,\n  required,\n  disabled,\n  dataId,\n  validationMessage,\n  className,\n  placeholder,\n}) => {\n  const [value, setValue] = useState(() => {\n    if (defaultValue > -1 && options[defaultValue]) {\n      return options[defaultValue].label;\n    } else if (options.find((item) => item.value === defaultValue)) {\n      return options.find((item) => item.value === defaultValue).label;\n    } else if (typeof defaultValue === \"object\") {\n      return defaultValue?.label;\n    } else {\n      return \"\";\n    }\n  });\n  const [open, setOpen] = useState(false);\n  const [data, setData] = useState(\"\");\n  const [optionsStyle, setOptionsStyle] = useState({});\n  const input = useRef();\n  const section = useRef();\n  useLayoutEffect(() => {\n    const { width, height, x, y } = section.current.getBoundingClientRect();\n    const top = window.innerHeight - y;\n    setOptionsStyle({\n      position: \"absolute\",\n      left: x,\n      top: Math.max(\n        Math.min(y + height, window.innerHeight - (37 * options.length + 8)),\n        8\n      ),\n      width: width,\n      height: 37 * options.length,\n      maxHeight: window.innerHeight - 16,\n    });\n  }, [open]);\n  return (\n    <section\n      className={`combobox ${open ? \"open\" : \"\"}`}\n      ref={section}\n      onClick={() => setOpen(!open)}\n    >\n      {placeholder && !value && <label>{placeholder}</label>}\n      <input\n        ref={input}\n        required={required}\n        value={value}\n        autoComplete=\"off\"\n        onFocus={(e) => e.target.blur()}\n        onChange={() => {}}\n      />\n      <button type=\"button\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"13\"\n          height=\"8.872\"\n          viewBox=\"0 0 13 8.872\"\n        >\n          <defs>\n            <clipPath id=\"clip-path\">\n              <rect width=\"8.872\" height=\"13\" fill=\"none\" />\n            </clipPath>\n          </defs>\n          <g\n            id=\"Component_47_7\"\n            data-name=\"Component 47  7\"\n            transform=\"translate(0 8.872) rotate(-90)\"\n            clipPath=\"url(#clip-path)\"\n          >\n            <path\n              id=\"Path_36\"\n              data-name=\"Path 36\"\n              d=\"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z\"\n              transform=\"translate(8.872) rotate(90)\"\n              fill=\"#336cf9\"\n            />\n          </g>\n        </svg>\n      </button>\n      <Modal\n        className=\"sectionOptions\"\n        open={open}\n        setOpen={setOpen}\n        backdropClass=\"selectionOptionBack\"\n        onBackdropClick={() => setOpen(false)}\n        style={optionsStyle}\n      >\n        <ul\n          style={{\n            width: \"100%\",\n            maxHeight: open ? maxHeight : 0,\n            zIndex: 100,\n          }}\n          className={\"options\"}\n        >\n          {options.map((option) => (\n            <li\n              key={option.label}\n              onClick={(e) => {\n                setData(option.value);\n                setValue(option.label);\n                onChange && onChange(option);\n                setOpen(false);\n                input.current.setCustomValidity(\"\");\n              }}\n              className={`option ${option.className || \"\"} ${\n                value === option.label ? \"selected\" : \"\"\n              }`}\n            >\n              {option.label}\n            </li>\n          ))}\n        </ul>\n      </Modal>\n    </section>\n  );\n};\nexport const NumberInput = ({\n  defaultValue,\n  min,\n  max,\n  required,\n  onChange,\n  step,\n  placeholder,\n  readOnly,\n}) => {\n  const [value, setValue] = useState(defaultValue || 0);\n  return (\n    <section className=\"number\">\n      <input\n        type=\"number\"\n        step={step || \"0.01\"}\n        required={required}\n        value={value}\n        readOnly={readOnly}\n        onChange={(e) => {\n          setValue((+e.target.value).toString());\n          onChange?.(e);\n        }}\n        placeholder={placeholder || \"0.00\"}\n        min={min}\n        max={max}\n      />\n      <div className=\"ticker\">\n        <button type=\"button\" onClick={() => setValue(+value + 1)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"13\"\n            height=\"8.872\"\n            viewBox=\"0 0 13 8.872\"\n          >\n            <defs>\n              <clipPath id=\"clip-path\">\n                <rect width=\"8.872\" height=\"13\" fill=\"none\" />\n              </clipPath>\n            </defs>\n            <g\n              id=\"Component_47_8\"\n              data-name=\"Component 47  8\"\n              transform=\"translate(13) rotate(90)\"\n              clipPath=\"url(#clip-path)\"\n            >\n              <path\n                id=\"Path_36\"\n                data-name=\"Path 36\"\n                d=\"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z\"\n                transform=\"translate(8.872) rotate(90)\"\n                fill=\"#336cf9\"\n              />\n            </g>\n          </svg>\n        </button>\n        <button type=\"button\" onClick={() => setValue(+value - 1)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"13\"\n            height=\"8.872\"\n            viewBox=\"0 0 13 8.872\"\n          >\n            <defs>\n              <clipPath id=\"clip-path\">\n                <rect width=\"8.872\" height=\"13\" fill=\"none\" />\n              </clipPath>\n            </defs>\n            <g\n              id=\"Component_47_7\"\n              data-name=\"Component 47  7\"\n              transform=\"translate(0 8.872) rotate(-90)\"\n              clipPath=\"url(#clip-path)\"\n            >\n              <path\n                id=\"Path_36\"\n                data-name=\"Path 36\"\n                d=\"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z\"\n                transform=\"translate(8.872) rotate(90)\"\n                fill=\"#336cf9\"\n              />\n            </g>\n          </svg>\n        </button>\n      </div>\n    </section>\n  );\n};\nexport const FileInput = ({\n  required,\n  onChange,\n  prefill,\n  label,\n  multiple,\n  accept,\n  name,\n}) => {\n  const [files, setFiles] = useState(prefill || []);\n  useEffect(() => {\n    onChange?.(files);\n  }, [files]);\n  return (\n    <section className=\"fileInput\">\n      {files.map((item, fileIndex) => {\n        const file =\n          typeof item === \"string\"\n            ? {\n                type: \"url\",\n                url: item,\n              }\n            : {\n                type: item.type,\n                name: item.name,\n                url: URL.createObjectURL(item),\n              };\n        const img =\n          file.type.startsWith(\"image\") ||\n          file.url.match(/(\\.gif|\\.png|\\.jpg|\\.jpeg|\\.webp)$/);\n        return (\n          <div key={fileIndex} className={`file ${img ? \"thumb\" : \"any\"}`}>\n            <button\n              className=\"close\"\n              type=\"button\"\n              onClick={() =>\n                setFiles((prev) => prev.filter((item, i) => i !== fileIndex))\n              }\n            >\n              <X_svg />\n            </button>\n            <Img\n              className={img ? \"thumb\" : \"\"}\n              src={img ? file.url : \"/file_icon.png\"}\n            />\n            {!img && <p className=\"filename\">{item.name}</p>}\n          </div>\n        );\n      })}\n      {(files.length === 0 || multiple) && (\n        <div className=\"uploadBtn\">\n          <Plus_svg />\n          <input\n            name={name}\n            type=\"file\"\n            multiple={multiple}\n            required={required}\n            accept={accept}\n            onChange={(e) => {\n              setFiles((prev) => [\n                ...prev,\n                ...[...e.target.files].filter(\n                  (item) => !files.some((file) => file.name === item.name)\n                ),\n              ]);\n            }}\n          />\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport const useOnScreen = (options) => {\n  const ref = useRef();\n  const [visible, setVisible] = useState(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      setVisible(entry.isIntersecting);\n    }, options);\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [ref, options]);\n  return [ref, visible];\n};\n\nexport const Pagination = ({\n  total,\n  btns,\n  perPage,\n  currentPage,\n  setCurrentPage,\n  setPage,\n}) => {\n  const [pages, setPages] = useState([]);\n  const [links, setLinks] = useState([]);\n  useEffect(() => {\n    setPages(\n      [...Array(Math.ceil(total / perPage)).keys()].map((num) => num + 1)\n    );\n    setLinks([...Array(btns).keys()].map((num) => num + 1));\n  }, [total, perPage]);\n  if (total <= perPage) {\n    return <></>;\n  }\n  return (\n    <div className=\"pagination\">\n      <button\n        disabled={currentPage <= 1}\n        onClick={() => setPage((prev) => prev - 1)}\n      >\n        {\"<\"}\n      </button>\n      <ul className=\"pages\">\n        {pages.length <= btns &&\n          pages.map((item) => (\n            <li key={item} className={item === +currentPage ? \"active\" : \"\"}>\n              <button onClick={() => setPage(item)}>{item}</button>\n            </li>\n          ))}\n        {pages.length > btns &&\n          links.map((item) => {\n            const remain = pages.length - btns;\n            const middle = Math.ceil(btns / 2);\n            let pivit = 0;\n            if (currentPage > middle) {\n              if (currentPage - middle + btns <= pages.length) {\n                pivit = currentPage - middle;\n              } else {\n                pivit = remain;\n              }\n            }\n            const num = item + pivit;\n            return (\n              <li key={num} className={num === currentPage ? \"active\" : \"\"}>\n                <button onClick={() => setPage(item)}>{num}</button>\n              </li>\n            );\n          })}\n      </ul>\n      <button\n        disabled={currentPage >= pages.length}\n        onClick={() => setPage((prev) => prev + 1)}\n      >\n        {\">\"}\n      </button>\n    </div>\n  );\n};\n\nexport const Header = () => {\n  const { user, setUser, cart, setCart, userType } = useContext(SiteContext);\n  const history = useHistory();\n  const [noti, setNoti] = useState(false);\n  useEffect(() => {\n    fetch(\"/api/authUser\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.user) {\n          setUser(data.user);\n        }\n      });\n  }, []);\n  return (\n    <header className=\"genericHeader\">\n      <Link className=\"logoLink\" to=\"/\">\n        <Img className=\"logo\" src=\"/logo_land.jpg\" alt=\"Delivery pay logo\" />\n        <Img\n          className=\"logo_small\"\n          src=\"/logo_sqr.jpg\"\n          alt=\"Delivery pay logo\"\n        />\n      </Link>\n      <div className=\"links\">\n        <Link to=\"/\" className=\"home\">\n          Home\n        </Link>\n      </div>\n      <div className=\"clas\">\n        {user ? (\n          <ProfileAvatar key=\"genericHeader\" />\n        ) : (\n          <>\n            {history.location.pathname === \"/u/login\" ? (\n              <Link to=\"/u/join\">Register</Link>\n            ) : (\n              <Link to=\"/u/login\">Login</Link>\n            )}\n          </>\n        )}\n      </div>\n    </header>\n  );\n};\nexport const Footer = () => {\n  return (\n    <footer>\n      <div className=\"links\">\n        <Link to=\"/aboutUs\">About us</Link>\n        <Link to=\"/privacyPolicy\">Privacy Policy</Link>\n        <Link to=\"/codeOfConduct\">Code of Conduct</Link>\n        <Link to=\"/copyrightPolicy\">Copyright Policy</Link>\n        <Link to=\"/fees&Charges\">Fees & Charges</Link>\n        <Link to=\"/terms\">User Agreement</Link>\n        <Link to=\"/howItWorks\">How it works</Link>\n        <Link to=\"/contactUs\">Contact us</Link>\n        <Link to=\"/employment-opportunities\">Work with us</Link>\n        <Link to=\"/refundCancellationPolicy\">Refund & Cancellation Policy</Link>\n        <Link to=\"/shippingDeliveryPolicy\">Shipping & Delivery Policy</Link>\n      </div>\n    </footer>\n  );\n};\n\nexport const UploadFiles = ({ files, setMsg }) => {\n  const cdn = process.env.REACT_APP_CDN_HOST;\n  const formData = new FormData();\n  const uploaded = [];\n  for (var _file of files) {\n    if (typeof _file === \"string\") {\n      uploaded.push(_file);\n    } else {\n      formData.append(\"file\", _file);\n    }\n  }\n  return fetch(`${cdn}/upload`, {\n    method: \"POST\",\n    body: formData,\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.code === \"ok\") {\n        return [...uploaded, ...data.files.map((link) => cdn + \"/\" + link)];\n      } else {\n        return null;\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>File upload failed</h4>\n            </div>\n          </>\n        );\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>File upload failed. Make sure you're online.</h4>\n          </div>\n        </>\n      );\n    });\n};\nexport const Media = ({ links }) => {\n  const [mediaPreview, setMediaPreview] = useState(false);\n  const [media, setMedia] = useState(null);\n  const [index, setIndex] = useState(0);\n  const medias =\n    links?.map((item, i) => {\n      let thumb = null;\n      let view = null;\n      const handleClick = (e) => {\n        setMediaPreview(true);\n        setMedia(view);\n        setIndex(i);\n      };\n      if (\n        item.match(/(\\.gif|\\.png|\\.jpg|\\.jpeg|\\.webp)$/) ||\n        item.startsWith(\"https://image\")\n      ) {\n        thumb = (\n          <Img\n            className={index === i ? \"active\" : \"\"}\n            key={i}\n            src={item}\n            onClick={handleClick}\n          />\n        );\n        view = <Img key={i} src={item} />;\n      } else if (item.match(/(\\.mp3|\\.ogg|\\.amr|\\.m4a|\\.flac|\\.wav|\\.aac)$/i)) {\n        thumb = (\n          <div\n            key={i}\n            className={`audioThumb ${index === i ? \"active\" : \"\"}`}\n            onClick={handleClick}\n          >\n            <Img src=\"/play_btn.png\" />\n          </div>\n        );\n        view = <audio key={i} src={item} controls=\"on\" autoPlay=\"on\" />;\n      } else if (item.match(/(\\.mp4|\\.mov|\\.avi|\\.flv|\\.wmv|\\.webm)$/i)) {\n        thumb = (\n          <div key={i} className={`videoThumb ${index === i ? \"active\" : \"\"}`}>\n            <video src={item} onClick={handleClick} />\n            <Img src=\"/play_btn.png\" />\n          </div>\n        );\n        view = <video key={i} src={item} controls=\"on\" autoPlay=\"on\" />;\n      } else {\n        thumb = (\n          <a key={i} href={i}>\n            {item}\n          </a>\n        );\n      }\n      return thumb;\n    }) || \"N/A\";\n  return (\n    <>\n      {medias}\n      <Modal\n        className=\"mediaModal\"\n        open={mediaPreview}\n        backdropClass=\"disputeMediaViewBack\"\n      >\n        <button className=\"close\" onClick={() => setMediaPreview(false)}>\n          <X_svg />\n        </button>\n        <div className=\"view\">{media}</div>\n        <div className=\"thumbs\">{medias}</div>\n      </Modal>\n    </>\n  );\n};\n\nexport const Actions = ({\n  icon,\n  children,\n  className,\n  wrapperClassName,\n  clickable,\n  onClick,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [style, setStyle] = useState({});\n  const buttonRef = useRef();\n  const wrapperRef = useRef();\n  useLayoutEffect(() => {\n    const { height, y, width, x } = buttonRef.current?.getBoundingClientRect();\n    const bottom = window.innerHeight - (y + height);\n    const wrapper = wrapperRef.current?.getBoundingClientRect();\n    setStyle({\n      position: \"fixed\",\n      ...(wrapper?.height > bottom\n        ? height > y\n          ? {}\n          : { bottom: window.innerHeight - y }\n        : { top: height + y + 4 }),\n      right: window.innerWidth - x - width,\n    });\n  }, [open]);\n  return (\n    <div className={`actions ${className || \"\"}`}>\n      <button\n        type=\"button\"\n        className=\"btn\"\n        ref={buttonRef}\n        onClick={(e) => {\n          e.stopPropagation();\n          setOpen(true);\n          onClick?.();\n        }}\n      >\n        {icon || <Img src=\"/menu_dot.png\" />}\n      </button>\n      <Modal\n        className=\"actions\"\n        backdropClass=\"actionsBackdrop\"\n        open={open}\n        style={style}\n        onBackdropClick={() => setOpen(false)}\n      >\n        <ul\n          ref={wrapperRef}\n          className={wrapperClassName}\n          onClick={(e) => {\n            e.stopPropagation();\n            !clickable && setOpen(false);\n          }}\n        >\n          {children}\n        </ul>\n      </Modal>\n    </div>\n  );\n};\nexport const Tabs = ({ basepath, tabs }) => {\n  const history = useHistory();\n  return (\n    <ul className=\"tabs\">\n      {tabs.map((item, i) => (\n        <Link\n          to={basepath + item.path}\n          key={i}\n          onClick={() => item.onClick?.()}\n        >\n          <li\n            className={\n              history.location.pathname.startsWith(basepath + item.path)\n                ? \"active\"\n                : \"\"\n            }\n          >\n            {item.label}\n          </li>\n        </Link>\n      ))}\n    </ul>\n  );\n};\n\nexport const User = ({ user }) => {\n  return (\n    <div className=\"profile\">\n      <Img src={user.profileImg || \"/profile-user.jpg\"} />\n      <p className=\"name\">\n        {user.name || user.firstName + \" \" + user.lastName}\n        <span className=\"contact\">{user.phone}</span>\n      </p>\n    </div>\n  );\n};\n\nexport const ShareButtons = ({ url }) => {\n  return (\n    <div className=\"shareBtns\">\n      <EmailShareButton url={url}>\n        <EmailIcon />\n      </EmailShareButton>\n      <FacebookShareButton url={url}>\n        <FacebookIcon />\n      </FacebookShareButton>\n      <HatenaShareButton url={url}>\n        <HatenaIcon />\n      </HatenaShareButton>\n      <InstapaperShareButton url={url}>\n        <InstapaperIcon />\n      </InstapaperShareButton>\n      <LineShareButton url={url}>\n        <LineIcon />\n      </LineShareButton>\n      <LinkedinShareButton url={url}>\n        <LinkedinIcon />\n      </LinkedinShareButton>\n      <LivejournalShareButton url={url}>\n        <LivejournalIcon />\n      </LivejournalShareButton>\n      <MailruShareButton url={url}>\n        <MailruIcon />\n      </MailruShareButton>\n      <OKShareButton url={url}>\n        <OKIcon />\n      </OKShareButton>\n      <PinterestShareButton url={url}>\n        <PinterestIcon />\n      </PinterestShareButton>\n      <PocketShareButton url={url}>\n        <PocketIcon />\n      </PocketShareButton>\n      <RedditShareButton url={url}>\n        <RedditIcon />\n      </RedditShareButton>\n      <TelegramShareButton url={url}>\n        <TelegramIcon />\n      </TelegramShareButton>\n      <TumblrShareButton url={url}>\n        <TumblrIcon />\n      </TumblrShareButton>\n      <TwitterShareButton url={url}>\n        <TwitterIcon />\n      </TwitterShareButton>\n      <ViberShareButton url={url}>\n        <ViberIcon />\n      </ViberShareButton>\n      <VKShareButton url={url}>\n        <VKIcon />\n      </VKShareButton>\n      <WhatsappShareButton url={url}>\n        <WhatsappIcon />\n      </WhatsappShareButton>\n      <WorkplaceShareButton url={url}>\n        <WorkplaceIcon />\n      </WorkplaceShareButton>\n    </div>\n  );\n};\n\nexport const moment = ({ time, format }) => {\n  if (new Date(time).toString() === \"Invalid Date\") {\n    return time;\n  }\n  const options = {\n    year: format.includes(\"YYYY\") ? \"numeric\" : \"2-digit\",\n    month: format.includes(\"MMMM\")\n      ? \"long\"\n      : format.includes(\"MMM\")\n      ? \"short\"\n      : format.includes(\"MM\")\n      ? \"2-digit\"\n      : \"numeric\"\n      ? \"long\"\n      : format.includes(\"ddd\")\n      ? \"short\"\n      : \"narrow\",\n    weekday: format.includes(\"dddd\")\n      ? \"long\"\n      : format.includes(\"ddd\")\n      ? \"short\"\n      : \"narrow\",\n    day: format.includes(\"DD\") ? \"2-digit\" : \"numeric\",\n    hour: format.includes(\"hh\") ? \"2-digit\" : \"numeric\",\n    minute: format.includes(\"mm\") ? \"2-digit\" : \"numeric\",\n    second: format.includes(\"ss\") ? \"2-digit\" : \"numeric\",\n  };\n  const values = {};\n  new Intl.DateTimeFormat(\"en-IN\", options)\n    .formatToParts(new Date(time || new Date()))\n    .map(({ type, value }) => {\n      values[type] = value;\n    });\n  return format\n    .replace(/Y+/g, values.year)\n    .replace(/M+/g, values.month)\n    .replace(/D+/g, values.day)\n    .replace(/h+/g, values.hour)\n    .replace(/m+/g, values.minute)\n    .replace(/s+/g, values.second)\n    .replace(/a+/g, values.dayPeriod)\n    .replace(/d+/g, values.weekday);\n};\nexport const Moment = ({ format, children, ...rest }) => {\n  return <time {...rest}>{moment({ time: children, format })}</time>;\n};\n\nexport const calculatePrice = ({ product, gst, discount }) => {\n  let finalPrice = product.price;\n  if (discount !== false && product.discount?.amount) {\n    finalPrice -= calculateDiscount(product);\n  }\n  if (gst?.verified) {\n    finalPrice += finalPrice * ((product.gst || gst.amount) / 100);\n  }\n  if (gst === true) {\n    finalPrice += finalPrice * (product.gst / 100);\n  }\n  return finalPrice.fix();\n};\nexport const calculateDiscount = ({ discount, price }) => {\n  if (discount?.amount) {\n    if (discount.type === \"flat\") {\n      return (+discount.amount).fix();\n    } else if (discount.type === \"percent\") {\n      return ((+price / 100) * discount.amount).fix();\n    } else {\n      return 0;\n    }\n  } else {\n    return 0;\n  }\n};\nexport const SS = {\n  set: (key, value) => sessionStorage.setItem(key, value),\n  get: (key) => sessionStorage.getItem(key),\n  remove: (key) => sessionStorage.removeItem(key),\n};\nexport const LS = {\n  set: (key, value) => localStorage.setItem(key, value),\n  get: (key) => localStorage.getItem(key),\n  remove: (key) =>\n    key.push\n      ? key.forEach((item) => localStorage.removeItem(item))\n      : localStorage.removeItem(key),\n};\nexport const addToCart = (prev, product, userType) => {\n  if (\n    prev.find((item) =>\n      userType === \"seller\"\n        ? item.product._id === product._id && item.buyer === LS.get(\"buyer\")\n        : item.product._id === product._id\n    )\n  ) {\n    return prev.map((item) => {\n      if (item.product._id === product._id) {\n        return {\n          ...item,\n          qty: item.qty + 1,\n          ...(userType === \"seller\" &&\n            LS.get(\"buyer\") && { buyer: LS.get(\"buyer\") }),\n        };\n      } else {\n        return item;\n      }\n    });\n  } else {\n    return [\n      ...prev,\n      {\n        product,\n        qty: 1,\n        ...(userType === \"seller\" &&\n          LS.get(\"buyer\") && { buyer: LS.get(\"buyer\") }),\n      },\n    ];\n  }\n};\n\nexport const Tip = ({ className, children }) => {\n  return (\n    <Actions\n      className={`${className || \"\"} tip`}\n      wrapperClassName=\"tipWrapper\"\n      icon={<Img src=\"/help.png\" />}\n    >\n      {children}\n    </Actions>\n  );\n};\n","import { useState, useEffect, useContext, useRef, useCallback } from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport {\n  NumberInput,\n  Combobox,\n  Err_svg,\n  FileInput,\n  UploadFiles,\n  Img,\n} from \"./Elements\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from \"./Modal\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport const MilestoneForm = ({\n  action,\n  client,\n  onSuccess,\n  definedAmount,\n  order,\n  refund,\n  strict,\n}) => {\n  const { user, setUser, config } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [addressForm, setAddressForm] = useState(false);\n  const [userDetail, setUserDetail] = useState({ ...user });\n  const [clientDetail, setClientDetail] = useState({ ...client });\n  const [dscr, setDscr] = useState(\"\");\n  const [amount, setAmount] = useState(definedAmount || \"\");\n  const [fee, setFee] = useState(0);\n  const [msg, setMsg] = useState(null);\n  const onTimeout = useRef();\n  const requestMilestone = useCallback(() => {\n    fetch(\"/api/requestMilestone\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        buyer_id: client._id,\n        amount,\n        dscr,\n        order,\n        refund,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.({ ...data });\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not request milestone. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not request milestone. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [clientDetail, userDetail, amount, dscr]);\n  const createMilestone = useCallback(() => {\n    fetch(\"/api/createMilestone\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        seller: { ...clientDetail },\n        amount,\n        dscr,\n        order,\n        refund,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.({ ...data });\n        } else if (data.code === 403) {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Insufficient fund</h4>\n                <Link to=\"/account/profile/wallet\">\n                  Add Money to your wallet now.\n                </Link>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not create milestone. Try again</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not create milestone. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [clientDetail, userDetail, amount, dscr]);\n  useEffect(() => {\n    setFee(() => {\n      return ((+amount / 100) * config.fee).fix();\n    });\n  }, [amount]);\n  return (\n    <>\n      <form\n        className=\"milestonesForm\"\n        onSubmit={(e) => {\n          setLoading(true);\n          e.preventDefault();\n          toast(\n            <div className=\"toast\">\n              Milestone is being{\" \"}\n              {action === \"create\" ? \"created.\" : \"requested.\"}{\" \"}\n              <button\n                className=\"undo\"\n                onClick={() => {\n                  onTimeout.current = null;\n                }}\n              >\n                Undo\n              </button>\n            </div>,\n            {\n              position: \"bottom-center\",\n              autoClose: 8000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              onClose: () => {\n                onTimeout.current?.();\n                setLoading(false);\n              },\n              draggable: true,\n              progress: undefined,\n            }\n          );\n          if (action === \"create\") {\n            onTimeout.current = createMilestone;\n          } else {\n            onTimeout.current = requestMilestone;\n          }\n        }}\n      >\n        <section className=\"transactionDetail\">\n          <section className=\"amount\">\n            <label>Amount</label>\n            <NumberInput\n              readOnly={strict}\n              min={10}\n              defaultValue={definedAmount || 0}\n              required={true}\n              onChange={(e) => setAmount((+e.target.value).toString())}\n            />\n          </section>\n          {amount && (\n            <>\n              {action === \"create\" && (\n                <label className=\"receivable\">\n                  {client.firstName} {client.lastName} will recieve \n                  {(amount - fee).fix()}\n                </label>\n              )}\n              {action === \"request\" && (\n                <label className=\"receivable\">\n                  You will recieve {(amount - fee).fix()}\n                </label>\n              )}\n            </>\n          )}\n          <section>\n            <label>Detail</label>\n            <input\n              value={dscr}\n              required={true}\n              onChange={(e) => setDscr(e.target.value)}\n            />\n          </section>\n          <button type=\"submit\">\n            {action === \"create\" ? \"Create Milestone\" : \"Request Milestone\"}\n          </button>\n        </section>\n        <section className=\"clientDetail\">\n          {action === \"request\" && (\n            <>\n              <Img src={client?.profileImg || \"/profile-user.jpg\"} />\n              <label>Buyer Information</label>\n              <div className=\"detail\">\n                <section className=\"profileDetail\">\n                  <p className=\"name\">\n                    {client?.firstName + \" \" + client?.lastName}\n                  </p>\n                  <p className=\"phone\">{client?.phone}</p>\n                  <p className=\"email\">{client?.email}</p>\n                </section>\n                {client?.address?.street && (\n                  <section className=\"address\">\n                    <p className=\"street\">\n                      {client.address?.street}, {client.address?.city},{\" \"}\n                      {client.address?.zip}\n                    </p>\n                  </section>\n                )}\n              </div>\n            </>\n          )}\n          {action === \"request\" ? null : (\n            <div className=\"sellerInfo\">\n              <Img src={clientDetail?.profileImg || \"/profile-user.jpg\"} />\n              <label>Seller Information</label>\n              <div className=\"detail\">\n                <section className=\"profileDetail\">\n                  <p className=\"name\">\n                    {clientDetail?.firstName} {clientDetail?.lastName}\n                  </p>\n                  <p className=\"phone\">{clientDetail?.phone}</p>\n                  <p className=\"email\">{clientDetail?.email}</p>\n                </section>\n              </div>\n            </div>\n          )}\n        </section>\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport const MilestoneReleaseForm = ({\n  milestone,\n  setReleaseForm,\n  onSuccess,\n}) => {\n  const [amount, setAmount] = useState(milestone.amount);\n  const [msg, setMsg] = useState(null);\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        fetch(\"/api/releaseMilestone\", {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ _id: milestone._id, amount }),\n        })\n          .then((res) => res.json())\n          .then(({ code, milestone }) => {\n            if (milestone) {\n              onSuccess?.(milestone);\n            } else if (code === 403) {\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Err_svg />\n                    <h4>Could not release Milestone due to low balance.</h4>\n                  </div>\n                </>\n              );\n            } else {\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Err_svg />\n                    <h4>Could not release Milestone.</h4>\n                  </div>\n                </>\n              );\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not release Milestone. Make sure you're online.</h4>\n              </div>\n            </>;\n          });\n      }}\n    >\n      You sure want to release this Milestone?\n      {\n        // <label>How much money you want to release?</label>\n        //   <NumberInput\n        //   defaultValue={amount}\n        //   onChange={(e) => setAmount(e.target.value)}\n        // />\n      }\n      <section className=\"btns\">\n        <button type=\"submit\">Confirm</button>\n        <button\n          className=\"cancel\"\n          type=\"button\"\n          onClick={() => setReleaseForm(false)}\n        >\n          Cancel\n        </button>\n      </section>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </form>\n  );\n};\n\nexport const AddressForm = ({ client, onSuccess, onCancel }) => {\n  const [name, setName] = useState(\n    client ? client.name || client.firstName + \" \" + client.lastName : \"\"\n  );\n  const [phone, setPhone] = useState(client?.phone || \"\");\n  const [zip, setZip] = useState(client?.address?.zip || \"\");\n  const [locality, setLocatily] = useState(client?.address?.locality || \"\");\n  const [street, setStreet] = useState(client?.address?.street || \"\");\n  const [city, setCity] = useState(client?.address?.city || \"\");\n  const [state, setState] = useState(client?.address?.state || \"\");\n  const [landmark, setLandmark] = useState(client?.address?.landmark || \"\");\n  const [altPhone, setAltPhone] = useState(client?.address?.altPhone || \"\");\n  return (\n    <form\n      className=\"addressForm\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSuccess?.({\n          address: {\n            name,\n            phone,\n            street,\n            city,\n            state,\n            zip,\n            locality,\n            landmark,\n            altPhone,\n          },\n        });\n      }}\n    >\n      <section>\n        <label htmlFor=\"name\">Full Name</label>\n        <input\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          type=\"text\"\n          name=\"name\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"phone\">Phone Number</label>\n        <input\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          type=\"tel\"\n          name=\"phone\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"zip\">PIN Code</label>\n        <input\n          value={zip}\n          onChange={(e) => setZip(e.target.value)}\n          type=\"number\"\n          name=\"zip\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"locality\">Locality</label>\n        <input\n          value={locality}\n          onChange={(e) => setLocatily(e.target.value)}\n          type=\"text\"\n          name=\"locality\"\n          required={true}\n        />\n      </section>\n      <section className=\"street\">\n        <label htmlFor=\"address\">Address</label>\n        <textarea\n          value={street}\n          onChange={(e) => setStreet(e.target.value)}\n          resiz=\"off\"\n          type=\"text\"\n          name=\"address\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"city\">City</label>\n        <input\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n          type=\"text\"\n          name=\"city\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"state\">State</label>\n        <input\n          value={state}\n          onChange={(e) => setState(e.target.value)}\n          type=\"text\"\n          name=\"state\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"landmark\">Landmark (Optional)</label>\n        <input\n          value={landmark}\n          onChange={(e) => setLandmark(e.target.value)}\n          type=\"text\"\n          name=\"landmark\"\n        />\n      </section>\n      <section>\n        <label htmlFor=\"altPhone\">Alternate Phone (Optional)</label>\n        <input\n          value={altPhone}\n          onChange={(e) => setAltPhone(e.target.value)}\n          type=\"tel\"\n          name=\"altPhone\"\n        />\n      </section>\n      <button className=\"save\">Save</button>\n      <button className=\"cancel\" type=\"button\" onClick={() => onCancel?.()}>\n        Cancel\n      </button>\n      <section className=\"pBtm\" />\n    </form>\n  );\n};\n\nexport const DisputeForm = ({ milestone, setDisputeForm, onSuccess }) => {\n  const [issue, setIssue] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [dscr, setDscr] = useState(\"\");\n  const [caseFiles, setCaseFiles] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = caseFiles.length\n      ? await UploadFiles({\n          files: caseFiles,\n          setMsg,\n        })\n      : [];\n    fetch(\"/api/fileDispute\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        issue,\n        milestoneId: milestone._id,\n        defendantId: milestone.client._id,\n        _case: { dscr, files: fileLinks },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.milestone);\n        } else if (data.code === 403) {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>\n                  Insufficient fund! you have to have 500 in your wallet to\n                  file a dispute.\n                </h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not file dispute.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(true);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not file dispute. make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form className=\"disputeForm\" onSubmit={submit}>\n        <h4>You feel like you are getting scammed?</h4>\n        <section>\n          <label htmlFor=\"issue\">Issue</label>\n          <Combobox\n            name=\"issue\"\n            options={\n              milestone.role === \"buyer\"\n                ? [\n                    {\n                      label: \"Buyer Not Releasing Payments\",\n                      value: \"Buyer Not Releasing Payments\",\n                    },\n                  ]\n                : [\n                    {\n                      label: \"Goods Not Received\",\n                      value: \"Goods Not Received\",\n                    },\n                    {\n                      label: \"Services Not Received\",\n                      value: \"Services Not Received\",\n                    },\n                    {\n                      label: \"Damaged\",\n                      value: \"Damaged\",\n                    },\n                    {\n                      label: \"Not As Agreed\",\n                      value: \"Not As Agreed\",\n                    },\n                    {\n                      label: \"Not As Displayed\",\n                      value: \"Not As Displayed\",\n                    },\n                  ]\n            }\n            onChange={(e) => {\n              setIssue(e.value);\n            }}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"description\">Description</label>\n          <TextareaAutosize\n            name=\"description\"\n            value={dscr}\n            required={true}\n            onChange={(e) => setDscr(e.target.value)}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"for\">\n            Upload images to prove your case. ie: Product of image, proof of\n            delivery.\n          </label>\n          <FileInput\n            multiple={true}\n            accept=\"audio/*,video/*,image/*\"\n            onChange={(e) => setCaseFiles(e)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n          <button className=\"cancel\" type=\"button\">\n            Cancel\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nexport const TicketForm = ({ onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const [issue, setIssue] = useState(\"\");\n  const [milestone, setMilestone] = useState(\"\");\n  const [transaction, setTransaction] = useState(\"\");\n  const [files, setFiles] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = files.length ? await UploadFiles({ files, setMsg }) : [];\n    fetch(\"/api/openTicket\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        issue,\n        milestone,\n        transaction,\n        message: {\n          body: message,\n          files: fileLinks,\n        },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.ticket);\n        } else if (data.message === \"milestone ID is invalid\") {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Milestone Id is invalid.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Ticket could not be submitted.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Ticket could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form className=\"ticketForm\" onSubmit={submit}>\n        <section>\n          <label>Issue</label>\n          <input\n            value={issue}\n            required={true}\n            onChange={(e) => setIssue(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Milestone ID (optional)</label>\n          <input\n            value={milestone}\n            onChange={(e) => setMilestone(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Transaction ID (optional)</label>\n          <input\n            value={transaction}\n            onChange={(e) => setTransaction(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Detail</label>\n          <TextareaAutosize\n            required={true}\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"for\">Upload relevant files (optional)</label>\n          <FileInput onChange={(files) => setFiles(files)} />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n          <button className=\"cancel\" type=\"button\">\n            Cancel\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport const TicketReplyForm = ({ _id, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = files.length ? await UploadFiles({ files, setMsg }) : [];\n    fetch(\"/api/addTicketReply\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id,\n        message: { body: message, files: fileLinks },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.ticket);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Reply could not be submitted.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Reply could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form className=\"ticketReplyForm\" onSubmit={submit}>\n        <section>\n          <label>Message</label>\n          <TextareaAutosize\n            required={true}\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"for\">Upload relevant files (optional)</label>\n          <FileInput\n            accept=\"audio/*,video/*,image/*\"\n            multiple={true}\n            onChange={(files) => setFiles(files)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n          <button className=\"cancel\" type=\"button\">\n            Cancel\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport {\n  X_svg,\n  Combobox,\n  Err_svg,\n  Succ_svg,\n  calculatePrice,\n  calculateDiscount,\n  Minus_svg,\n  Plus_svg,\n  addToCart,\n  Header,\n  Footer,\n  Tip,\n  Cart_svg,\n  Img,\n  Moment,\n  useOnScreen,\n  Arrow_left_svg,\n  LS,\n  ShareButtons,\n} from \"./Elements\";\nimport { AddressForm } from \"./Forms\";\nimport { SiteContext, ChatContext, socket } from \"../SiteContext\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Modal, Confirm } from \"./Modal\";\nimport { Chat } from \"./Deals\";\nimport queryString from \"query-string\";\nimport { toast } from \"react-toastify\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nconst Helmet = lazy(() => import(\"react-helmet\"));\nconst MilestoneForm = lazy(() =>\n  import(\"./Forms\").then((mod) => ({ default: mod.MilestoneForm }))\n);\n\nrequire(\"./styles/marketplace.scss\");\n\nconst Marketplace = ({ history, location, match }) => {\n  const { userType } = useContext(SiteContext);\n  const [nativeShare, setNativeShare] = useState(false);\n  const [share, setShare] = useState(false);\n  const [loadingRef, loadingVisible] = useOnScreen({ rootMargin: \"100px\" });\n  const sortOptions = useRef([\n    {\n      label: \"Newest first\",\n      value: { column: \"createdAt\", order: \"dsc\" },\n    },\n    {\n      label: \"Oldest first\",\n      value: { column: \"createdAt\", order: \"asc\" },\n    },\n    {\n      label: \"Price high-low\",\n      value: { column: \"price\", order: \"dsc\" },\n    },\n    {\n      label: \"Price low-high\",\n      value: { column: \"price\", order: \"asc\" },\n    },\n  ]);\n  const [categories, setCategories] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [type, setType] = useState(\n    queryString.parse(location.search).type || \"\"\n  );\n  const [perPage, setPerPage] = useState(\n    queryString.parse(location.search).perPage || 20\n  );\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState(\n    queryString.parse(location.search).q || \"\"\n  );\n  const [sort, setSort] = useState({\n    column: queryString.parse(location.search).sort || \"createdAt\",\n    order: queryString.parse(location.search).order || \"dsc\",\n  });\n  const [products, setProducts] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const [category, setCategory] = useState(\"\");\n  const [seller, setSeller] = useState(\n    queryString.parse(location.search).seller\n  );\n  const [sellerDetail, setSellerDetail] = useState(null);\n  const [buyerDetail, setBuyerDetail] = useState(null);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [chatOpen, setChatOpen] = useState(false);\n  const loadMore = () => {\n    setLoadingMore(true);\n    fetch(`/api/getProducts${location.search}&page=${page + 1}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setLoadingMore(false);\n        if (data.code === \"ok\") {\n          if (data.products.length) {\n            setProducts((prev) => [...prev, ...data.products]);\n            setPage((prev) => prev + 1);\n          } else {\n          }\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not get products. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoadingMore(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get products. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    fetch(`/api/getProducts?${location.search.replace(\"?\", \"\")}&page=${1}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setTotal(data.total);\n          setProducts(data.products);\n          if (data.seller) {\n            setSellerDetail(data.seller);\n            if (data.categories) {\n              setCategories(data.categories);\n            }\n          } else {\n            setSellerDetail(null);\n          }\n          if (data.buyer) {\n            setBuyerDetail(data.buyer);\n          } else {\n            setBuyerDetail(null);\n          }\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not get products. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err, 156);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get products. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [location.search]);\n  useEffect(() => {\n    history.replace({\n      pathname: history.location.pathname,\n      search:\n        \"?\" +\n        new URLSearchParams({\n          ...(seller && { seller }),\n          ...(search.length >= 4 && { q: search }),\n          perPage,\n          sort: sort.column,\n          order: sort.order,\n          ...(type && { type }),\n          ...(category && { category }),\n          ...(userType === \"seller\" &&\n            LS.get(\"buyer\") && { buyer: LS.get(\"buyer\") }),\n        }).toString(),\n    });\n  }, [page, search, sort, seller, type, category]);\n  useEffect(() => {\n    if (loadingVisible && total > products.length) {\n      loadMore();\n    }\n  }, [loadingVisible]);\n  useEffect(() => {\n    if (navigator.share) {\n      setNativeShare(true);\n    }\n  }, []);\n  return (\n    <div className={`generic marketplace ${chatOpen ? \"chatOpen\" : \"\"}`}>\n      <Header />\n      <div style={{ display: \"none\" }}>\n        <X_svg />\n      </div>\n      <div className=\"benner\">\n        <h1>Delivery Pay Marketplace</h1>\n      </div>\n      <div className=\"content\">\n        <div className=\"mainContent\">\n          {sellerDetail && (\n            <div className=\"sellerDetail\">\n              {sellerDetail?.shopInfo?.logo && (\n                <Img className=\"logo\" src={sellerDetail.shopInfo.logo} />\n              )}\n              <p>\n                {sellerDetail.shopInfo?.name ||\n                  sellerDetail.firstName + \" \" + sellerDetail.lastName}\n              </p>\n            </div>\n          )}\n          <div className=\"filters\">\n            <section className=\"categories\">\n              <label>Category</label>\n              <Combobox\n                defaultValue={0}\n                options={[\n                  { label: \"All\", value: \"\" },\n                  ...categories.map((item) => ({ label: item, value: item })),\n                ]}\n                onChange={(e) => {\n                  setCategory(e.value);\n                }}\n              />\n            </section>\n            <section className=\"search\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"23\"\n                height=\"23\"\n                viewBox=\"0 0 23 23\"\n              >\n                <path\n                  id=\"Icon_ionic-ios-search\"\n                  data-name=\"Icon ionic-ios-search\"\n                  d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n                  transform=\"translate(-4.5 -4.493)\"\n                  fill=\"#707070\"\n                  opacity=\"0.74\"\n                />\n              </svg>\n              <input\n                value={search}\n                onChange={(e) => {\n                  setSearch(e.target.value);\n                }}\n                placeholder=\"Search for products or services\"\n              />\n              {search && (\n                <button onClick={() => setSearch(\"\")}>\n                  <X_svg />\n                </button>\n              )}\n            </section>\n            <section className=\"sort\">\n              <label>Sort by:</label>\n              <Combobox\n                defaultValue={sortOptions.current.find(\n                  (item) =>\n                    item.value.column === sort.column &&\n                    item.value.order === sort.order\n                )}\n                options={sortOptions.current}\n                onChange={(e) => setSort(e.value)}\n              />\n            </section>\n            {nativeShare && (\n              <section className=\"share\">\n                <button\n                  onClick={async () => {\n                    setShare(true);\n                    // try {\n                    //   await navigator.share({\n                    //     title: `Delivery Pay | ${\n                    //       sellerDetail\n                    //         ? `${\n                    //             sellerDetail.firstName +\n                    //             \" \" +\n                    //             sellerDetail.lastName\n                    //           }`\n                    //         : \"Marketplace\"\n                    //     }`,\n                    //     url: window.location.href,\n                    //   });\n                    // } catch (err) {}\n                  }}\n                >\n                  Share this page\n                </button>\n              </section>\n            )}\n          </div>\n          <div className={`products ${products.length === 0 ? \"empty\" : \"\"}`}>\n            {products.map((item) => (\n              <Product key={item._id} data={item} />\n            ))}\n            {total > products.length && (\n              <div className=\"placeholder\">Loading</div>\n            )}\n            {products.length === 0 && (\n              <div className=\"placeholder\">\n                <Img src=\"/open_box.png\" />\n                <p>No Product Found</p>\n              </div>\n            )}\n          </div>\n        </div>\n        <Modal\n          open={share}\n          setOpen={setShare}\n          label=\"Share this page\"\n          head={true}\n          className=\"shareModal\"\n        >\n          <ShareButtons url={window.location.href} />\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n      <div ref={loadingRef} />\n      {sellerDetail && (\n        <MiniChat\n          client={userType === \"seller\" ? buyerDetail : sellerDetail}\n          onToggle={setChatOpen}\n        />\n      )}\n      <Footer />\n    </div>\n  );\n};\n\nconst MiniChat = ({ client, onToggle }) => {\n  const { user } = useContext(SiteContext);\n  const { contacts, setContacts } = useContext(ChatContext);\n  const [open, setOpen] = useState(false);\n  const [userCard, setUserCard] = useState(null);\n  const [chat, setChat] = useState(null);\n  useEffect(() => {\n    if (user && client) {\n      const clientChat = contacts.find(\n        (contact) => contact.client._id === client._id\n      );\n      if (clientChat) {\n        setUserCard({\n          ...clientChat.client,\n          status: clientChat.userBlock ? \"blocked\" : \"\",\n        });\n        setChat(clientChat.messages);\n        socket.emit(\"initiateChat\", {\n          client_id: client._id,\n          ...(clientChat.messages === undefined && { newChat: true }),\n        });\n      }\n    }\n  }, [client, contacts]);\n  useEffect(() => {\n    onToggle?.(open);\n  }, [open]);\n  if (!client) {\n    return null;\n  }\n  if (!open) {\n    return (\n      <button\n        className=\"chatBtn\"\n        onClick={() => {\n          if (user && !userCard) {\n            const clientChat = contacts.find(\n              (contact) => contact.client._id === client._id\n            );\n            console.log(clientChat);\n            if (clientChat) {\n              setUserCard({\n                ...clientChat.client,\n                status: clientChat.userBlock ? \"blocked\" : \"\",\n              });\n\n              setChat(clientChat.messages);\n              socket.emit(\"initiateChat\", {\n                client_id: client._id,\n                ...(clientChat.messages === undefined && { newChat: true }),\n              });\n            } else {\n              setContacts((prev) => [\n                ...prev,\n                { client, messages: [], status: \"\" },\n              ]);\n              socket.emit(\"initiateChat\", {\n                client_id: client._id,\n                newChat: true,\n              });\n            }\n          }\n          setOpen(true);\n        }}\n      >\n        {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"26.55\"\n            height=\"25.219\"\n            viewBox=\"0 0 26.55 25.219\"\n          >\n            <path\n              id=\"Path_1\"\n              data-name=\"Path 1\"\n              d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n              transform=\"translate(255.198 195.071)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        }\n      </button>\n    );\n  }\n  if (!user) {\n    return (\n      <div className=\"chatWrapper\">\n        <button className=\"closeChat\" onClick={() => setOpen(false)}>\n          <Arrow_left_svg />\n        </button>\n        <div className=\"chat\">\n          <div className=\"startChat\">\n            <Link to=\"/u/login\">\n              <p>Login to start chat with this seller.</p>\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"chatWrapper\">\n      <button className=\"closeChat\" onClick={() => setOpen(false)}>\n        <Arrow_left_svg />\n      </button>\n      <Chat\n        chat={chat}\n        setContacts={setContacts}\n        userCard={userCard}\n        setUserCard={setUserCard}\n        user={user}\n        setChat={setChat}\n      />\n    </div>\n  );\n};\n\nconst Product = ({ data }) => {\n  const { user, userType, setCart, setSellerCart } = useContext(SiteContext);\n  let finalPrice = calculatePrice({ product: data, gst: data.user?.gst });\n  return (\n    <div className=\"product\">\n      <Link to={`/marketplace/${data._id}`}>\n        <div className={`thumb ${data.images[0] ? \"\" : \"noThumb\"}`}>\n          <Img src={data.images[0] || \"/open_box.png\"} />\n        </div>\n      </Link>\n      <div className=\"detail\">\n        <h3>{data.name}</h3>\n        <p className=\"dscr\">{data.dscr}</p>\n        <div className=\"price\">\n          <span className=\"symbol\"> </span>\n          {finalPrice}{\" \"}\n          {finalPrice !==\n            calculatePrice({\n              product: data,\n              gst: data.user.gst,\n              discount: false,\n            }) && (\n            <span className=\"originalPrice\">\n              {calculatePrice({\n                product: data,\n                gst: data.user?.gst,\n                discount: false,\n              })}\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"actions\">\n        {userType === \"buyer\" && data?.user._id === user?._id && (\n          <p className=\"note\">Can't buy product from self.</p>\n        )}\n        <button\n          disabled={\n            !data.available ||\n            (data?.user._id === user?._id && userType === \"buyer\")\n          }\n          onClick={() => {\n            data?.user._id === user?._id\n              ? setSellerCart((prev) => addToCart(prev, data, \"seller\"))\n              : setCart((prev) => addToCart(prev, data));\n          }}\n        >\n          {data?.user._id === user?._id ? \"Add to order\" : \"Add to Cart\"}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport const SingleProduct = ({ match }) => {\n  const { user, setCart, setSellerCart, userType } = useContext(SiteContext);\n  const [nativeShare, setNativeShare] = useState(false);\n  const [share, setShare] = useState(false);\n  const [product, setProduct] = useState(null);\n  const [msg, setMsg] = useState(null);\n  const [chatOpen, setChatOpen] = useState(false);\n  useEffect(() => {\n    fetch(`/api/singleProduct?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setProduct(data.product);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Product does not exists.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get product. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n    if (navigator.share) {\n      setNativeShare(true);\n    }\n  }, []);\n  if (product) {\n    return (\n      <>\n        <Helmet>\n          <title>{product.name} | Delivery Pay</title>\n          <meta name=\"description\" content={product.dscr} />\n          <meta\n            property=\"og:url\"\n            content={`https://deliverypay.in/marketplace/${product._id}`}\n          />\n          <meta property=\"og:type\" content=\"product\" />\n          <meta\n            property=\"og:title\"\n            content={`${product.name} | Delivery Pay`}\n          />\n          <meta property=\"og:description\" content={product.dscr} />\n          <meta property=\"og:image\" content={product.images[0]} />\n        </Helmet>\n        <div className={`generic singleProduct ${chatOpen ? \"chatOpen\" : \"\"}`}>\n          <Header />\n          <div className=\"content\">\n            <Gallery images={product.images} />\n            <div className=\"detail\">\n              <h1>{product.name}</h1>\n              <p>{product.dscr}</p>\n              <p className=\"price\">\n                <label>Price: </label> <span className=\"symbol\"></span>\n                {calculatePrice({ product, gst: product.user?.gst })}{\" \"}\n                {calculatePrice({ product, gst: product.user?.gst }) !==\n                  calculatePrice({\n                    product,\n                    gst: product.user?.gst,\n                    discount: false,\n                  }) && (\n                  <span className=\"originalPrice\">\n                    {calculatePrice({\n                      product,\n                      gst: product.user?.gst,\n                      discount: false,\n                    })}\n                  </span>\n                )}\n              </p>\n              {\n                //   product.user?.gst?.verified && (\n                //   <p className=\"gst\">\n                //     Including {product.gst || product.user.gst.amount}% GST\n                //   </p>\n                // )\n              }\n              <p>\n                {product.type === \"product\" && (\n                  <>\n                    Available: {product.available && product.available}{\" \"}\n                    {product.available === 0 && <>Out of stock</>}\n                    {product.available < 7 && product.available > 0 && (\n                      <>Low stock</>\n                    )}\n                  </>\n                )}\n                {product.type !== \"product\" && (\n                  <>\n                    Availability:{\" \"}\n                    {product.available ? \"Available\" : \"Unavailable\"}\n                  </>\n                )}\n              </p>\n              <div className=\"actions\">\n                <button\n                  disabled={\n                    !product.available ||\n                    (userType === \"buyer\" && product.user?._id === user?._id)\n                  }\n                  onClick={() => {\n                    product?.user?._id === user?._id\n                      ? setSellerCart((prev) =>\n                          addToCart(prev, product, \"seller\")\n                        )\n                      : setCart((prev) => addToCart(prev, product));\n                  }}\n                >\n                  {product?.user?._id === user?._id\n                    ? \"Add to order\"\n                    : \"Add to Cart\"}\n                </button>\n                <button\n                  onClick={async () => {\n                    setShare(true);\n                    // try {\n                    //   await navigator.share({\n                    //     title: `${product.name} | Delivery Pay`,\n                    //     url: window.location.href,\n                    //   });\n                    // } catch (err) {}\n                  }}\n                >\n                  Share this Product\n                </button>\n                {userType === \"seller\" && product?.user?._id !== user?._id && (\n                  <p className=\"note\">\n                    Switch to buyer profile to buy this product.\n                  </p>\n                )}\n                {userType === \"buyer\" && product?.user?._id === user?._id && (\n                  <p className=\"note\">Can't buy product from self.</p>\n                )}\n              </div>\n              {product.user && (\n                <div className=\"seller\">\n                  <label>Being sold by:</label>\n                  <Link to={`/marketplace?seller=${product.user._id}`}>\n                    <div className=\"profile\">\n                      {product.user.shopInfo?.logo && (\n                        <Img src={product.user.shopInfo?.logo} />\n                      )}\n                      {product.user.shopInfo?.name ? (\n                        <p className=\"name\">{product.user.shopInfo.name}</p>\n                      ) : (\n                        <p className=\"name\">\n                          {product.user.firstName} {product.user.lastName}\n                        </p>\n                      )}\n                    </div>\n                  </Link>\n                </div>\n              )}\n            </div>\n            <Modal\n              open={share}\n              setOpen={setShare}\n              label=\"Share this page\"\n              head={true}\n              className=\"shareModal\"\n            >\n              <ShareButtons url={window.location.href} />\n            </Modal>\n            <Modal className=\"msg\" open={msg}>\n              {msg}\n            </Modal>\n          </div>\n          {product && (\n            <MiniChat\n              client={\n                userType === \"seller\" ? { _id: LS.get(\"buyer\") } : product.user\n              }\n              onToggle={setChatOpen}\n            />\n          )}\n          <Footer />\n        </div>\n      </>\n    );\n  }\n  return (\n    <div className={`generic singleProduct ${chatOpen ? \"chatOpen\" : \"\"}`}>\n      <Header />\n      loading\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Footer />\n    </div>\n  );\n};\n\nconst Gallery = ({ images }) => {\n  const [view, setView] = useState(images[0]);\n  return (\n    <div className=\"gallery\">\n      <ImageView img={view} />\n      <div className=\"thumbs\">\n        {images.map((item, i) => (\n          <Img key={i} src={item} onClick={() => setView(item)} />\n        ))}\n        {images.length === 0 && <p>No image was provided by the seller.</p>}\n      </div>\n    </div>\n  );\n};\n\nconst ImageView = ({ img }) => {\n  const [src, setSrc] = useState(img || \"/open_box.png\");\n  const [boundingBody, setBoundingBody] = useState(null);\n  const [applyStyle, setApplyStyle] = useState(false);\n  const [style, setStyle] = useState({});\n  const container = useRef();\n  useEffect(() => {\n    setSrc(img || \"/open_box.png\");\n  }, [img]);\n  return (\n    <div\n      ref={container}\n      className={`mainView ${!img ? \"noImg\" : \"\"}`}\n      onMouseMove={(e) => {\n        if (img) {\n          const x =\n            Math.abs(\n              Math.round(\n                (e.clientX - boundingBody?.x) / (boundingBody?.width / 100)\n              )\n            ) * 0.65;\n          const y =\n            Math.round(\n              (e.clientY - boundingBody?.y) / (boundingBody?.height / 100)\n            ) * 0.65;\n          setStyle({\n            transform: `scale(2) translateY(${Math.max(\n              30 + -y,\n              -30\n            )}%) translateX(${Math.max(30 + -x, -30)}%)`,\n          });\n        }\n      }}\n      onTouchStart={(e) => {\n        document.querySelector(\"body\").style.overflow = \"hidden\";\n        setBoundingBody(container.current?.getBoundingClientRect());\n        setApplyStyle(true);\n      }}\n      onTouchEnd={(e) => {\n        document.querySelector(\"body\").style.overflow = \"auto\";\n        setApplyStyle(false);\n      }}\n      onTouchMove={(e) => {\n        if (img) {\n          const x =\n            Math.abs(\n              Math.round(\n                (e.touches[0].clientX - boundingBody.x) /\n                  (boundingBody.width / 100)\n              )\n            ) * 0.65;\n          const y =\n            Math.round(\n              (e.touches[0].clientY - boundingBody.y) /\n                (boundingBody.height / 100)\n            ) * 0.65;\n          setStyle({\n            transform: `scale(2) translateY(${Math.max(\n              30 + -y,\n              -30\n            )}%) translateX(${Math.max(30 + -x, -30)}%)`,\n            transition: \"none\",\n          });\n        }\n      }}\n      onMouseEnter={() => {\n        setApplyStyle(true);\n        setBoundingBody(container.current?.getBoundingClientRect());\n      }}\n      onMouseLeave={() => setApplyStyle(false)}\n    >\n      <img\n        className={applyStyle ? \"scale\" : \"\"}\n        style={applyStyle ? style : {}}\n        src={src}\n        onError={() => setSrc(\"/img_err.png\")}\n      />\n    </div>\n  );\n};\n\nexport const Cart = () => {\n  const { setCart, cart, userType } = useContext(SiteContext);\n  const [loading, setLoading] = useState(true);\n  const [carts, setCarts] = useState(null);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"/api/getCartDetail\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        cart,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          setCarts(data.carts);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get cart detail. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [cart]);\n  if (carts) {\n    return (\n      <div className=\"fullCart\">\n        {userType === \"seller\" && <Redirect to=\"/account/sellerCart\" />}\n        <div className=\"head\">\n          <h1>Cart</h1>\n        </div>\n        <div className=\"allCarts\">\n          {carts.map(({ seller, products }) =>\n            seller && products?.length ? (\n              <Shop\n                key={seller._id}\n                seller={seller}\n                products={products}\n                loading={loading}\n              />\n            ) : null\n          )}\n          {carts?.length === 0 && <p>Cart is empty</p>}\n        </div>\n        <Modal open={msg} className=\"msg\">\n          {msg}\n        </Modal>\n      </div>\n    );\n  }\n  return (\n    <div className=\"fullCart\">\n      {userType === \"seller\" && <Redirect to=\"/account/sellerCart\" />}\n      <div className=\"head\">\n        <h1>Cart</h1>\n      </div>\n      <div className=\"allCarts\">Cart is empty.</div>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </div>\n  );\n};\nexport const SellerCart = () => {\n  const { sellerCart, setSellerCart, userType } = useContext(SiteContext);\n  const [loading, setLoading] = useState(true);\n  const [carts, setCarts] = useState(null);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"/api/getSellerCartDetail\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ cart: sellerCart }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          setCarts(data.carts);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get cart detail. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [sellerCart]);\n  if (carts) {\n    return (\n      <div className=\"fullCart\">\n        {userType === \"buyer\" && <Redirect to=\"/account/cart\" />}\n        <div className=\"head\">\n          <h1>Create Orders</h1>\n        </div>\n        <div className=\"allCarts\">\n          {carts.map(({ buyer, products }) =>\n            buyer && products?.length ? (\n              <SellerShop\n                key={buyer._id}\n                buyer={buyer}\n                products={products}\n                loading={loading}\n              />\n            ) : null\n          )}\n          {carts?.length === 0 && <p>Cart is empty</p>}\n        </div>\n        <Modal open={msg} className=\"msg\">\n          {msg}\n        </Modal>\n      </div>\n    );\n  }\n  return (\n    <div className=\"fullCart\">\n      {userType === \"buyer\" && <Redirect to=\"/account/cart\" />}\n      <div className=\"head\">\n        <h1>Create Orders</h1>\n      </div>\n      <div className=\"allCarts\">Cart is empty.</div>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Shop = ({ seller, products, loading }) => {\n  const { user, setCart, config } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [deliveryDetail, setDeliveryDetail] = useState({\n    name: user.firstName + \" \" + user.lastName,\n    phone: user.phone,\n  });\n  const [addressForm, setAddressForm] = useState(false);\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [showTerms, setShowTerms] = useState(false);\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [validCoupon, setValidCoupon] = useState(false);\n  const [couponCodeForm, setCouponCodeForm] = useState(false);\n  const [note, setNote] = useState(\"\");\n  const productPrice = products.reduce(\n    (a, c) =>\n      (\n        a +\n        calculatePrice({ product: c.product, gst: seller.gst }) * c.qty\n      ).fix(),\n    0\n  );\n  const couponCodeDiscount =\n    (validCoupon?.type === \"percent\" &&\n      Math.min(\n        (productPrice / 100) * validCoupon.amount,\n        validCoupon.maxDiscount\n      )) ||\n    (validCoupon?.type === \"flat\" && validCoupon?.amount) ||\n    0;\n  const total =\n    +(productPrice - couponCodeDiscount) +\n    (seller.shopInfo?.shippingCost || 0).fix();\n  const fee = (total * ((100 + config.fee) / 100) - total).fix();\n  return (\n    <>\n      <div className=\"shop\">\n        <div className=\"seller\">\n          <div className=\"profile\">\n            {seller.shopInfo?.logo && <Img src={seller.shopInfo?.logo} />}\n            <p className=\"name\">\n              {seller.shopInfo?.name ||\n                seller.firstName + \" \" + seller.lastName}{\" \"}\n               <span className=\"role\">Seller</span>\n              <span className=\"contact\">\n                {seller.shopInfo?.phone || seller.phone}\n              </span>\n            </p>\n          </div>\n        </div>\n        <div className=\"cart\">\n          <ul className=\"items\">\n            {products.map(({ product, qty }, i) => (\n              <CartItem key={i} gst={seller.gst} product={product} qty={qty} />\n            ))}\n            <div className=\"total\">\n              <p>\n                <label>Total</label>{productPrice}\n              </p>\n              <hr />\n              <div className=\"coupon\">\n                {!validCoupon ? (\n                  <label>Coupon</label>\n                ) : (\n                  <label>\n                    Coupon Code {validCoupon.code}\n                    <br />\n                    Discount{\" \"}\n                    {validCoupon.type === \"percent\" ? (\n                      <>\n                        {validCoupon.amount}% (Upto {validCoupon.maxDiscount})\n                      </>\n                    ) : (\n                      <>flat</>\n                    )}\n                  </label>\n                )}\n                {!couponCodeForm && !validCoupon && (\n                  <button onClick={() => setCouponCodeForm(true)}>\n                    Add Coupon\n                  </button>\n                )}\n                {validCoupon && <span>{couponCodeDiscount}</span>}\n                {couponCodeForm && (\n                  <form\n                    onSubmit={(e) => {\n                      e.preventDefault();\n                      fetch(`/api/getCoupon/${couponCode}`)\n                        .then((res) => res.json())\n                        .then(({ code, coupon }) => {\n                          if (code === \"ok\") {\n                            if (\n                              !coupon.sellers ||\n                              coupon.sellers?.filter(\n                                (_id) => _id === seller._id\n                              ).length === 0\n                            ) {\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      This seller does not accept this coupon\n                                      code.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            } else if (total < coupon.threshold) {\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      Coupon code {couponCode} can only be\n                                      applied on order more that \n                                      {coupon.threshold}.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            } else if (coupon.usage >= coupon.validPerUser) {\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      Each user can use this Coupon{\" \"}\n                                      {coupon.validPerUser} times.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            } else {\n                              setValidCoupon(coupon);\n                              setCouponCodeForm(false);\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Succ_svg />\n                                    <h4>\n                                      Coupon code {couponCode} has been applied.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            }\n                          } else {\n                            setMsg(\n                              <>\n                                <button onClick={() => setMsg(null)}>\n                                  Okay\n                                </button>\n                                <div>\n                                  <Err_svg />\n                                  <h4>Invalid Coupon code.</h4>\n                                </div>\n                              </>\n                            );\n                          }\n                        })\n                        .catch((err) => {\n                          console.log(err);\n                          setMsg(\n                            <>\n                              <button onClick={() => setMsg(null)}>Okay</button>\n                              <div>\n                                <Err_svg />\n                                <h4>\n                                  Could not apply Coupon code. Make sure you're\n                                  online.\n                                </h4>\n                              </div>\n                            </>\n                          );\n                        });\n                    }}\n                  >\n                    <input\n                      required={true}\n                      value={couponCode}\n                      onBlur={(e) => {\n                        if (!couponCode) {\n                          setCouponCodeForm(false);\n                        }\n                      }}\n                      onChange={(e) =>\n                        setCouponCode(e.target.value.toUpperCase())\n                      }\n                    />\n                    <button>Apply</button>\n                  </form>\n                )}\n              </div>\n              <hr />\n              <p>\n                <label>Shipping</label>{seller.shopInfo?.shippingCost}\n              </p>\n              <p>\n                <label>Delivery Pay Fee {config.fee}%</label>{fee}\n              </p>\n              <hr />\n              <p>\n                <label>Grand total</label>{(total + fee).fix()}\n              </p>\n              {\n                //   <span className=\"note\">\n                //   All tax and fee inclued.\n                //   <Tip>\n                //     Seller specified GST TAX and 10% Delivery Pay Fee applies to\n                //     all orders.\n                //   </Tip>\n                // </span>\n              }\n            </div>\n            <div className=\"terms\">\n              <p>\n                <label>Refundable: </label>\n                {seller.shopInfo?.refundable || \"N/A\"}\n              </p>\n              <p>\n                By proceeding, I agree to seller's all{\" \"}\n                <span className=\"btn\" onClick={() => setShowTerms(true)}>\n                  Terms\n                </span>\n              </p>\n            </div>\n          </ul>\n          <span className=\"devider\" />\n          <div className=\"deliveryDetail\">\n            <div className=\"head\">\n              <h3>Delivery Information</h3>\n              <button onClick={() => setAddressForm(true)}>Edit</button>\n            </div>\n            <ul>\n              {Object.entries(deliveryDetail).map(([key, value], i) => (\n                <li key={i}>\n                  <label>{key}</label>\n                  {value}\n                </li>\n              ))}\n            </ul>\n            <div className=\"head\">\n              <h3>Note to Seller</h3>\n            </div>\n            <TextareaAutosize\n              value={note}\n              onChange={(e) => setNote(e.target.value)}\n            />\n          </div>\n        </div>\n        <div className=\"actions\">\n          <button onClick={() => setMilestoneForm(true)}>Place order</button>\n        </div>\n        <Modal\n          open={addressForm}\n          head={true}\n          label=\"Delivery Address\"\n          setOpen={setAddressForm}\n          className=\"addAddress\"\n        >\n          <AddressForm\n            client={{\n              name: deliveryDetail.name,\n              phone: deliveryDetail.phone,\n              address: deliveryDetail,\n            }}\n            onSuccess={(data) => {\n              setDeliveryDetail((prev) => ({ ...prev, ...data.address }));\n              setAddressForm(false);\n            }}\n            onCancel={() => setAddressForm(false)}\n          />\n        </Modal>\n        <Modal\n          className=\"milestoneRequest\"\n          head={true}\n          label=\"Checkout\"\n          open={milestoneForm}\n          setOpen={setMilestoneForm}\n        >\n          <MilestoneForm\n            action=\"create\"\n            client={seller}\n            definedAmount={total + fee}\n            order={{\n              products,\n              deliveryDetail: {\n                ...deliveryDetail,\n                deliveryWithin: seller.shopInfo?.deliveryWithin,\n              },\n              ...(note && { note }),\n              ...(validCoupon && { couponCode: validCoupon?.code }),\n            }}\n            onSuccess={({ milestone, order }) => {\n              setCart((prev) =>\n                prev.filter(({ product }) => {\n                  return !order.products.some(\n                    (order) => order.product._id === product._id\n                  );\n                })\n              );\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>Order successfully submitted.</h4>\n                    <Link to=\"/account/myShopping/orders\">View All orders</Link>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n        <Modal\n          open={showTerms}\n          setOpen={setShowTerms}\n          head={true}\n          label=\"Seller's Terms\"\n          className=\"shopTerms\"\n        >\n          <ul>\n            {seller.shopInfo?.terms?.map((item, i) => (\n              <li key={i}>{item}</li>\n            ))}\n          </ul>\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n    </>\n  );\n};\nconst SellerShop = ({ buyer, products, loading }) => {\n  const { user, setSellerCart, config } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [deliveryDetail, setDeliveryDetail] = useState({\n    name: buyer.firstName + \" \" + buyer.lastName,\n    phone: buyer.phone,\n  });\n  const [addressForm, setAddressForm] = useState(false);\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [showTerms, setShowTerms] = useState(false);\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [validCoupon, setValidCoupon] = useState(false);\n  const [couponCodeForm, setCouponCodeForm] = useState(false);\n  const [note, setNote] = useState(\"\");\n  const productPrice = products.reduce(\n    (a, c) =>\n      (a + calculatePrice({ product: c.product, gst: user.gst }) * c.qty).fix(),\n    0\n  );\n  const couponCodeDiscount =\n    (validCoupon?.type === \"percent\" &&\n      Math.min(\n        (productPrice / 100) * validCoupon.amount,\n        validCoupon.maxDiscount\n      )) ||\n    (validCoupon?.type === \"flat\" && validCoupon?.amount) ||\n    0;\n  const total =\n    +(productPrice - couponCodeDiscount) +\n    (user.shopInfo?.shippingCost || 0).fix();\n  const fee = (total * ((100 + config.fee) / 100) - total).fix();\n  return (\n    <>\n      <div className=\"shop\">\n        <div className=\"seller\">\n          <div className=\"profile\">\n            <Img src={buyer.profileImg || \"/profile-user.jpg\"} />\n            <p className=\"name\">\n              {buyer.firstName} {buyer.lastName} {\" \"}\n              <span className=\"role\">Buyer</span>\n              <span className=\"contact\">{buyer.phone}</span>\n            </p>\n          </div>\n        </div>\n        <div className=\"cart\">\n          <ul className=\"items\">\n            {products.map(({ product, qty }, i) => (\n              <CartItem key={i} gst={user.gst} product={product} qty={qty} />\n            ))}\n            <div className=\"total\">\n              <p>\n                <label>Total</label>{productPrice}\n              </p>\n              <hr />\n              <div className=\"coupon\">\n                {!validCoupon ? (\n                  <label>Coupon</label>\n                ) : (\n                  <label>\n                    Coupon Code {validCoupon.code}\n                    <br />\n                    Discount{\" \"}\n                    {validCoupon.type === \"percent\" ? (\n                      <>\n                        {validCoupon.amount}% (Upto {validCoupon.maxDiscount})\n                      </>\n                    ) : (\n                      <>flat</>\n                    )}\n                  </label>\n                )}\n                {!couponCodeForm && !validCoupon && (\n                  <button onClick={() => setCouponCodeForm(true)}>\n                    Add Coupon\n                  </button>\n                )}\n                {validCoupon && <span>{couponCodeDiscount}</span>}\n                {couponCodeForm && (\n                  <form\n                    onSubmit={(e) => {\n                      e.preventDefault();\n                      fetch(`/api/getCoupon/${couponCode}`)\n                        .then((res) => res.json())\n                        .then(({ code, coupon }) => {\n                          if (code === \"ok\") {\n                            if (\n                              !coupon.sellers ||\n                              coupon.sellers?.filter((_id) => _id === user._id)\n                                .length === 0\n                            ) {\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      This seller does not accept this coupon\n                                      code.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            } else if (total < coupon.threshold) {\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      Coupon code {couponCode} can only be\n                                      applied on order more that \n                                      {coupon.threshold}.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            } else if (coupon.usage >= coupon.validPerUser) {\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      Each user can use this Coupon{\" \"}\n                                      {coupon.validPerUser} times.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            } else {\n                              setValidCoupon(coupon);\n                              setCouponCodeForm(false);\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Succ_svg />\n                                    <h4>\n                                      Coupon code {couponCode} has been applied.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            }\n                          } else {\n                            setMsg(\n                              <>\n                                <button onClick={() => setMsg(null)}>\n                                  Okay\n                                </button>\n                                <div>\n                                  <Err_svg />\n                                  <h4>Invalid Coupon code.</h4>\n                                </div>\n                              </>\n                            );\n                          }\n                        })\n                        .catch((err) => {\n                          console.log(err);\n                          setMsg(\n                            <>\n                              <button onClick={() => setMsg(null)}>Okay</button>\n                              <div>\n                                <Err_svg />\n                                <h4>\n                                  Could not apply Coupon code. Make sure you're\n                                  online.\n                                </h4>\n                              </div>\n                            </>\n                          );\n                        });\n                    }}\n                  >\n                    <input\n                      required={true}\n                      value={couponCode}\n                      onBlur={(e) => {\n                        if (!couponCode) {\n                          setCouponCodeForm(false);\n                        }\n                      }}\n                      onChange={(e) =>\n                        setCouponCode(e.target.value.toUpperCase())\n                      }\n                    />\n                    <button>Apply</button>\n                  </form>\n                )}\n              </div>\n              <hr />\n              <p>\n                <label>Shipping</label>{user.shopInfo?.shippingCost}\n              </p>\n              <p>\n                <label>Delivery Pay Fee {config.fee}%</label>{fee}\n              </p>\n              <hr />\n              <p>\n                <label>Grand total</label>{(total + fee).fix()}\n              </p>\n            </div>\n            <div className=\"terms\">\n              <p>\n                <label>Refundable: </label>\n                {user.shopInfo?.refundable || \"N/A\"}\n              </p>\n              <p>\n                By proceeding, I agree to seller's all{\" \"}\n                <span className=\"btn\" onClick={() => setShowTerms(true)}>\n                  Terms\n                </span>\n              </p>\n            </div>\n          </ul>\n          <span className=\"devider\" />\n          <div className=\"deliveryDetail\">\n            <div className=\"head\">\n              <h3>Delivery Information</h3>\n              <button onClick={() => setAddressForm(true)}>Edit</button>\n            </div>\n            <ul>\n              {Object.entries(deliveryDetail).map(([key, value], i) => (\n                <li key={i}>\n                  <label>{key}</label>\n                  {value}\n                </li>\n              ))}\n            </ul>\n            <div className=\"head\">\n              <h3>Note to Buyer</h3>\n            </div>\n            <TextareaAutosize\n              value={note}\n              onChange={(e) => setNote(e.target.value)}\n            />\n          </div>\n        </div>\n        <div className=\"actions\">\n          <button onClick={() => setMilestoneForm(true)}>Create order</button>\n        </div>\n        <Modal\n          open={addressForm}\n          head={true}\n          label=\"Delivery Address\"\n          setOpen={setAddressForm}\n          className=\"addAddress\"\n        >\n          <AddressForm\n            client={{\n              name: deliveryDetail.name,\n              phone: deliveryDetail.phone,\n              address: deliveryDetail,\n            }}\n            onSuccess={(data) => {\n              setDeliveryDetail((prev) => ({ ...prev, ...data.address }));\n              setAddressForm(false);\n            }}\n            onCancel={() => setAddressForm(false)}\n          />\n        </Modal>\n        <Modal\n          className=\"milestoneRequest\"\n          head={true}\n          label=\"Checkout\"\n          open={milestoneForm}\n          setOpen={setMilestoneForm}\n        >\n          <MilestoneForm\n            action=\"request\"\n            client={buyer}\n            definedAmount={(total + fee).fix()}\n            order={{\n              products,\n              deliveryDetail: {\n                ...deliveryDetail,\n                deliveryWithin: user.shopInfo?.deliveryWithin,\n              },\n              ...(note && { note }),\n              ...(validCoupon && { couponCode: validCoupon?.code }),\n            }}\n            onSuccess={({ milestone, order }) => {\n              setSellerCart((prev) =>\n                prev.filter(({ product, buyer }) => {\n                  return !order.products.find(\n                    (order) =>\n                      order.product._id === product._id &&\n                      buyer === milestone.buyer._id\n                  );\n                })\n              );\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>Order successfully submitted.</h4>\n                    <Link to=\"/account/myShop/orders\">Manage orders</Link>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n        <Modal\n          open={showTerms}\n          setOpen={setShowTerms}\n          head={true}\n          label=\"Seller's Terms\"\n          className=\"shopTerms\"\n        >\n          <ul>\n            {user.shopInfo?.terms?.map((item, i) => (\n              <li key={i}>{item}</li>\n            ))}\n          </ul>\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport const CartItem = ({ product, gst, qty }) => {\n  const { setCart, setSellerCart, userType } = useContext(SiteContext);\n  const price = calculatePrice({ product, gst: gst || product.user?.gst });\n  return (\n    <li className={`item ${!product.images.length && \"noImg\"}`}>\n      <Img src={product.images[0] || \"/open_box.png\"} />\n      <div className=\"detail\">\n        <p className=\"name\">{product.name}</p>\n        <div className=\"qty\">\n          QTY:{\" \"}\n          <div className=\"addRemove\">\n            <button\n              onClick={() => {\n                if (userType === \"seller\") {\n                  setSellerCart((prev) =>\n                    prev\n                      .map((item) => {\n                        if (item.product._id === product._id) {\n                          return {\n                            ...item,\n                            qty: item.qty - 1,\n                          };\n                        } else {\n                          return item;\n                        }\n                      })\n                      .filter((item) => item.qty > 0)\n                  );\n                } else {\n                  setCart((prev) =>\n                    prev\n                      .map((item) => {\n                        if (item.product._id === product._id) {\n                          return {\n                            ...item,\n                            qty: item.qty - 1,\n                          };\n                        } else {\n                          return item;\n                        }\n                      })\n                      .filter((item) => item.qty > 0)\n                  );\n                }\n              }}\n            >\n              <Minus_svg />\n            </button>\n            {qty}\n            <button\n              onClick={() => {\n                if (userType === \"seller\") {\n                  setSellerCart((prev) =>\n                    prev.map((item) => {\n                      if (item.product._id === product._id) {\n                        return {\n                          ...item,\n                          qty: item.qty + 1,\n                        };\n                      } else {\n                        return item;\n                      }\n                    })\n                  );\n                } else {\n                  setCart((prev) =>\n                    prev.map((item) => {\n                      if (item.product._id === product._id) {\n                        return {\n                          ...item,\n                          qty: item.qty + 1,\n                        };\n                      } else {\n                        return item;\n                      }\n                    })\n                  );\n                }\n              }}\n            >\n              <Plus_svg />\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"price\">\n        <span className=\"qty\">\n          {price} x {qty}\n        </span>\n        {(price * qty).fix()}\n      </div>\n      {gst?.verified && <Tip>Including {product.gst}% GST.</Tip>}\n    </li>\n  );\n};\n\nexport default Marketplace;\n","import {\n  useState,\n  useEffect,\n  useContext,\n  useRef,\n  useCallback,\n  lazy,\n} from \"react\";\nimport { Link, useHistory, Route } from \"react-router-dom\";\nimport { SiteContext, socket, ChatContext } from \"../SiteContext\";\nimport { Modal, Confirm } from \"./Modal\";\nimport {\n  Succ_svg,\n  Err_svg,\n  X_svg,\n  UploadFiles,\n  Actions,\n  Img,\n  Moment,\n  moment,\n  LS,\n} from \"./Elements\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nconst MilestoneForm = lazy(() =>\n  import(\"./Forms\").then((mod) => ({ default: mod.MilestoneForm }))\n);\n\nrequire(\"./styles/deals.scss\");\n\nconst updateChatLastSeen = (rooms) => {\n  fetch(\"/api/updateLastSeen\", {\n    method: \"PATCH\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ rooms }),\n  });\n};\n\nconst Deals = ({ history, location, match }) => {\n  const { user } = useContext(SiteContext);\n  const { contacts, setContacts } = useContext(ChatContext);\n  const user_id = useRef();\n  const [userCard, setUserCard] = useState(null);\n  const [chat, setChat] = useState(null);\n  useEffect(() => {\n    if (userCard && userCard._id !== user_id.current) {\n      socket.emit(\"initiateChat\", {\n        client_id: userCard._id,\n        ...(userCard.messages === undefined && { newChat: true }),\n      });\n      user_id.current = userCard._id;\n    }\n    if (userCard) {\n      setChat(userCard.messages);\n    }\n  }, [userCard]);\n  useEffect(() => {\n    if (match.params._id) {\n      const person = contacts.find(\n        (chat) => chat.client._id.toString() === match.params._id\n      );\n      if (person) {\n        const { client, messages, status, lastSeen } = person;\n        setUserCard({ ...client, status, messages });\n      }\n    }\n  }, [match.params, contacts]);\n  return (\n    <div className={`chatContainer ${userCard ? \"chatOpen\" : \"\"}`}>\n      <div className=\"contactsContainer\">\n        <UserSearch setUserCard={setUserCard} setContacts={setContacts} />\n        {\n          //   <div className=\"userCard\">\n          //   {userCard ? (\n          //     <>\n          //       <div className=\"profile\">\n          //         <Img src={userCard.profileImg || \"/profile-user.jpg\"} />\n          //         <div className=\"details\">\n          //           <p className=\"name\">\n          //             {userCard.firstName\n          //               ? userCard.firstName + \" \" + userCard.lastName\n          //               : \"Deleted user\"}\n          //           </p>\n          //           <a className=\"phone\">{userCard.phone}</a>\n          //           <a href={`mailto:${userCard.email}`} className=\"email\">\n          //             {userCard.email}\n          //           </a>\n          //           <p className=\"add\">\n          //             {`${userCard.address?.city || \"\"} ${\n          //               userCard.address?.country || \"\"\n          //             }`}\n          //           </p>\n          //         </div>\n          //       </div>\n          //       <div className=\"clas\">\n          //         <p className=\"status\">{userCard.status}</p>\n          //         <button>Chat</button>\n          //       </div>\n          //     </>\n          //   ) : (\n          //     <p className=\"userCard placeholder\">Select a user</p>\n          //   )}\n          // </div>\n        }\n        <p className=\"label\">Messages</p>\n        <div className=\"peopleWrapper\">\n          <ul className=\"people\">\n            {contacts.map(({ client, messages, status, lastSeen, unread }) => (\n              <Person\n                key={client._id}\n                client={client}\n                messages={messages}\n                status={status}\n                lastSeen={lastSeen}\n                userCard={userCard}\n                unread={unread}\n              />\n            ))}\n            {contacts.length === 0 && (\n              <p className=\"placeholder\">Start making payments now.</p>\n            )}\n          </ul>\n        </div>\n      </div>\n      <Chat\n        chat={chat}\n        setContacts={setContacts}\n        userCard={userCard}\n        setUserCard={setUserCard}\n        user={user}\n        setChat={setChat}\n      />\n    </div>\n  );\n};\n\nconst UserSearch = ({ setUserCard, setContacts }) => {\n  const history = useHistory();\n  const [msg, setMsg] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [showUsers, setShowUsers] = useState(false);\n  const formRef = useRef();\n  const inviteUser = useCallback(() => {\n    const phoneReg = new RegExp(\n      /^(\\+91|91|1|)(?=\\d{10}$)/gi\n      // /((\\+*)((0[ -]+)*|(91 )*)(\\d{12}|\\d{10}))|\\d{5}([- ]*)\\d{6}/\n    );\n    if (phoneReg.test(value.toLowerCase())) {\n      fetch(\n        `/api/inviteUser?${new URLSearchParams({\n          q: \"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\"),\n          origin: window.location.origin,\n        }).toString()}`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.code === \"ok\") {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  {\n                    // <h4>Invitation sent.</h4>\n                  }\n                  <h4>\n                    An invitaion has been sent to{\" \"}\n                    {\"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\")}.\n                  </h4>\n                </div>\n              </>\n            );\n          } else {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Err_svg />\n                  <h4>Invitation could not be sent. Please try again.</h4>\n                </div>\n              </>\n            );\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Invitation could not be sent. Make sure you're online.</h4>\n              </div>\n            </>\n          );\n        });\n    } else {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Enter a valid phone number to send invitation.</h4>\n          </div>\n        </>\n      );\n    }\n  }, [value]);\n  const fetchUsers = () => {\n    fetch(`/api/getUsers?q=${encodeURIComponent(value)}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data) {\n          setUsers(data);\n        }\n      });\n    if (value === \"\") {\n      setUsers([]);\n    }\n  };\n  const documentClickHandler = (e) => {\n    if (e.path.includes(formRef.current)) {\n    } else {\n      setShowUsers(false);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"click\", documentClickHandler);\n    return () => {\n      document.removeEventListener(\"click\", documentClickHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (value) {\n      fetchUsers();\n    } else {\n      setUsers([]);\n    }\n  }, [value]);\n  return (\n    <div className=\"search\">\n      <form onSubmit={(e) => e.preventDefault()} ref={formRef}>\n        <section>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"17.9\"\n            height=\"17.9\"\n            viewBox=\"0 0 17.9 17.9\"\n          >\n            <path\n              id=\"Path_208\"\n              data-name=\"Path 208\"\n              d=\"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z\"\n              transform=\"translate(0)\"\n              fill=\"#b9b9b9\"\n            />\n          </svg>\n          <input\n            label=\"search\"\n            required={true}\n            placeholder=\"Phone Number\"\n            onFocus={() => setShowUsers(true)}\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n          />\n          <Link\n            className={`sendReq ${\n              users.length > 0 || !value ? \"disabled\" : \"\"\n            }`}\n            onClick={inviteUser}\n            to=\"#\"\n          >\n            Invite\n          </Link>\n        </section>\n        {showUsers && users.length ? (\n          <ul className=\"searchResult\">\n            {users.map((user, i) => (\n              <a\n                key={i}\n                onClick={() => {\n                  setUserCard(user);\n                  setContacts((prev) => [\n                    ...prev,\n                    { client: user, messages: [], status: \"\" },\n                  ]);\n                  history.push(`/account/deals/${user._id}`);\n                  setShowUsers(false);\n                }}\n              >\n                <li key={i}>\n                  <div className=\"profile\">\n                    <Img src={user.profileImg} />\n                    <p className=\"name\">\n                      {user.firstName + \" \" + user.lastName}\n                      <span className=\"phone\">{user.phone}</span>\n                    </p>\n                  </div>\n                </li>\n              </a>\n            ))}\n          </ul>\n        ) : null}\n      </form>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Person = ({ client, messages, lastSeen, userCard, unread }) => {\n  const { setContacts } = useContext(ChatContext);\n  const history = useHistory();\n  return (\n    <li\n      className={client._id === userCard?._id ? \"active\" : undefined}\n      onClick={() => {\n        history.push(`/account/deals/${client._id}`);\n        setContacts((prev) =>\n          prev.map((chat) => {\n            if (client?._id === chat.client?._id) {\n              return {\n                ...chat,\n                lastSeen: new Date().toISOString(),\n                unread: null,\n              };\n            }\n            return chat;\n          })\n        );\n      }}\n    >\n      {\n        <>\n          <Img src={client.profileImg || \"/profile-user.jpg\"} />\n          <div>\n            <p className=\"name\">\n              {client.firstName\n                ? client.firstName + \" \" + client.lastName\n                : \"Deleted User\"}\n            </p>\n            {messages.length > 0 && (\n              <p className=\"lastMessage\">\n                {messages[messages.length - 1].text}\n              </p>\n            )}\n            {unread ? <p className=\"unread\">{unread}</p> : null}\n          </div>\n        </>\n      }\n    </li>\n  );\n};\n\nexport const Chat = ({\n  chat,\n  setChat,\n  userCard,\n  setUserCard,\n  user,\n  setContacts,\n}) => {\n  const { setUser, userType } = useContext(SiteContext);\n  const { rooms, setRooms } = useContext(ChatContext);\n  const chatWrapper = useRef(null);\n  const loading = useRef(null);\n  const history = useHistory();\n  const [msgLoading, setMsgLoading] = useState(false);\n  const [allMessages, setAllMessages] = useState(\n    chat?.length >= 50 ? false : true\n  );\n  const [page, setPage] = useState(2);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    if (rooms.length) {\n      updateChatLastSeen(rooms);\n    }\n    return () => {\n      if (rooms.length) {\n        updateChatLastSeen(rooms);\n      }\n    };\n  }, [rooms]);\n  const loadChat = () => {\n    fetch(`/api/getMessages?client=${userCard._id}&page=${page}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setMsgLoading(false);\n        if (data.code === \"ok\") {\n          setContacts((prev) =>\n            prev.map((chat) => {\n              if (chat._id === data.contact?._id) {\n                return {\n                  ...chat,\n                  messages: data.contact.messages,\n                };\n              }\n              return chat;\n            })\n          );\n          setPage((prev) => prev + 1);\n          if (data.contact.total === data.contact.messages.length) {\n            setAllMessages(true);\n          }\n        }\n      })\n      .catch((err) => {\n        setMsgLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get messages. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    if (chat?.length >= 50) {\n      setAllMessages(false);\n    } else {\n      setAllMessages(true);\n    }\n  }, [chat]);\n  return (\n    <div className=\"chat\">\n      {chat ? (\n        <>\n          <div className=\"chatHead\">\n            <div className=\"profile\">\n              <button\n                className=\"back\"\n                onClick={() => {\n                  history.push(\"/account/deals\");\n                  setChat(null);\n                  setUserCard(null);\n                }}\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                >\n                  <path\n                    id=\"Path_10\"\n                    data-name=\"Path 10\"\n                    d=\"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z\"\n                    transform=\"translate(16 16) rotate(180)\"\n                    fill=\"#2699fb\"\n                  />\n                </svg>\n              </button>\n              <Img src={userCard.profileImg || \"/profile-user.jpg\"} />\n              <p className=\"name\">\n                {userCard.firstName\n                  ? userCard.firstName + \" \" + userCard.lastName\n                  : \"Deleted user\"}\n                {userCard.lastSeen && (\n                  <span className=\"lastSeen\">\n                    <Moment format=\"hh:mma, MMM DD\">{userCard.lastSeen}</Moment>\n                  </span>\n                )}\n              </p>\n            </div>\n            {(userCard.status === \"\" || userCard.status === \"blocked\") && (\n              <>\n                {userType === \"seller\" ? (\n                  <Link\n                    className=\"pay\"\n                    target=\"_blank\"\n                    to={`/marketplace?seller=${user._id}`}\n                    onClick={() => LS.set(\"buyer\", userCard._id)}\n                  >\n                    Create an Order\n                  </Link>\n                ) : (\n                  <>\n                    <Link\n                      className=\"pay\"\n                      to={`/account/deals/${userCard._id}/payment`}\n                    >\n                      Pay\n                    </Link>\n                    <Link\n                      className=\"viewShop\"\n                      to={`/marketplace?seller=${userCard._id}`}\n                    >\n                      View Shop\n                    </Link>\n                  </>\n                )}\n                <Actions>\n                  {\n                    userCard.status === \"\" && null\n                    // <Link\n                    //   className=\"pay\"\n                    //   to={`/account/deals/${userCard._id}/pay`}\n                    // >\n                    //   Pay\n                    // </Link>\n                  }\n                  <Link to={`/account/deals/${userCard._id}/report`}>\n                    Report\n                  </Link>\n                  <button\n                    onClick={() => {\n                      Confirm({\n                        label: ` ${\n                          userCard.status === \"blocked\" ? \"Unblock\" : \"Block\"\n                        } User`,\n                        question: `You sure want to ${\n                          userCard.status === \"blocked\" ? \"un\" : \"\"\n                        }block this user?`,\n                        callback: () => {\n                          const blocked = userCard.status === \"blocked\";\n                          fetch(\n                            `/api/${blocked ? \"unblockUser\" : \"blockUser\"}`,\n                            {\n                              method: \"PATCH\",\n                              headers: { \"Content-Type\": \"application/json\" },\n                              body: JSON.stringify({\n                                _id: userCard._id,\n                              }),\n                            }\n                          )\n                            .then((res) => res.json())\n                            .then((data) => {\n                              if (data.code === \"ok\") {\n                                setUser((prev) => ({\n                                  ...prev,\n                                  blockList: data.blockList,\n                                }));\n                                setContacts((prev) =>\n                                  prev.map((item) => {\n                                    if (item.client._id === userCard._id) {\n                                      return {\n                                        ...item,\n                                        status: blocked ? \"\" : \"blocked\",\n                                      };\n                                    } else {\n                                      return item;\n                                    }\n                                  })\n                                );\n                                setMsg(\n                                  <>\n                                    <button onClick={() => setMsg(null)}>\n                                      Okay\n                                    </button>\n                                    <div>\n                                      <Succ_svg />\n                                      <h4>\n                                        User successfully {blocked && \"un\"}\n                                        blocked.\n                                      </h4>\n                                    </div>\n                                  </>\n                                );\n                              } else {\n                                setMsg(\n                                  <>\n                                    <button onClick={() => setMsg(null)}>\n                                      Okay\n                                    </button>\n                                    <div>\n                                      <Err_svg />\n                                      <h4>\n                                        Could not {blocked && \"un\"}block user.\n                                        try again.\n                                      </h4>\n                                    </div>\n                                  </>\n                                );\n                              }\n                            })\n                            .catch((err) => {\n                              console.log(err);\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      Could not {blocked && \"un\"}block user.\n                                      Make sure you're online.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            });\n                        },\n                      });\n                    }}\n                  >\n                    {userCard.status === \"blocked\" ? \"Unblock\" : \"Block\"}\n                  </button>\n                </Actions>\n              </>\n            )}\n          </div>\n          <ul\n            className=\"chats\"\n            ref={chatWrapper}\n            onScroll={(e) => {\n              const { y } = loading.current?.getBoundingClientRect() || {};\n              if (y > 0 && !msgLoading) {\n                setMsgLoading(true);\n                loadChat();\n              }\n            }}\n          >\n            {[\n              ...chat.map((msg, i) => (\n                <Bubble chat={chat} key={msg._id} msg={msg} i={i} user={user} />\n              )),\n            ].reverse()}\n            {!allMessages && (\n              <li className=\"loading\" ref={loading}>\n                Loading\n              </li>\n            )}\n          </ul>\n          {userCard.status === \"\" && (\n            <ChatForm\n              onSuccess={() => {\n                chatWrapper.current?.scrollBy(\n                  0,\n                  chatWrapper.current.scrollHeight * 2\n                );\n              }}\n              rooms={rooms}\n              user={userCard._id}\n              newChat={!userCard.lastSeen}\n            />\n          )}\n        </>\n      ) : (\n        <div className=\"startChat\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"26.55\"\n            height=\"25.219\"\n            viewBox=\"0 0 26.55 25.219\"\n          >\n            <path\n              id=\"Path_1\"\n              data-name=\"Path 1\"\n              d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n              transform=\"translate(255.198 195.071)\"\n              fill=\"#707070\"\n            />\n          </svg>\n          <p>start a chat</p>\n        </div>\n      )}\n      <Modal\n        className=\"milestoneRequest\"\n        head={true}\n        label={userType === \"seller\" ? \"Request Milestone\" : \"Create Milestone\"}\n        open={\n          userCard &&\n          history.location.pathname.match(/^\\/account\\/deals\\/.+\\/payment$/)\n        }\n        setOpen={() => history.push(`/account/deals/${userCard._id}`)}\n      >\n        <MilestoneForm\n          action={userType === \"seller\" ? \"request\" : \"create\"}\n          client={userCard}\n          onSuccess={(milestone) => {\n            history.push(`/account/deals/${userCard._id}`);\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  <h4 className=\"amount\">{milestone.milestone?.amount}</h4>\n                  <h4>Milestone has been created</h4>\n                </div>\n                <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                  Check your Delivery pay Hold\n                </Link>\n              </>\n            );\n          }}\n        />\n      </Modal>\n      <Route\n        path=\"/account/deals/:_id/report\"\n        component={({ location }) => (\n          <Modal\n            open={true}\n            head={true}\n            label=\"Report User\"\n            className=\"userReport\"\n            setOpen={() =>\n              history.push(location.pathname.replace(/\\/report/, \"\"))\n            }\n          >\n            <div className=\"content\">\n              <ReportForm\n                user={userCard}\n                onSuccess={() => {\n                  history.push(\n                    history.location.pathname.replace(/\\/report/, \"\")\n                  );\n                  setMsg(\n                    <>\n                      <button onClick={() => setMsg(null)}>Okay</button>\n                      <div>\n                        <Succ_svg />\n                        <h4>User has been reported.</h4>\n                      </div>\n                    </>\n                  );\n                }}\n              />\n            </div>\n          </Modal>\n        )}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Bubble = ({ chat, msg, i, user }) => {\n  const history = useHistory();\n  const [milestone, setMilestone] = useState(null);\n  useEffect(() => {\n    if (msg.milestoneId) {\n      fetch(`/api/milestone?q=${msg.milestoneId}`)\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.milestones.length) {\n            setMilestone(data.milestones[0]);\n          }\n        });\n    }\n  }, []);\n  if (!msg) {\n    return null;\n  }\n  const timestamp =\n    Math.abs(\n      new Date(msg.createdAt).getTime() -\n        new Date(chat[i + 1]?.createdAt).getTime()\n    ) > 120000;\n  const dateStamp =\n    moment({\n      time: msg.createdAt,\n      format: \"YYYY-MM-DD\",\n    }) !== moment({ time: chat[i - 1]?.createdAt, format: \"YYYY-MM-DD\" }) ||\n    i === 0;\n  return (\n    <li\n      className={`bubble ${msg.from === user._id ? \"user\" : \"client\"} ${\n        milestone ? \"milestone\" : \"\"\n      }`}\n    >\n      {dateStamp && (\n        <Moment className=\"dateStamp\" format=\"MMM DD, YYYY\">\n          {msg.createdAt}\n        </Moment>\n      )}\n      {msg.text && (\n        <p\n          className=\"text\"\n          onClick={() => {\n            if (milestone) {\n              history.push(`/account/hold?q=${milestone._id}`);\n            }\n          }}\n        >\n          {milestone && <span className=\"amount\">{milestone.amount}</span>}\n          {msg.text}\n        </p>\n      )}\n      {msg.media && <MediaBubble link={msg.media} />}\n      {(timestamp || i === chat.length - 1) && (\n        <Moment className=\"timestamp\" format=\"hh:mm a\">\n          {msg.createdAt}\n        </Moment>\n      )}\n    </li>\n  );\n};\nconst MediaBubble = ({ link }) => {\n  let view = null;\n  let fullView = null;\n  const [open, setOpen] = useState(false);\n  if (link.match(/(\\.gif|\\.png|\\.jpg|\\.jpeg|\\.webp)$/i)) {\n    view = <Img src={link} onClick={() => setOpen(true)} />;\n  } else if (link.match(/(\\.mp3|\\.ogg|\\.amr|\\.m4a|\\.flac|\\.wav|\\.aac)$/i)) {\n    view = <audio src={link} controls=\"on\" />;\n  } else if (link.match(/(\\.mp4|\\.mov|\\.avi|\\.flv|\\.wmv|\\.webm)$/i)) {\n    view = (\n      <div className={`videoThumb`}>\n        <video src={link} onClick={() => setOpen(true)} />\n        <Img src=\"/play_btn.png\" />\n      </div>\n    );\n    fullView = <video src={link} controls=\"on\" autoPlay=\"on\" />;\n  } else {\n    view = (\n      <a href={link} target=\"_blank\" className=\"link\">\n        <Img src=\"/file_icon.png\" />\n        {link}\n      </a>\n    );\n  }\n  return (\n    <div className=\"file\">\n      {view}\n      <Modal open={open} className=\"chatMediaView\">\n        <button className=\"close\" onClick={() => setOpen(false)}>\n          <X_svg />\n        </button>\n        {fullView || view}\n      </Modal>\n    </div>\n  );\n};\n\nconst ChatForm = ({ rooms, user, newChat }) => {\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const [msg, setMsg] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const submit = async (e) => {\n    e.preventDefault();\n    if (!socket.connected) {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Could not connect to server. Make sure you're online.</h4>\n          </div>\n        </>\n      );\n      return;\n    }\n    const cdn = process.env.REACT_APP_CDN_HOST;\n    const media = files.length\n      ? await UploadFiles({\n          files,\n          setMsg,\n        })\n      : [];\n    if (files.length && !media.length) {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Could not send files. please try again.</h4>\n          </div>\n        </>\n      );\n      return;\n    }\n    if (media.length) {\n      media.forEach((link, i) => {\n        socket.emit(\"messageToServer\", {\n          rooms,\n          ...(newChat && { newChat }),\n          message: {\n            to: user,\n            media: link,\n          },\n        });\n      });\n      setFiles([]);\n    }\n    if (value && rooms.length) {\n      socket.emit(\"messageToServer\", {\n        rooms,\n        ...(newChat && { newChat }),\n        message: {\n          to: user,\n          text: value,\n        },\n      });\n      inputRef.current.focus();\n      setValue(\"\");\n    }\n  };\n  useEffect(() => {\n    socket.on(\"sendFail\", ({ err }) => {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>{err}</h4>\n          </div>\n        </>\n      );\n    });\n  }, []);\n  useEffect(() => {\n    if (!socket.connected) {\n      socket.connect();\n    }\n  }, [value, files]);\n  return (\n    <>\n      <form\n        onSubmit={submit}\n        ref={formRef}\n        className={loading ? \"loading\" : \"\"}\n      >\n        <Preview files={files} setFiles={setFiles} />\n        <section>\n          <TextareaAutosize\n            autoFocus={true}\n            ref={inputRef}\n            type=\"text\"\n            value={value}\n            style={{ height: \"100px\" }}\n            onChange={(e) => setValue(e.target.value)}\n            onKeyDown={(e) => {\n              if (e.keyCode === 13 && !e.altKey) {\n                submit(e);\n              } else if (e.keyCode === 13 && e.altKey) {\n                setValue(value + \"\\n\");\n              }\n            }}\n          />\n          <div className=\"fileUpload\">\n            <input\n              type=\"file\"\n              multiple={true}\n              onChange={(e) => {\n                setFiles((prev) => [\n                  ...prev,\n                  ...[...e.target.files].filter(\n                    (item) => !files.some((file) => file.name === item.name)\n                  ),\n                ]);\n              }}\n            />\n            <Img src=\"/paperclip.svg\" />\n          </div>\n        </section>\n        <button type=\"submit\" disabled={loading}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"26.55\"\n            height=\"25.219\"\n            viewBox=\"0 0 26.55 25.219\"\n          >\n            <path\n              id=\"Path_1\"\n              data-name=\"Path 1\"\n              d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n              transform=\"translate(255.198 195.071)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </button>\n      </form>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\nconst ReportForm = ({ user, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [msg, setMsg] = useState(null);\n  const submit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    fetch(\"/api/reportUser\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user: user._id,\n        message,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          onSuccess?.(data);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Report could not be submitted. try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Report could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form onSubmit={submit}>\n        <section>\n          <label>Messag</label>\n          <TextareaAutosize\n            required={true}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\">Submit</button>\n        </section>\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nconst Preview = ({ files, setFiles }) => {\n  if (files.length === 0) {\n    return null;\n  }\n  return (\n    <div className=\"preview\">\n      {files.map((item) => {\n        const file = {\n          type: item.type,\n          name: item.name,\n          url: URL.createObjectURL(item),\n        };\n        const img = file.type.startsWith(\"image\");\n        return (\n          <div key={item.name} className={`file ${img ? \"thumb\" : \"any\"}`}>\n            <button\n              className=\"close\"\n              type=\"button\"\n              onClick={() =>\n                setFiles((prev) =>\n                  prev.filter((item) => file.name !== item.name)\n                )\n              }\n            >\n              <X_svg />\n            </button>\n            <Img\n              className={img ? \"thumb\" : \"\"}\n              src={img ? file.url : \"/file_icon.png\"}\n            />\n            {!img && <p className=\"filename\">{item.name}</p>}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Deals;\n","import {\n  useState,\n  useEffect,\n  useContext,\n  useCallback,\n  useRef,\n  lazy,\n  Suspense,\n} from \"react\";\nimport { SiteContext, ChatContext, socket } from \"../SiteContext\";\nimport { Route, Switch, useHistory, Link, useLocation } from \"react-router-dom\";\nimport { Modal } from \"./Modal.js\";\nimport {\n  Err_svg,\n  Succ_svg,\n  Footer,\n  Actions,\n  Cart_svg,\n  Seller_cart_svg,\n  Img,\n  Moment,\n  Chev_down_svg,\n  User,\n  LS,\n  ShareButtons,\n} from \"./Elements\";\nimport { CartItem } from \"./Marketplace\";\nrequire(\"./styles/marketplace.scss\");\nrequire(\"./styles/account.scss\");\n\nconst MilestoneForm = lazy(() =>\n  import(\"./Forms\").then((mod) => ({ default: mod.MilestoneForm }))\n);\n\nconst MyShopping = lazy(() => import(\"./myShopping\"));\nconst Cart = lazy(() =>\n  import(\"./Marketplace\").then((mod) => ({ default: mod.Cart }))\n);\nconst SellerCart = lazy(() =>\n  import(\"./Marketplace\").then((mod) => ({ default: mod.SellerCart }))\n);\n\nconst StartTransaction = lazy(() =>\n  import(\"./Transactions\").then((mod) => ({ default: mod.StartTransaction }))\n);\nconst Transactions = lazy(() => import(\"./Transactions\"));\n\nconst Support = lazy(() => import(\"./Support\"));\n\nconst QRCode = lazy(() => import(\"qrcode.react\"));\nconst Profile = lazy(() => import(\"./Profile\"));\nconst Hold = lazy(() => import(\"./Hold\"));\nconst Wallet = lazy(() => import(\"./Wallet\"));\nconst MyShop = lazy(() => import(\"./seller/MyShop\"));\nconst Deals = lazy(() => import(\"./Deals\"));\nrequire(\"./styles/account.scss\");\nrequire(\"./styles/generic.scss\");\n\nconst Home = () => {\n  const { user, userType, setUserType } = useContext(SiteContext);\n  const history = useHistory();\n  const [recentPayments, setRecentPayments] = useState([]);\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [client, setClient] = useState(null);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    fetch(\"/api/recentPayments\")\n      .then((res) => res.json())\n      .then((data) => {\n        setRecentPayments(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    fetch(\n      `/api/getOrders?${new URLSearchParams({\n        user: \"buyer\",\n        perPage: 5,\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setRecentOrders(data.orders);\n        }\n      });\n  }, []);\n  useEffect(() => {\n    if (history.location.pathname === \"/account/home/pay\" && !client) {\n      history.push(\"/account/home\");\n    }\n  }, []);\n  return (\n    <div className=\"homeContainer\">\n      <div className=\"benner\">\n        <h4>Start transactions with Delivery pay</h4>\n        <p>Connect with new buyers/sellers.</p>\n        {\n          // <p>Let us help you make the safest transaction</p>\n        }\n      </div>\n      <div className=\"userType\">\n        <div className={`option buyer ${userType === \"buyer\" && \"active\"}`}>\n          <Img src=\"/buyer.png\" />\n          <div className=\"btn\" onClick={(e) => setUserType(\"buyer\")}>\n            <p>I am a Buyer </p>\n            <div className=\"radial\">\n              {userType === \"buyer\" && <div className=\"fill\" />}\n            </div>\n          </div>\n        </div>\n        <div className={`option seller ${userType === \"seller\" && \"active\"}`}>\n          <Img src=\"/seller.png\" />\n          <div className=\"btn\" onClick={(e) => setUserType(\"seller\")}>\n            <p>I am a Seller </p>\n            <div className=\"radial\">\n              {userType === \"seller\" && <div className=\"fill\" />}\n            </div>\n          </div>\n        </div>\n      </div>\n      {userType && (\n        <>\n          <UserSearch setClient={setClient} />\n          <div className=\"recentPayments\">\n            <p className=\"label\">\n              Recently Contacted\n              <span className=\"note\">\n                {userType === \"buyer\"\n                  ? \"Click to start chatting.\"\n                  : \"Click to create an order.\"}\n              </span>\n            </p>\n            <ul className=\"payments\">\n              {recentPayments.map((client) => (\n                <li key={client._id}>\n                  <Link\n                    target={userType === \"seller\" ? \"_blank\" : \"\"}\n                    to={\n                      userType === \"buyer\"\n                        ? `/account/deals/${client._id}`\n                        : `/marketplace?${new URLSearchParams({\n                            seller: user._id,\n                            buyer: client._id,\n                          }).toString()}`\n                    }\n                    onClick={() => {\n                      setClient(client);\n                      LS.set(\"buyer\", client._id);\n                    }}\n                  >\n                    <Img src={client.profileImg} />\n                    <p className=\"name\">\n                      {client.firstName + \" \" + client.lastName}\n                    </p>\n                  </Link>\n                </li>\n              ))}\n              {recentPayments.length === 0 && <p>Nothing for now.</p>}\n            </ul>\n          </div>\n          <div className=\"recentOrders\">\n            <p className=\"label\">\n              Recent Orders\n              <span className=\"note\">Click to view order details.</span>\n            </p>\n            <ul className=\"orders\">\n              {recentOrders.map((order) => (\n                <Link\n                  key={order._id}\n                  to={`/account/orders/${\n                    order.status === \"pending\" ? \"pending\" : \"current\"\n                  }/${order._id}`}\n                >\n                  <li>\n                    <ul>\n                      <li>\n                        <label>Seller</label>\n                        <p>\n                          {order.seller.firstName + \" \" + order.seller.lastName}\n                        </p>\n                      </li>\n                      <li>\n                        <label>QTY</label>\n                        <p>{order.products.length}</p>\n                      </li>\n                      <li>\n                        <label>Total</label>\n                        <h3>{order.total}</h3>\n                      </li>\n                    </ul>\n                  </li>\n                </Link>\n              ))}\n              {recentOrders.length === 0 && <p>Nothing for now.</p>}\n            </ul>\n          </div>\n        </>\n      )}\n      <Footer />\n      <Route path={\"/account/home/createMilestone\"}>\n        <Modal\n          open={true && client}\n          head={true}\n          label=\"Create Milestone\"\n          setOpen={() => {\n            history.push(\"/account/home\");\n            setClient(null);\n          }}\n          className=\"milestoneRequest\"\n        >\n          <MilestoneForm\n            action=\"create\"\n            client={client}\n            onSuccess={(milestone) => {\n              history.push(\"/account/home\");\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been created</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </Route>\n      <Route path={\"/account/home/requestMilestone\"}>\n        <Modal\n          open={true && client}\n          head={true}\n          label=\"Request Milestone\"\n          setOpen={() => {\n            history.push(\"/account/home\");\n            setClient(null);\n          }}\n          className=\"milestoneRequest\"\n        >\n          <MilestoneForm\n            action=\"request\"\n            client={client}\n            onSuccess={(milestone) => {\n              history.push(\"/account/home\");\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been requested</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </Route>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nexport const UserSearch = ({ setClient }) => {\n  const { userType, user } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [showUsers, setShowUsers] = useState(false);\n  const formRef = useRef();\n  const inviteUser = useCallback(() => {\n    const phoneReg = new RegExp(/^(\\+91|91|1|)(?=\\d{10}$)/gi);\n    if (phoneReg.test(value.toLowerCase())) {\n      fetch(\n        `/api/inviteUser?${new URLSearchParams({\n          q: \"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\"),\n          origin: window.location.origin,\n        }).toString()}`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.code === \"ok\") {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  {\n                    // <h4>Invitation sent.</h4>\n                  }\n                  <h4>\n                    An invitaion has been sent to{\" \"}\n                    {\"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\")}.\n                  </h4>\n                </div>\n              </>\n            );\n          } else {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Err_svg />\n                  <h4>Invitation could not be sent. Please try again.</h4>\n                </div>\n              </>\n            );\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Invitation could not be sent. Make sure you're online.</h4>\n              </div>\n            </>\n          );\n        });\n    } else {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Enter a valid phone number to send invitation.</h4>\n          </div>\n        </>\n      );\n    }\n  }, [value]);\n  const fetchUsers = () => {\n    fetch(`/api/getUsers?q=${encodeURIComponent(value)}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data) {\n          setUsers(data);\n        }\n      });\n    if (value === \"\") {\n      setUsers([]);\n    }\n  };\n  const documentClickHandler = (e) => {\n    if (e.path.includes(formRef.current)) {\n    } else {\n      setShowUsers(false);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"click\", documentClickHandler);\n    return () => {\n      document.removeEventListener(\"click\", documentClickHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (value?.length >= 4) {\n      fetchUsers();\n    } else {\n      setUsers([]);\n    }\n  }, [value]);\n  return (\n    <div className=\"search\">\n      <form onSubmit={(e) => e.preventDefault()} ref={formRef}>\n        <section>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"17.9\"\n            height=\"17.9\"\n            viewBox=\"0 0 17.9 17.9\"\n          >\n            <path\n              id=\"Path_208\"\n              data-name=\"Path 208\"\n              d=\"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z\"\n              transform=\"translate(0)\"\n              fill=\"#b9b9b9\"\n            />\n          </svg>\n          <input\n            label=\"search\"\n            required={true}\n            placeholder=\"Search with Phone Number or Delivery pay ID\"\n            onFocus={() => setShowUsers(true)}\n            value={value}\n            onChange={(e) => {\n              setValue(e.target.value);\n              setShowUsers(true);\n            }}\n          />\n          <Link\n            className={`sendReq ${\n              users.length > 0 || !value ? \"disabled\" : \"\"\n            }`}\n            onClick={inviteUser}\n            to=\"#\"\n          >\n            Invite\n          </Link>\n        </section>\n        {showUsers && users.length ? (\n          <ul className=\"searchResult\">\n            {users.map((client, i) => (\n              <Link\n                key={i}\n                target=\"_blank\"\n                onClick={() => {\n                  setClient(client);\n                  LS.set(\"buyer\", client._id);\n                }}\n                to={{\n                  pathname:\n                    userType === \"seller\"\n                      ? `/marketplace?${new URLSearchParams({\n                          seller: user._id,\n                          buyer: client._id,\n                        }).toString()}`\n                      : `/marketplace?seller=${client._id}`,\n                }}\n              >\n                <li key={i}>\n                  <User user={client} />\n                  <span className=\"sendReq\">\n                    {userType === \"seller\"\n                      ? \"Request milestone\"\n                      : \"Show Products & Services\"}\n                  </span>\n                </li>\n              </Link>\n            ))}\n          </ul>\n        ) : null}\n      </form>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nfunction Account() {\n  const { user, userType } = useContext(SiteContext);\n  const { unread } = useContext(ChatContext);\n  const location = useLocation();\n  useEffect(() => {\n    if (!socket.connected) {\n      socket.connect();\n    }\n  }, []);\n  return (\n    <div\n      className={`account ${\n        location.pathname.startsWith(\"/account/deals/\") ? \"chatSection\" : \"\"\n      }`}\n    >\n      <header>\n        <Link to=\"/\">\n          <Img className=\"logo\" src=\"/logo_land.jpg\" alt=\"Delivery pay logo\" />\n          <Img\n            className=\"logo_small\"\n            src=\"/logo_sqr.jpg\"\n            alt=\"Delivery pay logo\"\n          />\n        </Link>\n        <div className=\"links\">\n          <Link to=\"/\" className=\"home\">\n            Home\n          </Link>\n        </div>\n        <UserTypeSwitch />\n        <ProfileAvatar />\n      </header>\n      <div className=\"content\">\n        <ul className=\"sidebar\">\n          <li\n            className={\n              location.pathname === \"/account\" ||\n              location.pathname.startsWith(\"/account/home\")\n                ? \"active\"\n                : undefined\n            }\n          >\n            <Link to=\"/account/home\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"21.648\"\n                  height=\"21.513\"\n                  viewBox=\"0 0 21.648 21.513\"\n                >\n                  <path\n                    id=\"Path_287\"\n                    data-name=\"Path 287\"\n                    d=\"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z\"\n                    transform=\"translate(-0.008 0.011)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </div>\n              Home\n            </Link>\n          </li>\n          <Accordion\n            className={`${\n              location.pathname.startsWith(\"/account/transaction\")\n                ? \"active\"\n                : \"\"\n            }`}\n            location={location}\n            label={\n              <>\n                <div className=\"icon\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"20.886\"\n                    height=\"22.948\"\n                    viewBox=\"0 0 20.886 22.948\"\n                  >\n                    <g\n                      id=\"Rectangle_2\"\n                      data-name=\"Rectangle 2\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect\n                        width=\"20.886\"\n                        height=\"16.244\"\n                        rx=\"2\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"18.886\"\n                        height=\"14.244\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                    <g\n                      id=\"Rectangle_3\"\n                      data-name=\"Rectangle 3\"\n                      transform=\"translate(0 9.283)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect\n                        width=\"20.886\"\n                        height=\"6.962\"\n                        rx=\"2\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"18.886\"\n                        height=\"4.962\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                    <path\n                      id=\"Path_2\"\n                      data-name=\"Path 2\"\n                      d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n                      transform=\"translate(186.6 197.025)\"\n                      fill=\"#fff\"\n                    />\n                  </svg>\n                </div>\n                <p className=\"label\">Start Transaction</p>\n              </>\n            }\n            link=\"/account/transaction\"\n            path=\"/account/transaction/new\"\n          >\n            <li\n              className={\n                location.pathname.startsWith(\"/account/transaction/new\")\n                  ? \"active\"\n                  : undefined\n              }\n            >\n              <Link to=\"/account/transaction/new\">Start New</Link>\n            </li>\n            <li\n              className={\n                location.pathname.startsWith(\"/account/transaction/history\")\n                  ? \"active\"\n                  : undefined\n              }\n            >\n              <Link to=\"/account/transaction/history\">Transaction History</Link>\n            </li>\n          </Accordion>\n          {userType === \"buyer\" && (\n            <Accordion\n              className={`${\n                location.pathname.startsWith(\"/account/orders\") ? \"active\" : \"\"\n              }`}\n              location={location}\n              label={\n                <>\n                  <div className=\"icon\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20.886\"\n                      height=\"22.948\"\n                      viewBox=\"0 0 20.886 22.948\"\n                    >\n                      <g\n                        id=\"Rectangle_2\"\n                        data-name=\"Rectangle 2\"\n                        fill=\"none\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                      >\n                        <rect\n                          width=\"20.886\"\n                          height=\"16.244\"\n                          rx=\"2\"\n                          stroke=\"none\"\n                        />\n                        <rect\n                          x=\"1\"\n                          y=\"1\"\n                          width=\"18.886\"\n                          height=\"14.244\"\n                          rx=\"1\"\n                          fill=\"none\"\n                        />\n                      </g>\n                      <g\n                        id=\"Rectangle_3\"\n                        data-name=\"Rectangle 3\"\n                        transform=\"translate(0 9.283)\"\n                        fill=\"none\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                      >\n                        <rect\n                          width=\"20.886\"\n                          height=\"6.962\"\n                          rx=\"2\"\n                          stroke=\"none\"\n                        />\n                        <rect\n                          x=\"1\"\n                          y=\"1\"\n                          width=\"18.886\"\n                          height=\"4.962\"\n                          rx=\"1\"\n                          fill=\"none\"\n                        />\n                      </g>\n                      <path\n                        id=\"Path_2\"\n                        data-name=\"Path 2\"\n                        d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n                        transform=\"translate(186.6 197.025)\"\n                        fill=\"#fff\"\n                      />\n                    </svg>\n                  </div>\n                  <p className=\"label\">My Orders</p>\n                </>\n              }\n              link=\"/account/orders\"\n              path=\"/account/orders/current\"\n            >\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/current\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/current\">Current Order</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/pending\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/pending\">Pending Order</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/history\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/history\">Order History</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/dispute\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/dispute\">Dispute Resolution</Link>\n              </li>\n              {\n                //   <li\n                //   className={\n                //     location.pathname.startsWith(\"/account/orders/track\")\n                //       ? \"active\"\n                //       : undefined\n                //   }\n                // >\n                //   <Link to=\"/account/orders/track\">Track Order</Link>\n                // </li>\n              }\n            </Accordion>\n          )}\n          <li\n            className={`hold ${\n              location.pathname.startsWith(\"/account/hold\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/hold\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"22\"\n                  height=\"27\"\n                  viewBox=\"0 0 22 27\"\n                >\n                  <text\n                    id=\"_3\"\n                    data-name=\"3\"\n                    transform=\"translate(14 14) rotate(180)\"\n                    fill=\"#fff\"\n                    fontSize=\"10\"\n                    fontFamily=\"Ebrima-Bold, Ebrima\"\n                    fontWeight=\"700\"\n                  >\n                    <tspan x=\"0\" y=\"0\">\n                      3\n                    </tspan>\n                  </text>\n                  <g\n                    id=\"Group_166\"\n                    data-name=\"Group 166\"\n                    transform=\"translate(-534.967 -611.816)\"\n                  >\n                    <g\n                      id=\"Rectangle_1132\"\n                      data-name=\"Rectangle 1132\"\n                      transform=\"translate(534.967 620.816)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect width=\"22\" height=\"18\" rx=\"4\" stroke=\"none\" />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"20\"\n                        height=\"16\"\n                        rx=\"3\"\n                        fill=\"none\"\n                      />\n                    </g>\n                    <g\n                      id=\"Rectangle_1133\"\n                      data-name=\"Rectangle 1133\"\n                      transform=\"translate(539.967 611.816)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <path\n                        d=\"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z\"\n                        stroke=\"none\"\n                      />\n                      <path\n                        d=\"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z\"\n                        fill=\"none\"\n                      />\n                    </g>\n                  </g>\n                </svg>\n              </div>\n              Milestones\n            </Link>\n          </li>\n          {userType === \"seller\" && (\n            <li\n              className={`products ${\n                location.pathname.startsWith(\"/account/myShop\")\n                  ? \"active\"\n                  : undefined\n              }`}\n            >\n              <Link to=\"/account/myShop/products\">\n                <div className=\"icon\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"19.872\"\n                    height=\"21.086\"\n                    viewBox=\"0 0 19.872 21.086\"\n                  >\n                    <g\n                      id=\"Group_4\"\n                      data-name=\"Group 4\"\n                      transform=\"translate(0 5.63)\"\n                    >\n                      <g id=\"Path_288\" data-name=\"Path 288\" fill=\"none\">\n                        <path\n                          d=\"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z\"\n                          stroke=\"none\"\n                        />\n                        <path\n                          d=\"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z\"\n                          stroke=\"none\"\n                          fill=\"#fff\"\n                        />\n                      </g>\n                      <g\n                        id=\"Rectangle_3\"\n                        data-name=\"Rectangle 3\"\n                        transform=\"translate(0 8.832)\"\n                        fill=\"none\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                      >\n                        <rect\n                          width=\"19.872\"\n                          height=\"6.624\"\n                          rx=\"2\"\n                          stroke=\"none\"\n                        />\n                        <rect\n                          x=\"1\"\n                          y=\"1\"\n                          width=\"17.872\"\n                          height=\"4.624\"\n                          rx=\"1\"\n                          fill=\"none\"\n                        />\n                      </g>\n                    </g>\n                    <g\n                      id=\"Rectangle_1134\"\n                      data-name=\"Rectangle 1134\"\n                      transform=\"translate(4)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <path\n                        d=\"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"10\"\n                        height=\"5\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                  </svg>\n                </div>\n                My Shop\n              </Link>\n            </li>\n          )}\n          <li\n            className={`deals ${\n              location.pathname.startsWith(\"/account/deals\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/deals\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"26.55\"\n                  height=\"25.219\"\n                  viewBox=\"0 0 26.55 25.219\"\n                >\n                  <path\n                    id=\"Path_1\"\n                    data-name=\"Path 1\"\n                    d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n                    transform=\"translate(255.198 195.071)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </div>\n              My Chat\n            </Link>\n            {unread ? <span className=\"unred\">{unread}</span> : null}\n          </li>\n          <Accordion\n            className={`profile ${\n              location.pathname.startsWith(\"/account/profile\") ? \"active\" : \"\"\n            }`}\n            location={location}\n            label={\n              <>\n                <div className=\"icon acc\">\n                  <Img src={user?.profileImg || \"/profile-user.jpg\"} />\n                </div>\n                <p className=\"label\">Account</p>\n              </>\n            }\n            link=\"/account/profile\"\n            path=\"/account/profile/wallet\"\n          >\n            <>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/profile/wallet\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/profile/wallet\">Wallet</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/profile/edit\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/profile/edit\">Edit Profile</Link>\n              </li>\n            </>\n          </Accordion>\n          <li\n            className={`support ${\n              location.pathname.startsWith(\"/account/support\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/support\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"19.872\"\n                  height=\"21.086\"\n                  viewBox=\"0 0 19.872 21.086\"\n                >\n                  <g\n                    id=\"Group_4\"\n                    data-name=\"Group 4\"\n                    transform=\"translate(0 5.63)\"\n                  >\n                    <g id=\"Path_288\" data-name=\"Path 288\" fill=\"none\">\n                      <path\n                        d=\"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z\"\n                        stroke=\"none\"\n                      />\n                      <path\n                        d=\"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z\"\n                        stroke=\"none\"\n                        fill=\"#fff\"\n                      />\n                    </g>\n                    <g\n                      id=\"Rectangle_3\"\n                      data-name=\"Rectangle 3\"\n                      transform=\"translate(0 8.832)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect\n                        width=\"19.872\"\n                        height=\"6.624\"\n                        rx=\"2\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"17.872\"\n                        height=\"4.624\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                  </g>\n                  <g\n                    id=\"Rectangle_1134\"\n                    data-name=\"Rectangle 1134\"\n                    transform=\"translate(4)\"\n                    fill=\"none\"\n                    stroke=\"#fff\"\n                    strokeWidth=\"2\"\n                  >\n                    <path\n                      d=\"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z\"\n                      stroke=\"none\"\n                    />\n                    <rect\n                      x=\"1\"\n                      y=\"1\"\n                      width=\"10\"\n                      height=\"5\"\n                      rx=\"1\"\n                      fill=\"none\"\n                    />\n                  </g>\n                </svg>\n              </div>\n              Customer Support\n            </Link>\n          </li>\n        </ul>\n        <main>\n          <Suspense fallback={<>Loading</>}>\n            <Switch>\n              <Route path=\"/account/deals/:_id?\" component={Deals} />\n              <Route\n                path=\"/account/transaction/history\"\n                component={Transactions}\n              />\n              <Route path=\"/account/transaction\" component={StartTransaction} />\n              <Route path=\"/account/orders\" component={MyShopping} />\n              <Route path=\"/account/wallet\" component={Wallet} />\n              <Route path=\"/account/hold\" component={Hold} />\n              <Route path=\"/account/transactions\" component={Transactions} />\n              <Route path=\"/account/myShop\" component={MyShop} />\n              <Route path=\"/account/cart\" component={Cart} />\n              <Route path=\"/account/sellerCart\" component={SellerCart} />\n              {\n                //   <Route\n                //   path=\"/account/orderManagement\"\n                //   component={OrderManagement}\n                // />\n              }\n              <Route path=\"/account/support\" component={Support} />\n              <Route path=\"/account/profile/edit\" component={Profile} />\n              <Route path=\"/account/profile/kyc\" component={Profile} />\n              <Route path=\"/account/profile/wallet\" component={Wallet} />\n              <Route path=\"/account/profile/customerCare\" component={Profile} />\n              <Route path=\"/\" component={Home} />\n            </Switch>\n          </Suspense>\n        </main>\n      </div>\n      <ul className=\"mobileMenu\">\n        <li\n          className={\n            location.pathname === \"/account\" ||\n            location.pathname.startsWith(\"/account/home\")\n              ? \"active\"\n              : undefined\n          }\n        >\n          <Link to=\"/account/home\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"21.648\"\n                height=\"21.513\"\n                viewBox=\"0 0 21.648 21.513\"\n              >\n                <path\n                  id=\"Path_287\"\n                  data-name=\"Path 287\"\n                  d=\"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z\"\n                  transform=\"translate(-0.008 0.011)\"\n                  fill=\"#fff\"\n                />\n              </svg>\n            </div>\n            Home\n          </Link>\n        </li>\n        <li\n          className={`deals ${\n            location.pathname.startsWith(\"/account/deals\")\n              ? \"active\"\n              : undefined\n          }`}\n        >\n          <Link to=\"/account/deals\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"26.55\"\n                height=\"25.219\"\n                viewBox=\"0 0 26.55 25.219\"\n              >\n                <path\n                  id=\"Path_1\"\n                  data-name=\"Path 1\"\n                  d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n                  transform=\"translate(255.198 195.071)\"\n                  fill=\"#fff\"\n                />\n              </svg>\n            </div>\n            Deals\n          </Link>\n        </li>\n        <li\n          className={\n            location.pathname.startsWith(\"/account/wallet\")\n              ? \"active\"\n              : undefined\n          }\n        >\n          <Link to=\"/account/wallet\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"20.886\"\n                height=\"22.948\"\n                viewBox=\"0 0 20.886 22.948\"\n              >\n                <g\n                  id=\"Rectangle_2\"\n                  data-name=\"Rectangle 2\"\n                  fill=\"none\"\n                  stroke=\"#fff\"\n                  strokeWidth=\"2\"\n                >\n                  <rect width=\"20.886\" height=\"16.244\" rx=\"2\" stroke=\"none\" />\n                  <rect\n                    x=\"1\"\n                    y=\"1\"\n                    width=\"18.886\"\n                    height=\"14.244\"\n                    rx=\"1\"\n                    fill=\"none\"\n                  />\n                </g>\n                <g\n                  id=\"Rectangle_3\"\n                  data-name=\"Rectangle 3\"\n                  transform=\"translate(0 9.283)\"\n                  fill=\"none\"\n                  stroke=\"#fff\"\n                  strokeWidth=\"2\"\n                >\n                  <rect width=\"20.886\" height=\"6.962\" rx=\"2\" stroke=\"none\" />\n                  <rect\n                    x=\"1\"\n                    y=\"1\"\n                    width=\"18.886\"\n                    height=\"4.962\"\n                    rx=\"1\"\n                    fill=\"none\"\n                  />\n                </g>\n                <path\n                  id=\"Path_2\"\n                  data-name=\"Path 2\"\n                  d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n                  transform=\"translate(186.6 197.025)\"\n                  fill=\"#fff\"\n                />\n              </svg>\n            </div>\n            Wallet\n          </Link>\n        </li>\n        <li\n          className={`hold ${\n            location.pathname.startsWith(\"/account/hold\") ? \"active\" : undefined\n          }`}\n        >\n          <Link to=\"/account/hold\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"22\"\n                height=\"27\"\n                viewBox=\"0 0 22 27\"\n              >\n                <text\n                  id=\"_3\"\n                  data-name=\"3\"\n                  transform=\"translate(14 14) rotate(180)\"\n                  fill=\"#fff\"\n                  fontSize=\"10\"\n                  fontFamily=\"Ebrima-Bold, Ebrima\"\n                  fontWeight=\"700\"\n                >\n                  <tspan x=\"0\" y=\"0\">\n                    3\n                  </tspan>\n                </text>\n                <g\n                  id=\"Group_166\"\n                  data-name=\"Group 166\"\n                  transform=\"translate(-534.967 -611.816)\"\n                >\n                  <g\n                    id=\"Rectangle_1132\"\n                    data-name=\"Rectangle 1132\"\n                    transform=\"translate(534.967 620.816)\"\n                    fill=\"none\"\n                    stroke=\"#fff\"\n                    strokeWidth=\"2\"\n                  >\n                    <rect width=\"22\" height=\"18\" rx=\"4\" stroke=\"none\" />\n                    <rect\n                      x=\"1\"\n                      y=\"1\"\n                      width=\"20\"\n                      height=\"16\"\n                      rx=\"3\"\n                      fill=\"none\"\n                    />\n                  </g>\n                  <g\n                    id=\"Rectangle_1133\"\n                    data-name=\"Rectangle 1133\"\n                    transform=\"translate(539.967 611.816)\"\n                    fill=\"none\"\n                    stroke=\"#fff\"\n                    strokeWidth=\"2\"\n                  >\n                    <path\n                      d=\"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z\"\n                      fill=\"none\"\n                    />\n                  </g>\n                </g>\n              </svg>\n            </div>\n            Hold\n          </Link>\n        </li>\n        {userType === \"seller\" ? (\n          <li\n            className={`trans ${\n              location.pathname.startsWith(\"/account/myShop\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/myShop/products\">\n              <div className=\"icon\">\n                <svg\n                  id=\"Group_283\"\n                  data-name=\"Group 283\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"28.407\"\n                  height=\"25.407\"\n                  viewBox=\"0 0 28.407 25.407\"\n                >\n                  <g\n                    id=\"Path_4\"\n                    data-name=\"Path 4\"\n                    transform=\"translate(3)\"\n                    fill=\"none\"\n                  >\n                    <path\n                      d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Polygon_1\"\n                    data-name=\"Polygon 1\"\n                    transform=\"translate(6.001 12.353) rotate(-150)\"\n                    fill=\"#fff\"\n                  >\n                    <path\n                      d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Rectangle_4\"\n                    data-name=\"Rectangle 4\"\n                    transform=\"translate(0 11.86) rotate(-22)\"\n                    fill=\"#336cf9\"\n                    stroke=\"#336cf9\"\n                    strokeWidth=\"1\"\n                  >\n                    <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n                    <rect\n                      x=\"0.5\"\n                      y=\"0.5\"\n                      width=\"5.929\"\n                      height=\"3.619\"\n                      fill=\"none\"\n                    />\n                  </g>\n                  <g\n                    id=\"Group_5\"\n                    data-name=\"Group 5\"\n                    transform=\"translate(15.704 4.888)\"\n                  >\n                    <line\n                      id=\"Line_3\"\n                      data-name=\"Line 3\"\n                      y2=\"9.239\"\n                      transform=\"translate(0 0)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                    <line\n                      id=\"Line_4\"\n                      data-name=\"Line 4\"\n                      x2=\"6.929\"\n                      y2=\"2.31\"\n                      transform=\"translate(0 9.239)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                  </g>\n                </svg>\n              </div>\n              My Shop\n            </Link>\n          </li>\n        ) : (\n          <li\n            className={`trans ${\n              location.pathname.startsWith(\"/account/orders\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/orders/current\">\n              <div className=\"icon\">\n                <svg\n                  id=\"Group_283\"\n                  data-name=\"Group 283\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"28.407\"\n                  height=\"25.407\"\n                  viewBox=\"0 0 28.407 25.407\"\n                >\n                  <g\n                    id=\"Path_4\"\n                    data-name=\"Path 4\"\n                    transform=\"translate(3)\"\n                    fill=\"none\"\n                  >\n                    <path\n                      d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Polygon_1\"\n                    data-name=\"Polygon 1\"\n                    transform=\"translate(6.001 12.353) rotate(-150)\"\n                    fill=\"#fff\"\n                  >\n                    <path\n                      d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Rectangle_4\"\n                    data-name=\"Rectangle 4\"\n                    transform=\"translate(0 11.86) rotate(-22)\"\n                    fill=\"#336cf9\"\n                    stroke=\"#336cf9\"\n                    strokeWidth=\"1\"\n                  >\n                    <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n                    <rect\n                      x=\"0.5\"\n                      y=\"0.5\"\n                      width=\"5.929\"\n                      height=\"3.619\"\n                      fill=\"none\"\n                    />\n                  </g>\n                  <g\n                    id=\"Group_5\"\n                    data-name=\"Group 5\"\n                    transform=\"translate(15.704 4.888)\"\n                  >\n                    <line\n                      id=\"Line_3\"\n                      data-name=\"Line 3\"\n                      y2=\"9.239\"\n                      transform=\"translate(0 0)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                    <line\n                      id=\"Line_4\"\n                      data-name=\"Line 4\"\n                      x2=\"6.929\"\n                      y2=\"2.31\"\n                      transform=\"translate(0 9.239)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                  </g>\n                </svg>\n              </div>\n              My Orders\n            </Link>\n          </li>\n        )}\n        {\n          //   <li\n          //   className={`trans ${\n          //     location.pathname.startsWith(\"/account/transactions\")\n          //       ? \"active\"\n          //       : undefined\n          //   }`}\n          // >\n          //   <Link to=\"/account/transactions\">\n          //     <div className=\"icon\">\n          //       <svg\n          //         id=\"Group_283\"\n          //         data-name=\"Group 283\"\n          //         xmlns=\"http://www.w3.org/2000/svg\"\n          //         width=\"28.407\"\n          //         height=\"25.407\"\n          //         viewBox=\"0 0 28.407 25.407\"\n          //       >\n          //         <g\n          //           id=\"Path_4\"\n          //           data-name=\"Path 4\"\n          //           transform=\"translate(3)\"\n          //           fill=\"none\"\n          //         >\n          //           <path\n          //             d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n          //             stroke=\"none\"\n          //           />\n          //           <path\n          //             d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n          //             stroke=\"none\"\n          //             fill=\"#fff\"\n          //           />\n          //         </g>\n          //         <g\n          //           id=\"Polygon_1\"\n          //           data-name=\"Polygon 1\"\n          //           transform=\"translate(6.001 12.353) rotate(-150)\"\n          //           fill=\"#fff\"\n          //         >\n          //           <path\n          //             d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n          //             stroke=\"none\"\n          //           />\n          //           <path\n          //             d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n          //             stroke=\"none\"\n          //             fill=\"#fff\"\n          //           />\n          //         </g>\n          //         <g\n          //           id=\"Rectangle_4\"\n          //           data-name=\"Rectangle 4\"\n          //           transform=\"translate(0 11.86) rotate(-22)\"\n          //           fill=\"#336cf9\"\n          //           stroke=\"#336cf9\"\n          //           strokeWidth=\"1\"\n          //         >\n          //           <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n          //           <rect\n          //             x=\"0.5\"\n          //             y=\"0.5\"\n          //             width=\"5.929\"\n          //             height=\"3.619\"\n          //             fill=\"none\"\n          //           />\n          //         </g>\n          //         <g\n          //           id=\"Group_5\"\n          //           data-name=\"Group 5\"\n          //           transform=\"translate(15.704 4.888)\"\n          //         >\n          //           <line\n          //             id=\"Line_3\"\n          //             data-name=\"Line 3\"\n          //             y2=\"9.239\"\n          //             transform=\"translate(0 0)\"\n          //             fill=\"none\"\n          //             stroke=\"#fff\"\n          //             strokeWidth=\"2\"\n          //           />\n          //           <line\n          //             id=\"Line_4\"\n          //             data-name=\"Line 4\"\n          //             x2=\"6.929\"\n          //             y2=\"2.31\"\n          //             transform=\"translate(0 9.239)\"\n          //             fill=\"none\"\n          //             stroke=\"#fff\"\n          //             strokeWidth=\"2\"\n          //           />\n          //         </g>\n          //       </svg>\n          //     </div>\n          //     Transactions\n          //   </Link>\n          // </li>\n        }\n      </ul>\n    </div>\n  );\n}\nexport const ProfileAvatar = () => {\n  const { user, setUser, cart, sellerCart, userType, setUserType } = useContext(\n    SiteContext\n  );\n  const history = useHistory();\n  const [menu, setMenu] = useState(false);\n  const [invite, setInvite] = useState(false);\n  const [noti, setNoti] = useState(false);\n  const [showCart, setShowCart] = useState(false);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    if (noti) {\n      fetch(\"/api/editUserProfile\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          notificationLastRead: new Date(),\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.user) {\n            setUser((prev) => ({\n              ...prev,\n              notificationLastRead: data.user.notificationLastRead,\n            }));\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [noti]);\n  useEffect(() => {\n    const newNoti = user.notifications?.find((item) => {\n      return new Date(item.createdAt) > new Date(user.notificationLastRead);\n    });\n  }, [noti, user]);\n  const referLink = `${window.location.origin}/u/join?referer=${user._id}`;\n  return (\n    <>\n      <div className=\"profile\">\n        {userType === \"buyer\" ? (\n          <Actions\n            className=\"cart\"\n            icon={\n              <>\n                <Cart_svg />\n                {cart.length > 0 && (\n                  <span className=\"itemCount\">\n                    {cart.reduce((a, c) => a + c.qty, 0)}\n                  </span>\n                )}\n              </>\n            }\n            clickable={true}\n            wrapperClassName=\"popupCart\"\n          >\n            {cart.map(({ product, qty }, i) => (\n              <CartItem key={i} product={product} qty={qty} />\n            ))}\n            {cart.length > 0 && (\n              <li className=\"actions\">\n                <Link to=\"/account/cart\">View Cart</Link>\n                {\n                  // <Link to=\"/account/checkout\">Place order</Link>\n                }\n              </li>\n            )}\n            {cart.length === 0 && <p className=\"placeholder\">cart is empty</p>}\n          </Actions>\n        ) : (\n          <Actions\n            className=\"cart\"\n            icon={\n              <>\n                <Seller_cart_svg />\n                {sellerCart.length > 0 && (\n                  <span className=\"itemCount\">\n                    {sellerCart.reduce((a, c) => a + c.qty, 0)}\n                  </span>\n                )}\n              </>\n            }\n            clickable={true}\n            wrapperClassName=\"popupCart\"\n          >\n            {sellerCart.map(({ product, qty }, i) => (\n              <CartItem key={i} product={product} qty={qty} />\n            ))}\n            {sellerCart.length > 0 && (\n              <li className=\"actions\">\n                <Link to=\"/account/sellerCart\">View Order</Link>\n              </li>\n            )}\n            {sellerCart.length === 0 && (\n              <p className=\"placeholder\">cart is empty</p>\n            )}\n          </Actions>\n        )}\n        <Actions\n          icon={\n            <svg\n              id=\"bell\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"15.918\"\n              height=\"16\"\n              viewBox=\"0 0 15.918 16\"\n            >\n              <path\n                id=\"Path_1\"\n                data-name=\"Path 1\"\n                d=\"M15,14H10a2,2,0,0,1-4,0H1a.961.961,0,0,1-.9-.7,1.068,1.068,0,0,1,.3-1.1A4.026,4.026,0,0,0,2,9V6A6,6,0,0,1,14,6V9a4.026,4.026,0,0,0,1.6,3.2.947.947,0,0,1,.3,1.1A.961.961,0,0,1,15,14Z\"\n                transform=\"translate(-0.063)\"\n                fill=\"#fff\"\n                fillRule=\"evenodd\"\n              />\n            </svg>\n          }\n          wrapperClassName=\"notiWrapper\"\n          onClick={() => setNoti(true)}\n        >\n          {[...user.notifications].reverse().map((item, i) => {\n            return (\n              <li\n                key={i}\n                onClick={() => {\n                  if (item.link) {\n                    if (item.link.includes(\"/myShop/\")) {\n                      setUserType(\"seller\");\n                    }\n                    if (item.link.includes(\"/account/orders\")) {\n                      setUserType(\"buyer\");\n                    }\n                    history.push({\n                      pathname: item.link,\n                      target: \"_blank\",\n                    });\n                  }\n                }}\n              >\n                <Moment format=\"hh:mm\">{item.createdAt}</Moment>\n                <p className=\"title\">{item.title}</p>\n                <p className=\"body\">{item.body}</p>\n              </li>\n            );\n          })}\n        </Actions>\n        {\n          //   <p className=\"name\">\n          //   {user?.firstName + \" \" + user?.lastName || user.phone}\n          // </p>\n        }\n        <Actions\n          wrapperClassName=\"menu\"\n          className=\"avatar\"\n          icon={\n            <>\n              <Img\n                src={user?.profileImg || \"/profile-user.jpg\"}\n                onClick={() => setMenu(!menu)}\n              />\n              {userType && <p className=\"userTypeTag\">{userType}</p>}\n            </>\n          }\n        >\n          <p className=\"name\">\n            {user?.firstName + \" \" + user?.lastName || user.phone}\n          </p>\n          <UserTypeSwitch tip={true} />\n          <Link className=\"link\" to=\"/account\">\n            Dashboard\n          </Link>\n          <Link className=\"link trans\" to=\"/account/transactions\">\n            Transactions\n          </Link>\n          <Link className=\"link settings\" to=\"/account/profile\">\n            Settings\n          </Link>\n          <Link className=\"link\" to=\"/aboutUs\">\n            More about us\n          </Link>\n          <div className=\"referral\">\n            <button\n              onClick={() => {\n                setInvite(true);\n              }}\n            >\n              Invite now\n            </button>\n            <p>Refer and earn flat 50/- cashback to your wallet</p>\n          </div>\n          <button\n            className=\"logout\"\n            onClick={() => {\n              fetch(\"/api/logout\")\n                .then((res) => res.json())\n                .then((data) => {\n                  setUser(null);\n                  history.push(\"/\");\n                  LS.remove([\"userType\", \"buyer\", \"localSellerCart\"]);\n                })\n                .catch((err) => {\n                  console.log(err);\n                  setMsg(\n                    <>\n                      <button onClick={() => setMsg(null)}>Okay</button>\n                      <div>\n                        <Err_svg />\n                        <h4>Could not logout.</h4>\n                      </div>\n                    </>\n                  );\n                });\n            }}\n          >\n            Logout\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"31.702\"\n              height=\"31.702\"\n              viewBox=\"0 0 31.702 31.702\"\n            >\n              <path\n                id=\"Path_1758\"\n                data-name=\"Path 1758\"\n                d=\"M15.487,25.174l2.483,2.483,8.806-8.806L17.97,10.045l-2.483,2.483,4.544,4.562H3v3.522H20.031ZM31.18,3H6.522A3.521,3.521,0,0,0,3,6.522v7.045H6.522V6.522H31.18V31.18H6.522V24.135H3V31.18A3.521,3.521,0,0,0,6.522,34.7H31.18A3.533,3.533,0,0,0,34.7,31.18V6.522A3.533,3.533,0,0,0,31.18,3Z\"\n                transform=\"translate(-3 -3)\"\n                fill=\"#fc0660\"\n              />\n            </svg>\n          </button>\n        </Actions>\n      </div>\n      <Modal\n        className=\"invite\"\n        open={invite}\n        onBackdropClick={() => setInvite(false)}\n      >\n        <div className=\"imgWrapper\" onClick={() => setInvite(false)}>\n          <QRCode value={referLink} size={250} renderAs=\"svg\" />\n        </div>\n        <ShareButtons url={referLink} />\n      </Modal>\n    </>\n  );\n};\nconst Accordion = ({ label, className, location, link, path, children }) => {\n  return (\n    <li\n      className={`accordion ${className || \"\"} ${\n        location.pathname.startsWith(link) && \"open\"\n      }`}\n    >\n      <Link to={path}>{label}</Link>\n      {location.pathname.startsWith(link) && (\n        <ul>\n          <li>\n            <Chev_down_svg />\n          </li>\n          {children}\n        </ul>\n      )}\n    </li>\n  );\n};\n\nconst UserTypeSwitch = ({ tip }) => {\n  const { userType, setUserType } = useContext(SiteContext);\n  return (\n    <div className=\"userTypeSwitch\">\n      <label>Browse as</label>\n      <ul className=\"options\">\n        <li\n          className={userType === \"buyer\" ? \"active\" : \"\"}\n          onClick={() => setUserType(\"buyer\")}\n        >\n          Buyer\n        </li>\n        <li\n          className={userType === \"seller\" ? \"active\" : \"\"}\n          onClick={() => setUserType(\"seller\")}\n        >\n          Seller\n        </li>\n      </ul>\n      {tip && (\n        <>\n          <div className=\"break\" />\n          {userType === \"seller\" ? (\n            <p className=\"note\">\n              As a seller, you can manage your\n              <br /> product listing, order, refunds and general shop settings.\n            </p>\n          ) : (\n            <p className=\"note\">\n              As a buyer, you can manage your\n              <br /> perchase orders, payments and deals.\n            </p>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Account;\n","import React, { useEffect, forwardRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createPortal } from \"react-dom\";\nimport { X_svg } from \"./Elements\";\n\nexport const Modal = forwardRef(\n  (\n    {\n      containerClass,\n      open,\n      setOpen,\n      children,\n      className,\n      onBackdropClick,\n      backdropClass,\n      style,\n      head,\n      label,\n    },\n    ref\n  ) => {\n    useEffect(() => {\n      if (!containerClass) return;\n      const portal = document.querySelector(\"#portal\");\n      portal.classList.add(containerClass);\n      return () => portal.classList.remove(containerClass);\n    });\n    if (!open) return null;\n    return createPortal(\n      <>\n        <div\n          className={`modalBackdrop ${backdropClass}`}\n          onClick={(e) => {\n            e.stopPropagation();\n            onBackdropClick?.();\n          }}\n        />\n        <div\n          style={{ ...style }}\n          ref={ref}\n          className={`modal ${className || \"\"}`}\n        >\n          {head && (\n            <div className=\"head\">\n              <p className=\"modalName\">{label}</p>\n              <button onClick={() => setOpen?.(false)}>\n                <X_svg />\n              </button>\n            </div>\n          )}\n          {children}\n        </div>\n      </>,\n      document.querySelector(\"#portal\")\n    );\n  }\n);\n\nexport const Confirm = ({ className, label, question, callback }) => {\n  const cleanup = () =>\n    ReactDOM.render(<></>, document.querySelector(\"#confirm\"));\n  const confirm = () => {\n    callback();\n    cleanup();\n  };\n  const decline = () => cleanup();\n  ReactDOM.render(\n    <>\n      <div className={`modalBackdrop`} />\n      <div className={`modal confirm ${className || \"\"}`}>\n        <div className=\"head\">\n          <p className=\"modalName\">{label}</p>\n          <button onClick={decline}>\n            <X_svg />\n          </button>\n        </div>\n        <div className=\"content\">\n          <p className=\"question\">{question}</p>\n          <div className=\"actions\">\n            <button className=\"yes\" onClick={confirm}>\n              Confirm\n            </button>\n            <button className=\"no\" onClick={decline}>\n              Decline\n            </button>\n          </div>\n        </div>\n      </div>\n    </>,\n    document.querySelector(\"#confirm\")\n  );\n};\n","const isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    window.location.hostname === \"[::1]\" ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\n  const base64 = (base64String + padding)\n    .replace(/\\-/g, \"+\")\n    .replace(/_/g, \"/\");\n\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n\nexport function register(config) {\n  if (\"serviceWorker\" in navigator) {\n    const swUrl = `/service-worker.js`;\n    if (isLocalhost) {\n      checkValidServiceWorker(swUrl, config);\n      navigator.serviceWorker.ready.then(async (serviceWorker) => {\n        return await serviceWorker.pushManager\n          .subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: urlBase64ToUint8Array(\n              \"BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo\"\n            ),\n          })\n          .then((subscription) => {\n            fetch(\"/api/subscribe\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify(subscription),\n            });\n          });\n      });\n    } else {\n      registerValidSW(swUrl, config);\n    }\n  } else {\n    console.log(\"serviceWorker is no supported\");\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log(\"Content is cached for offline use.\");\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n            navigator.serviceWorker.ready.then(async (serviceWorker) => {\n              return await serviceWorker.pushManager\n                .subscribe({\n                  userVisibleOnly: true,\n                  applicationServerKey: urlBase64ToUint8Array(\n                    \"BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo\"\n                  ),\n                })\n                .then((subscription) => {\n                  fetch(\"/api/subscribe\", {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify(subscription),\n                  });\n                });\n            });\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, { headers: { \"Service-Worker\": \"script\" } })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  } else {\n    console.log(\"does not support serviceWorker\");\n  }\n}\n","import React, {\n  createContext,\n  useState,\n  useEffect,\n  useContext,\n  useRef,\n} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { LS } from \"./components/Elements\";\nimport { io } from \"socket.io-client\";\nexport const socket = io();\n\nexport const SiteContext = createContext();\nexport const Provider = ({ children }) => {\n  const { gtag, ga } = window;\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userType, setUserType] = useState(LS.get(\"userType\") || \"\");\n  const [cart, setCart] = useState(JSON.parse(LS.get(\"localCart\")) || []);\n  const [sellerCart, setSellerCart] = useState(\n    JSON.parse(LS.get(\"localSellerCart\")) || []\n  );\n  const [config, setConfig] = useState({});\n  useEffect(() => {\n    LS.set(\"localCart\", JSON.stringify(cart));\n  }, [cart]);\n  useEffect(() => {\n    LS.set(\"localSellerCart\", JSON.stringify(sellerCart));\n  }, [sellerCart]);\n  useEffect(() => {\n    if (userType === \"seller\") {\n      document.body.style.setProperty(\"--blue\", `#2598b6`);\n    } else {\n      document.body.style.setProperty(\"--blue\", `#3b2ab4`);\n    }\n    LS.set(\"userType\", userType);\n  }, [userType]);\n  useEffect(() => {\n    fetch(\"/api/siteConfig\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setConfig(data.config || {});\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {\n    if (user) {\n      gtag(\"set\", { user_id: user._id });\n      ga(\"set\", \"userId\", user._id);\n    }\n  }, [user]);\n  return (\n    <SiteContext.Provider\n      value={{\n        user,\n        setUser,\n        isAuthenticated,\n        setIsAuthenticated,\n        cart,\n        setCart,\n        sellerCart,\n        setSellerCart,\n        userType,\n        setUserType,\n        config,\n      }}\n    >\n      {children}\n    </SiteContext.Provider>\n  );\n};\n\nexport const ChatContext = createContext();\nexport const ChatProvider = ({ children }) => {\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [windowFocus, setWindowFocus] = useState(true);\n  const [connectedRooms, setConnectedRooms] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [unread, setUnread] = useState(0);\n  const effectRan = useRef(false);\n  useEffect(() => {\n    if (user && contacts.length === 0) {\n      fetch(\"/api/getChat\")\n        .then((res) => res.json())\n        .then((data) => {\n          setContacts(() =>\n            data\n              .map((chat) => {\n                const status = user.blockList?.some(\n                  (item) => item === chat.client._id\n                )\n                  ? \"blocked\"\n                  : chat.clientBlock\n                  ? \"blockedByClient\"\n                  : \"\";\n                return {\n                  ...chat,\n                  ...(chat.client.phone && { status }),\n                  unread: chat.messages.filter((msg) => {\n                    return new Date(msg.createdAt) > new Date(chat.lastSeen);\n                  }).length,\n                };\n              })\n              .sort((a, b) => {\n                if (\n                  new Date(a.messages[a.messages.length - 1]?.createdAt) >\n                  new Date(b.messages[b.messages.length - 1]?.createdAt)\n                ) {\n                  return -1;\n                } else {\n                  return 1;\n                }\n              })\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [user]);\n  useEffect(() => {\n    const focusHandler = (e) => setWindowFocus(true);\n    const blurHandler = (e) => setWindowFocus(false);\n    window.addEventListener(\"focus\", focusHandler);\n    window.addEventListener(\"blur\", blurHandler);\n    return () => {\n      window.removeEventListener(\"focus\", focusHandler);\n      window.removeEventListener(\"blur\", blurHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (!effectRan.current && user) {\n      socket.on(\"connect\", () => {\n        console.log(\"connected\");\n      });\n      socket.on(\"disconnect\", () => {\n        console.log(\"disconnected from socket\");\n      });\n      socket.on(\n        \"connectedToRoom\",\n        ({ rooms, newChat, client, clientRoom_id }) => {\n          if (newChat) {\n            setContacts((prev) =>\n              prev.map((chat) => {\n                if (chat.client._id === client) {\n                  return {\n                    ...chat,\n                    _id: clientRoom_id,\n                  };\n                } else {\n                  return chat;\n                }\n              })\n            );\n          }\n          setRooms(rooms);\n        }\n      );\n      socket.on(\"messageToUser\", (payload) => {\n        const focus =\n          setWindowFocus &&\n          history.location.pathname.replace(\"/account/deals/\", \"\") ===\n            payload.from;\n        if (payload.from) {\n          setContacts((prev) => {\n            const newContacts = prev\n              .map((chat) => {\n                const newMessages = [\n                  ...chat.messages,\n                  { ...payload, createdAt: new Date(), updatedAt: new Date() },\n                ];\n                if (payload.from === user?._id) {\n                  if (chat.client._id === payload.to) {\n                    return {\n                      ...chat,\n                      lastSeen: new Date().toISOString(),\n                      unread: null,\n                      messages: newMessages,\n                    };\n                  }\n                } else {\n                  if (chat.client._id === payload.from) {\n                    return {\n                      ...chat,\n                      messages: newMessages,\n                      unread: newMessages.filter(\n                        (msg) =>\n                          new Date(msg.createdAt) > new Date(chat.lastSeen)\n                      ).length,\n                    };\n                  }\n                }\n                return chat;\n              })\n              .sort((a, b) =>\n                new Date(a.messages[a.messages.length - 1]?.createdAt) >\n                new Date(b.messages[b.messages.length - 1]?.createdAt)\n                  ? -1\n                  : 1\n              );\n            return newContacts;\n          });\n          if (!focus) {\n            socket.emit(\"clientAway\", payload);\n          }\n        }\n      });\n      socket.on(\"newChat\", (payload) => {\n        setContacts((prev) => {\n          return [\n            { ...payload.chat },\n            ...prev.filter(({ _id }) => _id !== payload.chat?._id),\n          ];\n        });\n      });\n      effectRan.current = true;\n    }\n  }, [user]);\n  useEffect(() => {\n    if (contacts.map((room) => room._id).join(\"\") !== connectedRooms.join(\"\")) {\n      socket.emit(\"joinRooms\", { rooms: contacts.map((room) => room._id) });\n      setConnectedRooms(contacts.map((room) => room._id));\n    }\n  }, [contacts]);\n  useEffect(() => {\n    setUnread(contacts.reduce((a, c) => a + c.unread, 0));\n  }, [contacts]);\n  return (\n    <ChatContext.Provider\n      value={{\n        contacts,\n        setContacts,\n        unread,\n        rooms,\n        setRooms,\n      }}\n    >\n      {children}\n    </ChatContext.Provider>\n  );\n};\n"],"sourceRoot":""}