{"version":3,"sources":["serviceWorkerRegistration.js","components/Elements.js","reportWebVitals.js","index.js","components/Forms.js","components/Hold.js","components/Transactions.js","components/Wallet.js","components/OrderManagement.js","components/RefundManagement.js","components/Profile.js","components/fbMarketplace.js","components/MyShop.js","components/Support.js","components/myShopping.js","components/Account.js","components/Modal.js","components/Marketplace.js","components/Deals.js","SiteContext.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","urlBase64ToUint8Array","base64String","base64","repeat","length","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","register","config","navigator","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","a","pushManager","subscribe","userVisibleOnly","applicationServerKey","subscription","method","body","JSON","stringify","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","require","Err_svg","xmlns","width","height","viewBox","id","x1","y1","x2","y2","gradientUnits","offset","stopColor","rx","fill","transform","d","Succ_svg","clipPath","X_svg","Step_tick","className","stroke","strokeWidth","cx","cy","r","Step_blank","Step_fill","Prog_done","Prog_running","Prog_runningBack","Plus_svg","Minus_svg","Arrow_up_svg","Arrow_down_svg","Arrow_left_svg","Chev_down_svg","External_link_icon","focusable","Tick","Cart_svg","version","x","y","Img","defaultSrc","src","rest","useState","setSrc","onError","onClick","Checkbox","defaultValue","value","required","onChange","checked","setChecked","useEffect","type","e","Combobox","options","maxHeight","placeholder","disabled","dataId","validationMessage","label","find","item","setValue","open","setOpen","setData","optionsStyle","setOptionsStyle","input","useRef","section","useLayoutEffect","current","getBoundingClientRect","position","left","top","innerHeight","ref","onFocus","target","blur","backdropClass","onBackdropClick","style","zIndex","map","option","setCustomValidity","NumberInput","min","max","step","readOnly","toString","FileInput","prefill","multiple","accept","name","files","setFiles","fileIndex","file","url","URL","createObjectURL","img","startsWith","prev","filter","some","useOnScreen","visible","setVisible","observer","IntersectionObserver","entry","isIntersecting","observe","unobserve","Pagination","total","btns","perPage","currentPage","setPage","setCurrentPage","pages","setPages","links","setLinks","Array","Math","ceil","keys","num","remain","middle","pivit","Header","useContext","SiteContext","user","setUser","history","cart","setCart","userType","useHistory","res","json","data","to","alt","pathname","Footer","UploadFiles","setMsg","cdn","process","formData","FormData","uploaded","_file","push","append","code","link","err","Media","mediaPreview","setMediaPreview","media","setMedia","index","setIndex","medias","thumb","view","handleClick","controls","autoPlay","href","Actions","icon","children","wrapperClassName","clickable","setStyle","buttonRef","wrapperRef","bottom","wrapper","right","innerWidth","stopPropagation","Tabs","basepath","tabs","path","User","profileImg","firstName","lastName","phone","moment","time","format","Date","year","includes","month","weekday","day","hour","minute","second","values","Intl","DateTimeFormat","formatToParts","dayPeriod","Moment","calculatePrice","product","gst","discount","finalPrice","price","amount","calculateDiscount","verified","fix","LS","set","key","localStorage","setItem","getItem","remove","removeItem","addToCart","_id","qty","Tip","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","App","lazy","ErrorBoundary","props","hasError","reported","errorInfo","issue","dscr","this","React","Component","ReactDOM","render","StrictMode","fallback","document","getElementById","MilestoneReleaseForm","milestone","setReleaseForm","msg","onSubmit","preventDefault","AddressForm","client","onCancel","setName","setPhone","address","zip","setZip","locality","setLocatily","street","setStreet","city","setCity","setState","landmark","setLandmark","altPhone","setAltPhone","htmlFor","resiz","DisputeForm","setDisputeForm","setIssue","loading","setLoading","setDscr","caseFiles","setCaseFiles","submit","fileLinks","milestoneId","defendantId","_case","role","TicketForm","setMilestone","transaction","setTransaction","message","setMessage","ticket","TicketReplyForm","CommonMilestoneElement","createdAt","dispute","SellerMilestone","setMilestones","releaseForm","disputeForm","myCase","disputeFiledBy","plaintiff","defendant","case","approveMilestone","milestone_id","Confirm","question","callback","Modal","head","BuyerMilestone","declineMilestone","cancelRequest","requestRelease","Hold","dateFilterRef","milestones","setTotal","queryString","parse","search","page","setPerPage","q","setSearch","setStatus","dateOpen","setDateOpen","startDate","endDate","dateRange","setDateRange","column","sort","order","dateFilter","setDateFilter","datePickerStyle","setDatePickerStyle","setHours","URLSearchParams","dateFrom","dateTo","display","opacity","ranges","range1","StartTransaction","recentPayments","setRecentPayments","setClient","action","SingleTransaction","releaseDate","verification","Transactions","transactions","setTransactions","generateGreetings","currentHour","getHours","Graph","b","balance","PaymentMethodForm","setType","BankCardForm","brand","setBrand","nameOnCard","cardNumber","setCardNumber","expMonth","setExpMonth","expYear","setExpYear","cvv","setCvv","unsupporetdCard","setUnsuppportedCard","years","getFullYear","substr","setTimeout","exp","paymentMethod","paymentMethods","NetBankingForm","bank","setBank","ifsc","setIfsc","accountNumber","setAccountNumber","accountType","BankCard","card","BankAccount","account","Cards","container","wrapperStyle","setWrapperStyle","paymentForm","setPaymentForm","__t","filterUnits","dx","dy","stdDeviation","result","floodOpacity","operator","in2","in","note","abs","Wallet","setBalance","monthlyBalance","setMonthlyBalance","addMoneyAmount","setAddMoneyAmount","rewards","setRewards","addMoneySuccess","setAddMoneySuccess","setAddMoneyFailed","Promise","rej","querySelector","scr","createElement","appendChild","onload","onerror","Razorpay","rzp1","currency","accept_partial","description","image","order_id","handler","transactionId","razorpay_payment_id","razorSignature","razorpay_signature","razorOrderId","razorpay_order_id","modal","ondismiss","theme","color","notify","sms","email","reminder_enable","on","handleOrder","redeemed","reward","SingleOrder","setOrders","selectAll","setBatch","batch","actionsRef","checkRef","selected","setSelected","cancelOrder","acceptOrder","requestCancellation","nativeEvent","buyer","products","reduce","c","refundable","FullOrder","setOrder","shopInfo","shippingCost","setShipping","deliveryTime","milestoneForm","setMilestoneForm","fileUpload","setFileUpload","declineOrder","markAsShipped","markAsDelivered","params","lable","Object","entries","deliveryDetail","deliveryWithin","available","images","fee","terms","definedAmount","FileUploadForm","title","Orders","categories","orders","setSelectAll","SingleRefund","refund","setRefunds","seller","FullRefund","setRefund","refundTill","setRefundTill","updateRefund","newData","acceptRefund","declineRefund","days","getTime","deliveredAt","shipping","cellSpacing","cellPadding","Refunds","refunds","updateProfileInfo","SinglePaymentMethod","edit","setEdit","deletePaymentMethod","useCallback","DataEdit","fields","form","allData","field","password","confirm_password","geolocation","getCurrentPosition","lat","coords","latitude","long","longitude","coordinates","alert","Profile","mismatchPass","setMismatchPass","kycFiles","setKycFiles","addGoogleId","googleId","disconnectFromGoogle","userId","pattern","gender","age","kyc","clientId","buttonText","onFailure","cookiePolicy","Step","defaultStatus","BusinessManager","FB","businessManagers","setBusinessManagers","setErr","fbMarket","business","api","access_token","businesses","businessManager","created_time","newUser","picture","business_id","asset_id","vertical","error_user_msg","FbPage","fbPages","setFbPages","createNew","setCreateNew","facebookPage","category","CommerceAccount","setStep","commerceAccount","catalog","setCatalog","delCatalog","Marketplace","userAgreement","logout","login","authResponse","accessToken","long_lived_token","ProductForm","setCategory","setDiscount","setPrice","setGst","hsn","setHsn","setAvailable","tags","setTags","tag","onKeyPress","trim","charCode","focus","previousElementSibling","Products","shopSetupComplete","productForm","setProductForm","setProducts","addMany","setAddMany","deleteItems","items","_ids","deleteMany","addToFbMarket","fb_products","success","failed","forEach","prod","fbMarketId","removeFromFbMarket","SingleProduct","BatchUpload","batchItems","setBatchItems","setImages","csvDraft","setCsvDraft","addBatchProducts","updated","uploadImages","imgLinks","Images","Name","Description","Material","Category","Type","filename","toLowerCase","newItems","splice","cb","reader","FileReader","evt","bstr","wb","XLSX","read","wsname","SheetNames","ws","Sheets","utils","sheet_to_json","header","arr","cols","shift","row","col","j","readAsBinaryString","parseXLSXtoJSON","undefined","split","defaultTerms","Settings","setCategories","gstEdit","setGstEdit","shippingEdit","setShippingEdit","termsEdit","setTermsEdit","editPayment","setEditPayment","cat","detail","reg","GstEditForm","gstFiles","setGstFiles","gstReg","setGstReg","setAmount","ShippingEditForm","setShippingCost","setDeliveryWithin","setRefundable","TermsEditForm","setTerms","addTerm","setAddTerm","term","MyShop","setShopSetupComplete","component","OrderManagement","RefundManagement","FBMarket","BugReportForm","Tickets","ticketForm","setTicketForm","tickets","setTickets","setSort","pageInfo","count","newTicket","SingleTicket","setTicket","replyForm","setReplyForm","updatedAt","messages","reverse","Support","faqs","setFaqs","bugReport","setBugReport","ques","ans","carts","setCarts","OrderDraft","issueRefund","setIssueRefund","RefundForm","Disputes","disputes","setDisputes","SingleDispute","FullDispute","Case","winner","MyShopping","QRCode","Home","setUserType","recentOrders","setRecentOrders","UserSearch","users","setUsers","showUsers","setShowUsers","formRef","inviteUser","RegExp","test","origin","documentClickHandler","addEventListener","removeEventListener","encodeURIComponent","ProfileAvatar","menu","setMenu","invite","setInvite","noti","setNoti","setUnread","notificationLastRead","notifications","referLink","fillRule","tip","size","renderAs","EmailShareButton","EmailIcon","FacebookShareButton","FacebookIcon","HatenaShareButton","HatenaIcon","InstapaperShareButton","InstapaperIcon","LineShareButton","LineIcon","LinkedinShareButton","LinkedinIcon","LivejournalShareButton","LivejournalIcon","MailruShareButton","MailruIcon","OKShareButton","OKIcon","PinterestShareButton","PinterestIcon","PocketShareButton","PocketIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","TumblrShareButton","TumblrIcon","TwitterShareButton","TwitterIcon","ViberShareButton","ViberIcon","VKShareButton","VKIcon","WhatsappShareButton","WhatsappIcon","WorkplaceShareButton","WorkplaceIcon","Accordion","UserTypeSwitch","MilestoneForm","strict","userDetail","clientDetail","setFee","onTimeout","requestMilestone","buyer_id","createMilestone","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","onClose","draggable","progress","Account","unread","ChatContext","useLocation","socket","connected","connect","fontSize","fontFamily","fontWeight","Deals","Cart","forwardRef","containerClass","portal","classList","add","createPortal","cleanup","decline","MiniChat","onToggle","contacts","setContacts","userCard","setUserCard","chat","setChat","clientChat","contact","userBlock","emit","client_id","newChat","Product","setProduct","chatOpen","setChatOpen","Gallery","setView","ImageView","boundingBody","setBoundingBody","applyStyle","setApplyStyle","onMouseMove","round","clientX","clientY","onTouchStart","overflow","onTouchEnd","onTouchMove","touches","transition","onMouseEnter","onMouseLeave","Shop","setDeliveryDetail","addressForm","setAddressForm","showTerms","setShowTerms","CartItem","rootMargin","loadingRef","loadingVisible","sortOptions","sellerDetail","setSellerDetail","setLoadingMore","shopName","Person","lastSeen","toISOString","text","Chat","rooms","chatWrapper","setRooms","msgLoading","setMsgLoading","allMessages","setAllMessages","blocked","blockList","onScroll","Bubble","ChatForm","scrollBy","scrollHeight","ReportForm","timestamp","dateStamp","from","MediaBubble","fullView","inputRef","Preview","autoFocus","onKeyDown","keyCode","altKey","user_id","person","io","createContext","Provider","isAuthenticated","setIsAuthenticated","setConfig","setProperty","ChatProvider","setWindowFocus","connectedRooms","setConnectedRooms","effectRan","clientBlock","clientRoom_id","focusHandler","blurHandler","payload","newMessages","room","join"],"mappings":"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","file":"static/js/main.49a4b825.chunk.js","sourcesContent":["const isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    window.location.hostname === \"[::1]\" ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\n  const base64 = (base64String + padding)\n    .replace(/\\-/g, \"+\")\n    .replace(/_/g, \"/\");\n\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n\nexport function register(config) {\n  if (\"serviceWorker\" in navigator) {\n    const swUrl = `/service-worker.js`;\n    if (isLocalhost) {\n      checkValidServiceWorker(swUrl, config);\n      navigator.serviceWorker.ready.then(async (serviceWorker) => {\n        return await serviceWorker.pushManager\n          .subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: urlBase64ToUint8Array(\n              \"BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo\"\n            ),\n          })\n          .then((subscription) => {\n            fetch(\"/api/subscribe\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify(subscription),\n            });\n          });\n      });\n    } else {\n      registerValidSW(swUrl, config);\n    }\n  } else {\n    console.log(\"serviceWorker is no supported\");\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log(\"Content is cached for offline use.\");\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n            navigator.serviceWorker.ready.then(async (serviceWorker) => {\n              return await serviceWorker.pushManager\n                .subscribe({\n                  userVisibleOnly: true,\n                  applicationServerKey: urlBase64ToUint8Array(\n                    \"BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo\"\n                  ),\n                })\n                .then((subscription) => {\n                  fetch(\"/api/subscribe\", {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify(subscription),\n                  });\n                });\n            });\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, { headers: { \"Service-Worker\": \"script\" } })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  } else {\n    console.log(\"does not support serviceWorker\");\n  }\n}\n","import {\n  useState,\n  useRef,\n  useLayoutEffect,\n  useEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Modal } from \"./Modal\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { CartItem } from \"./Marketplace\";\nimport { ProfileAvatar } from \"./Account\";\n\nrequire(\"./styles/elements.scss\");\n\nexport const Err_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"158\"\n      height=\"158\"\n      viewBox=\"0 0 158 158\"\n    >\n      <defs>\n        <linearGradient\n          id=\"linear-gradient-red\"\n          x1=\"-0.298\"\n          y1=\"-0.669\"\n          x2=\"1.224\"\n          y2=\"1.588\"\n          gradientUnits=\"objectBoundingBox\"\n        >\n          <stop offset=\"0\" stopColor=\"#f93389\" />\n          <stop offset=\"1\" stopColor=\"#e3003e\" />\n        </linearGradient>\n      </defs>\n      <rect\n        id=\"Rectangle_1104\"\n        data-name=\"Rectangle 1104\"\n        width=\"158\"\n        height=\"158\"\n        rx=\"79\"\n        fill=\"url(#linear-gradient-red)\"\n      />\n      <g\n        id=\"Component_85_8\"\n        data-name=\"Component 85  8\"\n        transform=\"translate(49.472 49.472)\"\n      >\n        <path\n          id=\"Union_3\"\n          data-name=\"Union 3\"\n          d=\"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z\"\n          fill=\"#fff\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Succ_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"158\"\n      height=\"158\"\n      viewBox=\"0 0 158 158\"\n    >\n      <defs>\n        <linearGradient\n          id=\"linear-gradient\"\n          x1=\"-0.298\"\n          y1=\"-0.669\"\n          x2=\"1.224\"\n          y2=\"1.588\"\n          gradientUnits=\"objectBoundingBox\"\n        >\n          <stop offset=\"0\" stopColor=\"#336cf9\" />\n          <stop offset=\"1\" stopColor=\"#1be6d6\" />\n        </linearGradient>\n        <clipPath id=\"clip-path\">\n          <rect width=\"64\" height=\"64\" fill=\"none\" />\n        </clipPath>\n      </defs>\n      <g\n        id=\"Group_163\"\n        data-name=\"Group 163\"\n        transform=\"translate(-0.426 -0.384)\"\n      >\n        <g id=\"Group_103\" data-name=\"Group 103\" transform=\"translate(0 0)\">\n          <rect\n            id=\"Rectangle_1104\"\n            data-name=\"Rectangle 1104\"\n            width=\"158\"\n            height=\"158\"\n            rx=\"79\"\n            transform=\"translate(0.426 0.384)\"\n            fill=\"url(#linear-gradient)\"\n          />\n        </g>\n        <g\n          id=\"Component_148_2\"\n          data-name=\"Component 148  2\"\n          transform=\"translate(47.426 58.384)\"\n          clipPath=\"url(#clip-path)\"\n        >\n          <rect\n            id=\"Rectangle_460\"\n            data-name=\"Rectangle 460\"\n            width=\"64\"\n            height=\"64\"\n            transform=\"translate(0 0)\"\n            fill=\"none\"\n          />\n          <path\n            id=\"Checkbox\"\n            d=\"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z\"\n            transform=\"translate(0 1.728)\"\n            fill=\"#fff\"\n          />\n        </g>\n      </g>\n    </svg>\n  );\n};\nexport const X_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"15.557\"\n      height=\"15.557\"\n      viewBox=\"0 0 15.557 15.557\"\n    >\n      <defs>\n        <clipPath id=\"clip-path\">\n          <rect width=\"15.557\" height=\"15.557\" fill=\"none\" />\n        </clipPath>\n      </defs>\n      <g id=\"Cancel\" clipPath=\"url(#clip-path)\">\n        <path\n          id=\"Union_3\"\n          data-name=\"Union 3\"\n          d=\"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z\"\n          fill=\"#2699fb\"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const Step_tick = ({ className }) => {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"65\"\n      height=\"65\"\n      viewBox=\"0 0 65 65\"\n    >\n      <g\n        id=\"Ellipse_110\"\n        data-name=\"Ellipse 110\"\n        fill=\"#fff\"\n        stroke=\"#336cf9\"\n        strokeWidth=\"1\"\n      >\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32.5\" stroke=\"none\" />\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32\" fill=\"none\" />\n      </g>\n      <path\n        id=\"Checkbox\"\n        d=\"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z\"\n        transform=\"translate(17.034 20.967)\"\n        fill=\"#336cf9\"\n      />\n    </svg>\n  );\n};\nexport const Step_blank = ({ className }) => {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"65\"\n      height=\"65\"\n      viewBox=\"0 0 65 65\"\n    >\n      <g\n        id=\"Ellipse_229\"\n        data-name=\"Ellipse 229\"\n        fill=\"#fff\"\n        stroke=\"#707070\"\n        strokeWidth=\"1\"\n      >\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32.5\" stroke=\"none\" />\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32\" fill=\"none\" />\n      </g>\n    </svg>\n  );\n};\nexport const Step_fill = ({ className }) => {\n  return (\n    <svg\n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"65\"\n      height=\"65\"\n      viewBox=\"0 0 65 65\"\n    >\n      <g\n        id=\"Ellipse_110\"\n        data-name=\"Ellipse 110\"\n        fill=\"#336cf9\"\n        stroke=\"#336cf9\"\n        strokeWidth=\"1\"\n      >\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32.5\" stroke=\"none\" />\n        <circle cx=\"32.5\" cy=\"32.5\" r=\"32\" fill=\"none\" />\n      </g>\n      <path\n        id=\"Checkbox\"\n        d=\"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z\"\n        transform=\"translate(17.034 20.967)\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const Prog_done = () => {\n  return (\n    <svg\n      className=\"done\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"214.5\"\n      height=\"2\"\n      viewBox=\"0 0 214.5 2\"\n    >\n      <line\n        id=\"Line_22\"\n        data-name=\"Line 22\"\n        x2=\"214.5\"\n        transform=\"translate(0 1)\"\n        fill=\"none\"\n        stroke=\"#1be6d6\"\n        strokeWidth=\"2\"\n      />\n    </svg>\n  );\n};\nexport const Prog_running = () => {\n  return (\n    <svg\n      className=\"running\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"200\"\n      height=\"16.55\"\n      viewBox=\"0 0 200 16.55\"\n    >\n      <g\n        id=\"Group_203\"\n        data-name=\"Group 203\"\n        transform=\"translate(-5063.943 -1197)\"\n      >\n        <path\n          id=\"Path_301\"\n          data-name=\"Path 301\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5063.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_302\"\n          data-name=\"Path 302\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5073.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_303\"\n          data-name=\"Path 303\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5083.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_304\"\n          data-name=\"Path 304\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5093.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_305\"\n          data-name=\"Path 305\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5103.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_306\"\n          data-name=\"Path 306\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5113.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_307\"\n          data-name=\"Path 307\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5123.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_308\"\n          data-name=\"Path 308\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5133.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_309\"\n          data-name=\"Path 309\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5143.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_310\"\n          data-name=\"Path 310\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5153.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_311\"\n          data-name=\"Path 311\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5163.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_312\"\n          data-name=\"Path 312\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5173.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_313\"\n          data-name=\"Path 313\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5183.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_314\"\n          data-name=\"Path 314\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5193.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_315\"\n          data-name=\"Path 315\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5203.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_316\"\n          data-name=\"Path 316\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5213.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_317\"\n          data-name=\"Path 317\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5223.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_318\"\n          data-name=\"Path 318\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5233.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_319\"\n          data-name=\"Path 319\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5243.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n        <path\n          id=\"Path_320\"\n          data-name=\"Path 320\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5253.943 1213.55) rotate(-90)\"\n          fill=\"#1be6d6\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Prog_runningBack = () => {\n  return (\n    <svg\n      className=\"runningBack\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"200\"\n      height=\"16.55\"\n      viewBox=\"0 0 200 16.55\"\n    >\n      <g\n        id=\"Group_226\"\n        data-name=\"Group 226\"\n        transform=\"translate(5263.943 1213.55) rotate(-180)\"\n      >\n        <path\n          id=\"Path_301\"\n          data-name=\"Path 301\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5063.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_302\"\n          data-name=\"Path 302\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5073.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_303\"\n          data-name=\"Path 303\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5083.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_304\"\n          data-name=\"Path 304\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5093.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_305\"\n          data-name=\"Path 305\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5103.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_306\"\n          data-name=\"Path 306\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5113.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_307\"\n          data-name=\"Path 307\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5123.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_308\"\n          data-name=\"Path 308\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5133.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_309\"\n          data-name=\"Path 309\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5143.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_310\"\n          data-name=\"Path 310\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5153.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_311\"\n          data-name=\"Path 311\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5163.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_312\"\n          data-name=\"Path 312\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5173.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_313\"\n          data-name=\"Path 313\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5183.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_314\"\n          data-name=\"Path 314\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5193.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_315\"\n          data-name=\"Path 315\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5203.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_316\"\n          data-name=\"Path 316\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5213.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_317\"\n          data-name=\"Path 317\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5223.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_318\"\n          data-name=\"Path 318\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5233.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_319\"\n          data-name=\"Path 319\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5243.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n        <path\n          id=\"Path_320\"\n          data-name=\"Path 320\"\n          d=\"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z\"\n          transform=\"translate(5253.943 1213.55) rotate(-90)\"\n          fill=\"#f6577c\"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const Plus_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <line\n        id=\"Line_29\"\n        data-name=\"Line 29\"\n        y2=\"20\"\n        transform=\"translate(10)\"\n        fill=\"none\"\n        stroke=\"#006dff\"\n        strokeWidth=\"2\"\n      />\n      <line\n        id=\"Line_30\"\n        data-name=\"Line 30\"\n        x2=\"20\"\n        transform=\"translate(0 10)\"\n        fill=\"none\"\n        stroke=\"#006dff\"\n        strokeWidth=\"2\"\n      />\n    </svg>\n  );\n};\nexport const Minus_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <line\n        id=\"Line_30\"\n        data-name=\"Line 30\"\n        x2=\"20\"\n        transform=\"translate(0 10)\"\n        fill=\"none\"\n        stroke=\"#006dff\"\n        strokeWidth=\"2\"\n      />\n    </svg>\n  );\n};\nexport const Arrow_up_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n    >\n      <g\n        id=\"Symbol_82\"\n        data-name=\"Symbol 82\"\n        transform=\"translate(-507 1272) rotate(-90)\"\n      >\n        <path\n          id=\"Path_10\"\n          data-name=\"Path 10\"\n          d=\"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z\"\n          transform=\"translate(1254 507)\"\n          fill=\"#336cf9\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Arrow_down_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n    >\n      <g id=\"_1\" data-name=\" 1\" transform=\"translate(525 -1254) rotate(90)\">\n        <path\n          id=\"Path_10\"\n          data-name=\"Path 10\"\n          d=\"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z\"\n          transform=\"translate(1254 507)\"\n          fill=\"#ff0080\"\n        />\n      </g>\n    </svg>\n  );\n};\nexport const Arrow_left_svg = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        id=\"Path_10\"\n        data-name=\"Path 10\"\n        d=\"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z\"\n        transform=\"translate(16 16) rotate(180)\"\n        fill=\"#2699fb\"\n      />\n    </svg>\n  );\n};\nexport const Chev_down_svg = ({ className }) => {\n  return (\n    <svg\n      className={className || \"\"}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"23.616\"\n      height=\"13.503\"\n      viewBox=\"0 0 23.616 13.503\"\n    >\n      <path\n        id=\"Icon_ionic-ios-arrow-down\"\n        data-name=\"Icon ionic-ios-arrow-down\"\n        d=\"M18,20.679l8.93-8.937a1.681,1.681,0,0,1,2.384,0,1.7,1.7,0,0,1,0,2.391L19.2,24.258a1.685,1.685,0,0,1-2.327.049L6.68,14.14a1.688,1.688,0,0,1,2.384-2.391Z\"\n        transform=\"translate(-6.188 -11.246)\"\n        fill=\"#53aefc\"\n      />\n    </svg>\n  );\n};\n\nexport const External_link_icon = () => {\n  return (\n    <span className=\"externalLinkIcon\" aria-label=\"(opens a new window)\">\n      <svg\n        viewBox=\"0 0 20 20\"\n        className=\"Polaris-Icon__Svg_375hu\"\n        focusable=\"false\"\n        aria-hidden=\"true\"\n      >\n        <path d=\"M14 13v1a1 1 0 0 1-1 1H6c-.575 0-1-.484-1-1V7a1 1 0 0 1 1-1h1c1.037 0 1.04 1.5 0 1.5-.178.005-.353 0-.5 0v6h6V13c0-1 1.5-1 1.5 0zm-3.75-7.25A.75.75 0 0 1 11 5h4v4a.75.75 0 0 1-1.5 0V7.56l-3.22 3.22a.75.75 0 1 1-1.06-1.06l3.22-3.22H11a.75.75 0 0 1-.75-.75z\"></path>\n      </svg>\n    </span>\n  );\n};\n\nexport const Tick = () => {\n  return (\n    <svg\n      className=\"tick\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"15.1\"\n      height=\"10.8\"\n      viewBox=\"0 0 15.1 10.8\"\n    >\n      <path\n        id=\"Path_207\"\n        data-name=\"Path 207\"\n        d=\"M6.5,10.8,0,4.3,2.1,2.2,6.5,6.5,13,0l2.1,2.1Z\"\n        fill=\"#2699fb\"\n      />\n    </svg>\n  );\n};\nexport const Cart_svg = () => {\n  return (\n    <svg\n      version=\"1.1\"\n      id=\"Layer_1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      x=\"0px\"\n      y=\"0px\"\n      viewBox=\"0 0 122.9 107.5\"\n    >\n      <g>\n        <path d=\"M3.9,7.9C1.8,7.9,0,6.1,0,3.9C0,1.8,1.8,0,3.9,0h10.2c0.1,0,0.3,0,0.4,0c3.6,0.1,6.8,0.8,9.5,2.5c3,1.9,5.2,4.8,6.4,9.1 c0,0.1,0,0.2,0.1,0.3l1,4H119c2.2,0,3.9,1.8,3.9,3.9c0,0.4-0.1,0.8-0.2,1.2l-10.2,41.1c-0.4,1.8-2,3-3.8,3v0H44.7 c1.4,5.2,2.8,8,4.7,9.3c2.3,1.5,6.3,1.6,13,1.5h0.1v0h45.2c2.2,0,3.9,1.8,3.9,3.9c0,2.2-1.8,3.9-3.9,3.9H62.5v0 c-8.3,0.1-13.4-0.1-17.5-2.8c-4.2-2.8-6.4-7.6-8.6-16.3l0,0L23,13.9c0-0.1,0-0.1-0.1-0.2c-0.6-2.2-1.6-3.7-3-4.5 c-1.4-0.9-3.3-1.3-5.5-1.3c-0.1,0-0.2,0-0.3,0H3.9L3.9,7.9z M96,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C86.4,92.6,90.7,88.3,96,88.3L96,88.3z M53.9,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C44.3,92.6,48.6,88.3,53.9,88.3L53.9,88.3z M33.7,23.7l8.9,33.5h63.1l8.3-33.5H33.7L33.7,23.7z\" />\n      </g>\n    </svg>\n  );\n};\n\nexport const Img = ({ src: defaultSrc, ...rest }) => {\n  const [src, setSrc] = useState(defaultSrc);\n  return (\n    <img\n      src={src}\n      onError={() => setSrc(\"/img_err.png\")}\n      {...rest}\n      onClick={rest.onClick || function () {}}\n    />\n  );\n};\n\nexport const Checkbox = ({ defaultValue, value, required, onChange }) => {\n  const [checked, setChecked] = useState(!!defaultValue);\n  useEffect(() => {\n    setChecked(value);\n  }, [value]);\n  return (\n    <section className=\"checkbox\">\n      <div className=\"ticks\" onClick={() => setChecked(!checked)}>\n        <input\n          type=\"checkbox\"\n          value={checked}\n          required={required}\n          onChange={(e) => {\n            setChecked(!checked);\n            onChange?.(!checked);\n          }}\n        />\n        <svg\n          className=\"border\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"30\"\n          height=\"30\"\n          viewBox=\"0 0 30 30\"\n        >\n          <g\n            id=\"Rectangle_661\"\n            data-name=\"Rectangle 661\"\n            fill=\"none\"\n            stroke=\"#7fc4fd\"\n            strokeWidth=\"3\"\n          >\n            <rect width=\"30\" height=\"30\" rx=\"4\" stroke=\"none\" />\n            <rect x=\"1.5\" y=\"1.5\" width=\"27\" height=\"27\" rx=\"2.5\" fill=\"none\" />\n          </g>\n        </svg>\n        {checked && <Tick />}\n      </div>\n    </section>\n  );\n};\nexport const Combobox = ({\n  options,\n  defaultValue,\n  onChange,\n  maxHeight,\n  required,\n  disabled,\n  dataId,\n  validationMessage,\n  className,\n  placeholder,\n}) => {\n  const [value, setValue] = useState(() => {\n    if (defaultValue > -1 && options[defaultValue]) {\n      return options[defaultValue].label;\n    } else if (options.find((item) => item.value === defaultValue)) {\n      return options.find((item) => item.value === defaultValue).label;\n    } else if (typeof defaultValue === \"object\") {\n      return defaultValue.label;\n    } else {\n      return \"\";\n    }\n  });\n  const [open, setOpen] = useState(false);\n  const [data, setData] = useState(\"\");\n  const [optionsStyle, setOptionsStyle] = useState({});\n  const input = useRef();\n  const section = useRef();\n  useLayoutEffect(() => {\n    const { width, height, x, y } = section.current.getBoundingClientRect();\n    setOptionsStyle({\n      position: \"absolute\",\n      left: x,\n      top: y + height,\n      width: width,\n      height: 37 * options.length,\n      maxHeight: window.innerHeight - (y + height) - 16,\n    });\n  }, [open]);\n  return (\n    <section\n      className={`combobox ${open ? \"open\" : \"\"}`}\n      ref={section}\n      onClick={() => setOpen(!open)}\n    >\n      {placeholder && !value && <label>{placeholder}</label>}\n      <input\n        ref={input}\n        required={required}\n        value={value}\n        onFocus={(e) => e.target.blur()}\n        onChange={() => {}}\n      />\n      <button type=\"button\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"13\"\n          height=\"8.872\"\n          viewBox=\"0 0 13 8.872\"\n        >\n          <defs>\n            <clipPath id=\"clip-path\">\n              <rect width=\"8.872\" height=\"13\" fill=\"none\" />\n            </clipPath>\n          </defs>\n          <g\n            id=\"Component_47_7\"\n            data-name=\"Component 47  7\"\n            transform=\"translate(0 8.872) rotate(-90)\"\n            clipPath=\"url(#clip-path)\"\n          >\n            <path\n              id=\"Path_36\"\n              data-name=\"Path 36\"\n              d=\"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z\"\n              transform=\"translate(8.872) rotate(90)\"\n              fill=\"#336cf9\"\n            />\n          </g>\n        </svg>\n      </button>\n      <Modal\n        className=\"sectionOptions\"\n        open={open}\n        setOpen={setOpen}\n        backdropClass=\"selectionOptionBack\"\n        onBackdropClick={() => setOpen(false)}\n        style={optionsStyle}\n      >\n        <ul\n          style={{\n            width: \"100%\",\n            maxHeight: open ? maxHeight : 0,\n            zIndex: 100,\n          }}\n          className={\"options\"}\n        >\n          {options.map((option) => (\n            <li\n              key={option.label}\n              onClick={(e) => {\n                setData(option.value);\n                setValue(option.label);\n                onChange && onChange(option);\n                setOpen(false);\n                input.current.setCustomValidity(\"\");\n              }}\n              className={`${\"option\"} ${\n                value === option.label ? \"selected\" : \"\"\n              }`}\n            >\n              {option.label}\n            </li>\n          ))}\n        </ul>\n      </Modal>\n    </section>\n  );\n};\nexport const NumberInput = ({\n  defaultValue,\n  min,\n  max,\n  required,\n  onChange,\n  step,\n  placeholder,\n  readOnly,\n}) => {\n  const [value, setValue] = useState(defaultValue || 0);\n  return (\n    <section className=\"number\">\n      <input\n        type=\"number\"\n        step={step || \"0.01\"}\n        required={required}\n        value={value}\n        readOnly={readOnly}\n        onChange={(e) => {\n          setValue((+e.target.value).toString());\n          onChange?.(e);\n        }}\n        placeholder={placeholder || \"0.00\"}\n        min={min}\n        max={max}\n      />\n      <div className=\"ticker\">\n        <button type=\"button\" onClick={() => setValue(+value + 1)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"13\"\n            height=\"8.872\"\n            viewBox=\"0 0 13 8.872\"\n          >\n            <defs>\n              <clipPath id=\"clip-path\">\n                <rect width=\"8.872\" height=\"13\" fill=\"none\" />\n              </clipPath>\n            </defs>\n            <g\n              id=\"Component_47_8\"\n              data-name=\"Component 47  8\"\n              transform=\"translate(13) rotate(90)\"\n              clipPath=\"url(#clip-path)\"\n            >\n              <path\n                id=\"Path_36\"\n                data-name=\"Path 36\"\n                d=\"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z\"\n                transform=\"translate(8.872) rotate(90)\"\n                fill=\"#336cf9\"\n              />\n            </g>\n          </svg>\n        </button>\n        <button type=\"button\" onClick={() => setValue(+value - 1)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"13\"\n            height=\"8.872\"\n            viewBox=\"0 0 13 8.872\"\n          >\n            <defs>\n              <clipPath id=\"clip-path\">\n                <rect width=\"8.872\" height=\"13\" fill=\"none\" />\n              </clipPath>\n            </defs>\n            <g\n              id=\"Component_47_7\"\n              data-name=\"Component 47  7\"\n              transform=\"translate(0 8.872) rotate(-90)\"\n              clipPath=\"url(#clip-path)\"\n            >\n              <path\n                id=\"Path_36\"\n                data-name=\"Path 36\"\n                d=\"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z\"\n                transform=\"translate(8.872) rotate(90)\"\n                fill=\"#336cf9\"\n              />\n            </g>\n          </svg>\n        </button>\n      </div>\n    </section>\n  );\n};\nexport const FileInput = ({\n  required,\n  onChange,\n  prefill,\n  label,\n  multiple,\n  accept,\n  name,\n}) => {\n  const [files, setFiles] = useState(prefill || []);\n  useEffect(() => {\n    onChange?.(files);\n  }, [files]);\n  return (\n    <section className=\"fileInput\">\n      {files.map((item, fileIndex) => {\n        const file =\n          typeof item === \"string\"\n            ? {\n                type: \"url\",\n                url: item,\n              }\n            : {\n                type: item.type,\n                name: item.name,\n                url: URL.createObjectURL(item),\n              };\n        const img =\n          file.type.startsWith(\"image\") ||\n          file.url.match(/(\\.gif|\\.png|\\.jpg|\\.jpeg|\\.webp)$/);\n        return (\n          <div key={fileIndex} className={`file ${img ? \"thumb\" : \"any\"}`}>\n            <button\n              className=\"close\"\n              type=\"button\"\n              onClick={() =>\n                setFiles((prev) => prev.filter((item, i) => i !== fileIndex))\n              }\n            >\n              <X_svg />\n            </button>\n            <Img\n              className={img ? \"thumb\" : \"\"}\n              src={img ? file.url : \"/file_icon.png\"}\n            />\n            {!img && <p className=\"filename\">{item.name}</p>}\n          </div>\n        );\n      })}\n      <div className=\"uploadBtn\">\n        <Plus_svg />\n        <input\n          name={name}\n          type=\"file\"\n          multiple={multiple}\n          required={required}\n          accept={accept}\n          onChange={(e) => {\n            setFiles((prev) => [\n              ...prev,\n              ...[...e.target.files].filter(\n                (item) => !files.some((file) => file.name === item.name)\n              ),\n            ]);\n          }}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport const useOnScreen = (options) => {\n  const ref = useRef();\n  const [visible, setVisible] = useState(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      setVisible(entry.isIntersecting);\n    }, options);\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [ref, options]);\n  return [ref, visible];\n};\n\nexport const Pagination = ({\n  total,\n  btns,\n  perPage,\n  currentPage,\n  setCurrentPage,\n  setPage,\n}) => {\n  const [pages, setPages] = useState([]);\n  const [links, setLinks] = useState([]);\n  useEffect(() => {\n    setPages(\n      [...Array(Math.ceil(total / perPage)).keys()].map((num) => num + 1)\n    );\n    setLinks([...Array(btns).keys()].map((num) => num + 1));\n  }, [total, perPage]);\n  if (total <= perPage) {\n    return <></>;\n  }\n  return (\n    <div className=\"pagination\">\n      <button\n        disabled={currentPage <= 1}\n        onClick={() => setPage((prev) => prev - 1)}\n      >\n        {\"<\"}\n      </button>\n      <ul className=\"pages\">\n        {pages.length <= btns &&\n          pages.map((item) => (\n            <li key={item} className={item === +currentPage ? \"active\" : \"\"}>\n              <button onClick={() => setPage(item)}>{item}</button>\n            </li>\n          ))}\n        {pages.length > btns &&\n          links.map((item) => {\n            const remain = pages.length - btns;\n            const middle = Math.ceil(btns / 2);\n            let pivit = 0;\n            if (currentPage > middle) {\n              if (currentPage - middle + btns <= pages.length) {\n                pivit = currentPage - middle;\n              } else {\n                pivit = remain;\n              }\n            }\n            const num = item + pivit;\n            return (\n              <li key={num} className={num === currentPage ? \"active\" : \"\"}>\n                <button onClick={() => setPage(item)}>{num}</button>\n              </li>\n            );\n          })}\n      </ul>\n      <button\n        disabled={currentPage >= pages.length}\n        onClick={() => setPage((prev) => prev + 1)}\n      >\n        {\">\"}\n      </button>\n    </div>\n  );\n};\n\nexport const Header = () => {\n  const { user, setUser, cart, setCart, userType } = useContext(SiteContext);\n  const history = useHistory();\n  const [noti, setNoti] = useState(false);\n  useEffect(() => {\n    fetch(\"/api/authUser\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.user) {\n          setUser(data.user);\n        }\n      });\n  }, []);\n  return (\n    <header className=\"genericHeader\">\n      <Link className=\"logoLink\" to=\"/\">\n        <Img className=\"logo\" src=\"/logo_land.jpg\" alt=\"Delivery pay logo\" />\n        <Img\n          className=\"logo_small\"\n          src=\"/logo_sqr.jpg\"\n          alt=\"Delivery pay logo\"\n        />\n      </Link>\n      <div className=\"links\">\n        <Link to=\"/\" className=\"home\">\n          Home\n        </Link>\n      </div>\n      <div className=\"clas\">\n        {user ? (\n          <ProfileAvatar key=\"genericHeader\" />\n        ) : (\n          <>\n            {history.location.pathname === \"/u/login\" ? (\n              <Link to=\"/u/join\">Register</Link>\n            ) : (\n              <Link to=\"/u/login\">Login</Link>\n            )}\n          </>\n        )}\n      </div>\n    </header>\n  );\n};\nexport const Footer = () => {\n  return (\n    <footer>\n      <div className=\"links\">\n        <Link to=\"/aboutUs\">About us</Link>\n        <Link to=\"/privacyPolicy\">Privacy Policy</Link>\n        <Link to=\"/codeOfConduct\">Code of Conduct</Link>\n        <Link to=\"/copyrightPolicy\">Copyright Policy</Link>\n        <Link to=\"/fees&Charges\">Fees & Charges</Link>\n        <Link to=\"/terms\">User Agreement</Link>\n        <Link to=\"/howItWorks\">How it works</Link>\n        <Link to=\"/contactUs\">Contact us</Link>\n        <Link to=\"/employment-opportunities\">Work with us</Link>\n        <Link to=\"/refundCancellationPolicy\">Refund & Cancellation Policy</Link>\n        <Link to=\"/shippingDeliveryPolicy\">Shipping & Delivery Policy</Link>\n      </div>\n    </footer>\n  );\n};\n\nexport const UploadFiles = ({ files, setMsg }) => {\n  const cdn = process.env.REACT_APP_CDN_HOST;\n  const formData = new FormData();\n  const uploaded = [];\n  for (var _file of files) {\n    if (typeof _file === \"string\") {\n      uploaded.push(_file);\n    } else {\n      formData.append(\"file\", _file);\n    }\n  }\n  return fetch(`${cdn}/upload`, {\n    method: \"POST\",\n    body: formData,\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.code === \"ok\") {\n        return [...uploaded, ...data.files.map((link) => cdn + \"/\" + link)];\n      } else {\n        return null;\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>File upload failed</h4>\n            </div>\n          </>\n        );\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>File upload failed. Make sure you're online.</h4>\n          </div>\n        </>\n      );\n    });\n};\nexport const Media = ({ links }) => {\n  const [mediaPreview, setMediaPreview] = useState(false);\n  const [media, setMedia] = useState(null);\n  const [index, setIndex] = useState(0);\n  const medias =\n    links?.map((item, i) => {\n      let thumb = null;\n      let view = null;\n      const handleClick = (e) => {\n        setMediaPreview(true);\n        setMedia(view);\n        setIndex(i);\n      };\n      if (\n        item.match(/(\\.gif|\\.png|\\.jpg|\\.jpeg|\\.webp)$/) ||\n        item.startsWith(\"https://image\")\n      ) {\n        thumb = (\n          <Img\n            className={index === i ? \"active\" : \"\"}\n            key={i}\n            src={item}\n            onClick={handleClick}\n          />\n        );\n        view = <Img key={i} src={item} />;\n      } else if (item.match(/(\\.mp3|\\.ogg|\\.amr|\\.m4a|\\.flac|\\.wav|\\.aac)$/i)) {\n        thumb = (\n          <div\n            key={i}\n            className={`audioThumb ${index === i ? \"active\" : \"\"}`}\n            onClick={handleClick}\n          >\n            <Img src=\"/play_btn.png\" />\n          </div>\n        );\n        view = <audio key={i} src={item} controls=\"on\" autoPlay=\"on\" />;\n      } else if (item.match(/(\\.mp4|\\.mov|\\.avi|\\.flv|\\.wmv|\\.webm)$/i)) {\n        thumb = (\n          <div key={i} className={`videoThumb ${index === i ? \"active\" : \"\"}`}>\n            <video src={item} onClick={handleClick} />\n            <Img src=\"/play_btn.png\" />\n          </div>\n        );\n        view = <video key={i} src={item} controls=\"on\" autoPlay=\"on\" />;\n      } else {\n        thumb = (\n          <a key={i} href={i}>\n            {item}\n          </a>\n        );\n      }\n      return thumb;\n    }) || \"N/A\";\n  return (\n    <>\n      {medias}\n      <Modal\n        className=\"mediaModal\"\n        open={mediaPreview}\n        backdropClass=\"disputeMediaViewBack\"\n      >\n        <button className=\"close\" onClick={() => setMediaPreview(false)}>\n          <X_svg />\n        </button>\n        <div className=\"view\">{media}</div>\n        <div className=\"thumbs\">{medias}</div>\n      </Modal>\n    </>\n  );\n};\n\nexport const Actions = ({\n  icon,\n  children,\n  className,\n  wrapperClassName,\n  clickable,\n  onClick,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [style, setStyle] = useState({});\n  const buttonRef = useRef();\n  const wrapperRef = useRef();\n  useLayoutEffect(() => {\n    const { height, y, width, x } = buttonRef.current?.getBoundingClientRect();\n    const bottom = window.innerHeight - (y + height);\n    const wrapper = wrapperRef.current?.getBoundingClientRect();\n    setStyle({\n      position: \"fixed\",\n      ...(wrapper?.height > bottom\n        ? {\n            bottom: window.innerHeight - y,\n          }\n        : {\n            top: height + y + 4,\n          }),\n      right: window.innerWidth - x - width,\n    });\n  }, [open]);\n  return (\n    <div className={`actions ${className || \"\"}`}>\n      <button\n        type=\"button\"\n        className=\"btn\"\n        ref={buttonRef}\n        onClick={(e) => {\n          e.stopPropagation();\n          setOpen(true);\n          onClick?.();\n        }}\n      >\n        {icon || <Img src=\"/menu_dot.png\" />}\n      </button>\n      <Modal\n        className=\"actions\"\n        backdropClass=\"actionsBackdrop\"\n        open={open}\n        style={style}\n        onBackdropClick={() => setOpen(false)}\n      >\n        <ul\n          ref={wrapperRef}\n          className={wrapperClassName}\n          onClick={(e) => {\n            e.stopPropagation();\n            !clickable && setOpen(false);\n          }}\n        >\n          {children}\n        </ul>\n      </Modal>\n    </div>\n  );\n};\nexport const Tabs = ({ basepath, tabs }) => {\n  const history = useHistory();\n  return (\n    <ul className=\"tabs\">\n      {tabs.map((item, i) => (\n        <Link\n          to={basepath + item.path}\n          key={i}\n          onClick={() => item.onClick?.()}\n        >\n          <li\n            className={\n              history.location.pathname.startsWith(basepath + item.path)\n                ? \"active\"\n                : \"\"\n            }\n          >\n            {item.label}\n          </li>\n        </Link>\n      ))}\n    </ul>\n  );\n};\n\nexport const User = ({ user }) => {\n  return (\n    <div className=\"profile\">\n      <Img src={user.profileImg || \"/profile-user.jpg\"} />\n      <p className=\"name\">\n        {user.name || user.firstName + \" \" + user.lastName}\n        <span className=\"contact\">{user.phone}</span>\n      </p>\n    </div>\n  );\n};\n\nexport const moment = ({ time, format }) => {\n  if (new Date(time).toString() === \"Invalid Date\") {\n    return time;\n  }\n  const options = {\n    year: format.includes(\"YYYY\") ? \"numeric\" : \"2-digit\",\n    month: format.includes(\"MMMM\")\n      ? \"long\"\n      : format.includes(\"MMM\")\n      ? \"short\"\n      : format.includes(\"MM\")\n      ? \"2-digit\"\n      : \"numeric\"\n      ? \"long\"\n      : format.includes(\"ddd\")\n      ? \"short\"\n      : \"narrow\",\n    weekday: format.includes(\"dddd\")\n      ? \"long\"\n      : format.includes(\"ddd\")\n      ? \"short\"\n      : \"narrow\",\n    day: format.includes(\"DD\") ? \"2-digit\" : \"numeric\",\n    hour: format.includes(\"hh\") ? \"2-digit\" : \"numeric\",\n    minute: format.includes(\"mm\") ? \"2-digit\" : \"numeric\",\n    second: format.includes(\"ss\") ? \"2-digit\" : \"numeric\",\n  };\n  const values = {};\n  new Intl.DateTimeFormat(\"en-IN\", options)\n    .formatToParts(new Date(time || new Date()))\n    .map(({ type, value }) => {\n      values[type] = value;\n    });\n  return format\n    .replace(/Y+/g, values.year)\n    .replace(/M+/g, values.month)\n    .replace(/D+/g, values.day)\n    .replace(/h+/g, values.hour)\n    .replace(/m+/g, values.minute)\n    .replace(/s+/g, values.second)\n    .replace(/a+/g, values.dayPeriod)\n    .replace(/d+/g, values.weekday);\n};\nexport const Moment = ({ format, children, ...rest }) => {\n  return <time {...rest}>{moment({ time: children, format })}</time>;\n};\n\nexport const calculatePrice = ({ product, gst, discount }) => {\n  let finalPrice = product.price;\n  if (discount !== false && product.discount?.amount) {\n    finalPrice -= calculateDiscount(product);\n  }\n  if (gst?.verified) {\n    finalPrice += finalPrice * ((product.gst || gst.amount) / 100);\n  }\n  if (gst === true) {\n    finalPrice += finalPrice * (product.gst / 100);\n  }\n  return finalPrice.fix();\n};\nexport const calculateDiscount = (product) => {\n  const { discount, price } = product;\n  if (discount?.amount) {\n    if (discount.type === \"flat\") {\n      return (+discount.amount).fix();\n    } else if (discount.type === \"percent\") {\n      return ((+price / 100) * discount.amount).fix();\n    } else {\n      return 0;\n    }\n  } else {\n    return null;\n  }\n};\nexport const SS = {\n  set: (key, value) => sessionStorage.setItem(key, value),\n  get: (key) => sessionStorage.getItem(key),\n  remove: (key) => sessionStorage.removeItem(key),\n};\nexport const LS = {\n  set: (key, value) => localStorage.setItem(key, value),\n  get: (key) => localStorage.getItem(key),\n  remove: (key) => localStorage.removeItem(key),\n};\nexport const addToCart = (prev, product) => {\n  if (prev.some((item) => item.product._id === product._id)) {\n    return prev.map((item) => {\n      if (item.product._id === product._id) {\n        return {\n          ...item,\n          qty: item.qty + 1,\n        };\n      } else {\n        return item;\n      }\n    });\n  } else {\n    return [...prev, { product, qty: 1 }];\n  }\n};\n\nexport const Tip = ({ className, children }) => {\n  return (\n    <Actions\n      className={`${className || \"\"} tip`}\n      wrapperClassName=\"tipWrapper\"\n      icon={<Img src=\"/help.png\" />}\n    >\n      {children}\n    </Actions>\n  );\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useContext, lazy, Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"./SiteContext\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nconst App = lazy(() => import(\"./App.js\"));\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, reported: false };\n  }\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n  componentDidCatch(error, errorInfo) {\n    const options = {\n      method: \"POST\",\n      headers: { \"Content-type\": \"application/json\" },\n      body: JSON.stringify({\n        issue: error.toString(),\n        dscr: errorInfo,\n      }),\n    };\n    fetch(\"/api/bugReport\", options)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          this.reported = true;\n        }\n      });\n  }\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"deathPage\">\n          <div className=\"content\">\n            <ion-icon name=\"skull-outline\"></ion-icon>\n            <h2>Oops.</h2>\n            <a href=\"/\">RELOAD</a>\n            {this.reported && <p>successfully reported</p>}\n          </div>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <Provider>\n        <Suspense fallback={<p>Loading...</p>}>\n          <App />\n        </Suspense>\n      </Provider>\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { useState, useEffect } from \"react\";\nimport {\n  NumberInput,\n  Combobox,\n  Err_svg,\n  FileInput,\n  UploadFiles,\n} from \"./Elements\";\nimport { Modal } from \"./Modal\";\nimport TextareaAutosize from \"react-textarea-autosize\";\n\nexport const MilestoneReleaseForm = ({\n  milestone,\n  setReleaseForm,\n  onSuccess,\n}) => {\n  const [amount, setAmount] = useState(milestone.amount);\n  const [msg, setMsg] = useState(null);\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        fetch(\"/api/releaseMilestone\", {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ _id: milestone._id, amount }),\n        })\n          .then((res) => res.json())\n          .then(({ code, milestone }) => {\n            if (milestone) {\n              onSuccess?.(milestone);\n            } else if (code === 403) {\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Err_svg />\n                    <h4>Could not release Milestone due to low balance.</h4>\n                  </div>\n                </>\n              );\n            } else {\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Err_svg />\n                    <h4>Could not release Milestone.</h4>\n                  </div>\n                </>\n              );\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not release Milestone. Make sure you're online.</h4>\n              </div>\n            </>;\n          });\n      }}\n    >\n      You sure want to release this Milestone?\n      {\n        // <label>How much money you want to release?</label>\n        //   <NumberInput\n        //   defaultValue={amount}\n        //   onChange={(e) => setAmount(e.target.value)}\n        // />\n      }\n      <section className=\"btns\">\n        <button type=\"submit\">Confirm</button>\n        <button\n          className=\"cancel\"\n          type=\"button\"\n          onClick={() => setReleaseForm(false)}\n        >\n          Cancel\n        </button>\n      </section>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </form>\n  );\n};\n\nexport const AddressForm = ({ client, onSuccess, onCancel }) => {\n  const [name, setName] = useState(\n    client ? client.name || client.firstName + \" \" + client.lastName : \"\"\n  );\n  const [phone, setPhone] = useState(client?.phone || \"\");\n  const [zip, setZip] = useState(client?.address?.zip || \"\");\n  const [locality, setLocatily] = useState(client?.address?.locality || \"\");\n  const [street, setStreet] = useState(client?.address?.street || \"\");\n  const [city, setCity] = useState(client?.address?.city || \"\");\n  const [state, setState] = useState(client?.address?.state || \"\");\n  const [landmark, setLandmark] = useState(client?.address?.landmark || \"\");\n  const [altPhone, setAltPhone] = useState(client?.address?.altPhone || \"\");\n  return (\n    <form\n      className=\"addressForm\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSuccess?.({\n          address: {\n            name,\n            phone,\n            street,\n            city,\n            state,\n            zip,\n            locality,\n            landmark,\n            altPhone,\n          },\n        });\n      }}\n    >\n      <section>\n        <label htmlFor=\"name\">Full Name</label>\n        <input\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          type=\"text\"\n          name=\"name\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"phone\">Phone Number</label>\n        <input\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          type=\"tel\"\n          name=\"phone\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"zip\">PIN Code</label>\n        <input\n          value={zip}\n          onChange={(e) => setZip(e.target.value)}\n          type=\"number\"\n          name=\"zip\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"locality\">Locality</label>\n        <input\n          value={locality}\n          onChange={(e) => setLocatily(e.target.value)}\n          type=\"text\"\n          name=\"locality\"\n          required={true}\n        />\n      </section>\n      <section className=\"street\">\n        <label htmlFor=\"address\">Address</label>\n        <textarea\n          value={street}\n          onChange={(e) => setStreet(e.target.value)}\n          resiz=\"off\"\n          type=\"text\"\n          name=\"address\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"city\">City</label>\n        <input\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n          type=\"text\"\n          name=\"city\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"state\">State</label>\n        <input\n          value={state}\n          onChange={(e) => setState(e.target.value)}\n          type=\"text\"\n          name=\"state\"\n          required={true}\n        />\n      </section>\n      <section>\n        <label htmlFor=\"landmark\">Landmark (Optional)</label>\n        <input\n          value={landmark}\n          onChange={(e) => setLandmark(e.target.value)}\n          type=\"text\"\n          name=\"landmark\"\n        />\n      </section>\n      <section>\n        <label htmlFor=\"altPhone\">Alternate Phone (Optional)</label>\n        <input\n          value={altPhone}\n          onChange={(e) => setAltPhone(e.target.value)}\n          type=\"tel\"\n          name=\"altPhone\"\n        />\n      </section>\n      <button className=\"save\">Save</button>\n      <button className=\"cancel\" type=\"button\" onClick={() => onCancel?.()}>\n        Cancel\n      </button>\n      <section className=\"pBtm\" />\n    </form>\n  );\n};\n\nexport const DisputeForm = ({ milestone, setDisputeForm, onSuccess }) => {\n  const [issue, setIssue] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [dscr, setDscr] = useState(\"\");\n  const [caseFiles, setCaseFiles] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = caseFiles.length\n      ? await UploadFiles({\n          files: caseFiles,\n          setMsg,\n        })\n      : [];\n    fetch(\"/api/fileDispute\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        issue,\n        milestoneId: milestone._id,\n        defendantId: milestone.client._id,\n        _case: { dscr, files: fileLinks },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.milestone);\n        } else if (data.code === 403) {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>\n                  Insufficient fund! you have to have 500 in your wallet to\n                  file a dispute.\n                </h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not file dispute.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(true);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not file dispute. make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form className=\"disputeForm\" onSubmit={submit}>\n        <h4>You feel like you are getting scammed?</h4>\n        <section>\n          <label htmlFor=\"issue\">Issue</label>\n          <Combobox\n            name=\"issue\"\n            options={\n              milestone.role === \"buyer\"\n                ? [\n                    {\n                      label: \"Buyer Not Releasing Payments\",\n                      value: \"Buyer Not Releasing Payments\",\n                    },\n                  ]\n                : [\n                    {\n                      label: \"Goods Not Received\",\n                      value: \"Goods Not Received\",\n                    },\n                    {\n                      label: \"Services Not Received\",\n                      value: \"Services Not Received\",\n                    },\n                    {\n                      label: \"Damaged\",\n                      value: \"Damaged\",\n                    },\n                    {\n                      label: \"Not As Agreed\",\n                      value: \"Not As Agreed\",\n                    },\n                    {\n                      label: \"Not As Displayed\",\n                      value: \"Not As Displayed\",\n                    },\n                  ]\n            }\n            onChange={(e) => {\n              setIssue(e.value);\n            }}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"description\">Description</label>\n          <TextareaAutosize\n            name=\"description\"\n            value={dscr}\n            required={true}\n            onChange={(e) => setDscr(e.target.value)}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"for\">\n            Upload images to prove your case. ie: Product of image, proof of\n            delivery.\n          </label>\n          <FileInput\n            multiple={true}\n            accept=\"audio/*,video/*,image/*\"\n            onChange={(e) => setCaseFiles(e)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n          <button className=\"cancel\" type=\"button\">\n            Cancel\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nexport const TicketForm = ({ onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const [issue, setIssue] = useState(\"\");\n  const [milestone, setMilestone] = useState(\"\");\n  const [transaction, setTransaction] = useState(\"\");\n  const [files, setFiles] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = files.length ? await UploadFiles({ files, setMsg }) : [];\n    fetch(\"/api/openTicket\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        issue,\n        milestone,\n        transaction,\n        message: {\n          body: message,\n          files: fileLinks,\n        },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.ticket);\n        } else if (data.message === \"milestone ID is invalid\") {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Milestone Id is invalid.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Ticket could not be submitted.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Ticket could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form className=\"ticketForm\" onSubmit={submit}>\n        <section>\n          <label>Issue</label>\n          <input\n            value={issue}\n            required={true}\n            onChange={(e) => setIssue(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Milestone ID (optional)</label>\n          <input\n            value={milestone}\n            onChange={(e) => setMilestone(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Transaction ID (optional)</label>\n          <input\n            value={transaction}\n            onChange={(e) => setTransaction(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Detail</label>\n          <TextareaAutosize\n            required={true}\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"for\">Upload relevant files (optional)</label>\n          <FileInput onChange={(files) => setFiles(files)} />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n          <button className=\"cancel\" type=\"button\">\n            Cancel\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport const TicketReplyForm = ({ _id, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = files.length ? await UploadFiles({ files, setMsg }) : [];\n    fetch(\"/api/addTicketReply\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id,\n        message: { body: message, files: fileLinks },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.ticket);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Reply could not be submitted.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Reply could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form className=\"ticketReplyForm\" onSubmit={submit}>\n        <section>\n          <label>Message</label>\n          <TextareaAutosize\n            required={true}\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n        </section>\n        <section>\n          <label htmlFor=\"for\">Upload relevant files (optional)</label>\n          <FileInput\n            accept=\"audio/*,video/*,image/*\"\n            multiple={true}\n            onChange={(files) => setFiles(files)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n          <button className=\"cancel\" type=\"button\">\n            Cancel\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Modal, Confirm } from \"./Modal\";\nimport {\n  Err_svg,\n  Step_tick,\n  Step_blank,\n  Step_fill,\n  Prog_done,\n  Prog_running,\n  Prog_runningBack,\n  Succ_svg,\n  X_svg,\n  Combobox,\n  Pagination,\n  Img,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { MilestoneReleaseForm, DisputeForm } from \"./Forms\";\nimport { DateRange } from \"react-date-range\";\nimport queryString from \"query-string\";\n\nrequire(\"./styles/hold.scss\");\n\nconst Hold = ({ history, location, match }) => {\n  const { userType } = useContext(SiteContext);\n  const dateFilterRef = useRef();\n  const [milestones, setMilestones] = useState([]);\n  const [total, setTotal] = useState(null);\n  const [page, setPage] = useState(\n    queryString.parse(location.search).page || 1\n  );\n  const [perPage, setPerPage] = useState(\n    queryString.parse(location.search).perPage || 20\n  );\n  const [search, setSearch] = useState(\n    queryString.parse(location.search).q?.replace(/\\/(?!.*\\/).*/, \"\") || \"\"\n  );\n  const [status, setStatus] = useState(\n    queryString.parse(location.search).status || \"\"\n  );\n  const [dateOpen, setDateOpen] = useState(false);\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [sort, setSort] = useState({\n    column: queryString.parse(location.search).sort || \"createdAt\",\n    order: queryString.parse(location.search).order || \"dsc\",\n  });\n  const [dateFilter, setDateFilter] = useState(false);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [date, setDate] = useState(\"\");\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    fetch(`/api/milestone${location.search}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMilestones(data.milestones);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not update milestones.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [location.search, userType]);\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    history.replace({\n      pathname: location.pathname,\n      search:\n        \"?\" +\n        new URLSearchParams({\n          // userType,\n          page,\n          perPage,\n          sort: sort.column,\n          order: sort.order,\n          ...(search && { q: search }),\n          ...(dateFilter && {\n            dateFrom: startDate,\n            dateTo: endDate,\n          }),\n          ...(status && { status }),\n        }).toString(),\n    });\n  }, [\n    page,\n    perPage,\n    sort.column,\n    sort.order,\n    search,\n    dateFilter,\n    status,\n    userType,\n  ]);\n  useLayoutEffect(() => {\n    const {\n      height,\n      y,\n      width,\n      x,\n    } = dateFilterRef.current.getBoundingClientRect();\n    setDatePickerStyle({\n      position: \"fixed\",\n      top: height + y + 4,\n      right: window.innerWidth - x - width,\n    });\n  }, []);\n  return (\n    <div className=\"holdContainer\">\n      <div style={{ display: \"none\" }}>\n        <X_svg />\n      </div>\n      <div className=\"benner\">\n        <h4>Secure your transactions</h4>\n        <p>All payments and transactions come here</p>\n      </div>\n      <div className=\"head\">\n        {\n          // <p>Milestone Status</p>\n        }\n        <div className=\"filters\">\n          <section>\n            <label>Total:</label>\n            {total}\n          </section>\n          <section>\n            <label>Per Page:</label>\n            <Combobox\n              defaultValue={0}\n              options={[\n                { label: \"20\", value: 20 },\n                { label: \"30\", value: 30 },\n                { label: \"50\", value: 50 },\n              ]}\n              onChange={(e) => setPerPage(e.value)}\n            />\n          </section>\n          <section className=\"search\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"23\"\n              height=\"23\"\n              viewBox=\"0 0 23 23\"\n            >\n              <path\n                id=\"Icon_ionic-ios-search\"\n                data-name=\"Icon ionic-ios-search\"\n                d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n                transform=\"translate(-4.5 -4.493)\"\n                fill=\"#707070\"\n                opacity=\"0.74\"\n              />\n            </svg>\n            <input\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Search Buyer's or Seller's name, phone, Milestone ID\"\n            />\n            {search && (\n              <button onClick={() => setSearch(\"\")}>\n                <X_svg />\n              </button>\n            )}\n          </section>\n          <section className=\"status\">\n            <label>Status:</label>\n            <Combobox\n              defaultValue={status || 0}\n              options={[\n                { label: \"All\", value: \"\" },\n                { label: \"In Progress\", value: \"inProgress\" },\n                { label: \"Pending\", value: \"pending\" },\n                { label: \"Release requested\", value: \"pendingRelease\" },\n                { label: \"Released\", value: \"released\" },\n                { label: \"Dispute\", value: \"dispute\" },\n              ]}\n              onChange={(e) => setStatus(e.value)}\n            />\n          </section>\n          <section\n            className={`date ${dateFilter ? \"open\" : \"\"}`}\n            ref={dateFilterRef}\n            onClick={() => setDateOpen(true)}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"30.971\"\n              height=\"30.971\"\n              viewBox=\"0 0 30.971 30.971\"\n            >\n              <path\n                id=\"Path_299\"\n                data-name=\"Path 299\"\n                d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n                fill=\"#336cf9\"\n              />\n            </svg>\n            {dateFilter && (\n              <>\n                <div className=\"dates\">\n                  <p>\n                    From:{\" \"}\n                    <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n                  </p>\n                  <p>\n                    To:{\" \"}\n                    <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n                  </p>\n                </div>\n                <button\n                  className=\"clearDateFilter\"\n                  onClick={() => {\n                    setDateRange({\n                      startDate: new Date(),\n                      endDate: new Date(),\n                    });\n                    setDateFilter(false);\n                  }}\n                >\n                  <X_svg />\n                </button>\n              </>\n            )}\n          </section>\n        </div>\n      </div>\n      <ul className=\"milestones\">\n        {milestones.map((milestone, i) =>\n          milestone.role === \"seller\" ? (\n            <SellerMilestone\n              key={i}\n              milestone={milestone}\n              setMilestones={setMilestones}\n            />\n          ) : (\n            <BuyerMilestone\n              key={i}\n              milestone={milestone}\n              setMilestones={setMilestones}\n            />\n          )\n        )}\n        {milestones.length === 0 && (\n          <p className=\"placeholder\">No transaction yet.</p>\n        )}\n      </ul>\n      <Pagination\n        total={total}\n        perPage={perPage}\n        currentPage={page}\n        btns={5}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        className=\"datePicker\"\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nconst CommonMilestoneElement = ({ milestone }) => {\n  return (\n    <>\n      <div className=\"clientDetail\">\n        <div className=\"profile\">\n          <Img src={milestone.client.profileImg || \"/profile-user.jpg\"} />\n          <p className=\"name\">\n            {milestone.client.firstName + \" \" + milestone.client.lastName}\n          </p>\n        </div>\n        <div className=\"milestoneDetail\">\n          <ul>\n            <li>\n              <p>Date</p>-\n              <p>\n                <Moment format=\"DD MMM, YYYY. hh:mm a\">\n                  {milestone.createdAt}\n                </Moment>\n              </p>\n            </li>\n            <li>\n              <p>Role</p>-<p className=\"role\">{milestone.role}</p>\n            </li>\n            <li>\n              <p>Desciption</p>-<p>{milestone.dscr}</p>\n            </li>\n            <li>\n              <p>Milestone ID</p>-<p>{milestone._id}</p>\n            </li>\n            <li className=\"status\">\n              <p>Status</p>-<p>{milestone.status}</p>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <ul className={`steps ${milestone.status} ${milestone.dispute?.status}`}>\n        <li className=\"step pending\">\n          <div className=\"icons\">\n            <Step_tick className=\"default\" />\n            <Step_blank className=\"blank\" />\n            <Step_fill className=\"filled\" />\n          </div>\n          <p>Deposite recieved</p>\n        </li>\n        <li className=\"progress pending\">\n          <Prog_done />\n          <Prog_running />\n          <Prog_runningBack />\n        </li>\n        <li className=\"step onhold\">\n          <div className=\"icons\">\n            <Step_tick className=\"default\" />\n            <Step_blank className=\"blank\" />\n            <Step_fill className=\"filled\" />\n          </div>\n          <p>Funds on Hold</p>\n        </li>\n        <li className=\"progress onhold\">\n          <Prog_done />\n          <Prog_running />\n          <Prog_runningBack />\n        </li>\n        <li className=\"step released\">\n          <div className=\"icons\">\n            <Step_tick className=\"default\" />\n            <Step_blank className=\"blank\" />\n            <Step_fill className=\"filled\" />\n          </div>\n          <p>Released</p>\n        </li>\n      </ul>\n    </>\n  );\n};\n\nconst SellerMilestone = ({ milestone, setMilestones }) => {\n  const history = useHistory();\n  const [releaseForm, setReleaseForm] = useState(false);\n  const [disputeForm, setDisputeForm] = useState(false);\n  const [msg, setMsg] = useState(null);\n  let myCase = null;\n  let disputeFiledBy = null;\n  if (milestone.dispute?.plaintiff._id === milestone.client._id) {\n    myCase = milestone.dispute?.defendant?.case?.dscr;\n    disputeFiledBy = \"client\";\n  } else if (milestone.dispute?.defendant._id === milestone.client._id) {\n    disputeFiledBy = \"self\";\n  }\n  const approveMilestone = () => {\n    fetch(\"/api/approveMilestone\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        milestone_id: milestone._id,\n        amount: milestone.amount,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMilestones((prev) =>\n            prev.map((item) => {\n              if (item._id === data.milestone._id) {\n                return {\n                  ...data.milestone,\n                  client: milestone.client,\n                  role: milestone.role,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n        } else if (data.code === 403) {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not approve milestone due to low balance.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not approve milestone. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not approve milestone. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <li className={`milestone seller`} key={milestone._id}>\n        <CommonMilestoneElement milestone={milestone} />\n        <div className=\"clas\">\n          <h4>{milestone.amount}</h4>\n          <div className=\"btns\">\n            {milestone.status === \"pending\" && (\n              <a\n                onClick={() =>\n                  Confirm({\n                    label: \"Milestone Approval\",\n                    question: \"You sure want to approve this milestone?\",\n                    callback: approveMilestone,\n                  })\n                }\n              >\n                Approve\n              </a>\n            )}\n            {milestone.status === \"pendingRelease\" && (\n              <a className=\"released\">Release requested</a>\n            )}\n            {(milestone.status === \"inProgress\" ||\n              milestone.status === \"pendingRelease\") && (\n              <a onClick={() => setReleaseForm(true)}>Release</a>\n            )}\n            {\n              //   (milestone.status === \"pending\" ||\n              //   milestone.status === \"inProgress\") && (\n              //   <a\n              //     className=\"disputeRes\"\n              //     onClick={() =>\n              //       console.log(\n              //         \"buyers are not allowed to cancel milestone after 30 seconds.\"\n              //       )\n              //     }\n              //   >\n              //     Cancel\n              //   </a>\n              // )\n            }\n            {milestone.status === \"released\" && (\n              <a className=\"dispute\" onClick={() => setDisputeForm(true)}>\n                Raise Dispute\n              </a>\n            )}\n            {((disputeFiledBy === \"client\" && myCase) ||\n              disputeFiledBy === \"self\") && (\n              <a className=\"disputed\">Dispute {milestone.dispute?.status}</a>\n            )}\n            {disputeFiledBy === \"client\" && !myCase && (\n              <a className=\"disputeRes\" onClick={() => setDisputeForm(true)}>\n                Approve Dispute\n              </a>\n            )}\n            {milestone.status === \"declined\" && (\n              <a className=\"disputed\">Declined</a>\n            )}\n            <Modal open={msg} className=\"msg\">\n              {msg}\n            </Modal>\n          </div>\n        </div>\n        <Modal\n          open={releaseForm}\n          head={true}\n          label=\"Release Money\"\n          setOpen={setReleaseForm}\n          className=\"milestoneReleaseForm\"\n        >\n          <MilestoneReleaseForm\n            milestone={milestone}\n            setReleaseForm={setReleaseForm}\n            onSuccess={(milestone) => {\n              setMilestones((prev) =>\n                prev.map((item) => {\n                  if (item._id === milestone._id) {\n                    return {\n                      ...milestone,\n                      client: item.client,\n                      role: item.role,\n                    };\n                  } else {\n                    return item;\n                  }\n                })\n              );\n              setReleaseForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone.amount}</h4>\n                    <h4>Milestone has been released.</h4>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n        <Modal\n          open={disputeForm}\n          head={true}\n          label=\"Raise Dispute\"\n          setOpen={setDisputeForm}\n          className=\"disputeForm\"\n        >\n          <DisputeForm\n            milestone={milestone}\n            setDisputeForm={setDisputeForm}\n            onSuccess={(milestone) => {\n              setMilestones((prev) =>\n                prev.map((item) => {\n                  if (item._id === milestone._id) {\n                    return {\n                      ...milestone,\n                      client: item.client,\n                      role: item.role,\n                    };\n                  } else {\n                    return item;\n                  }\n                })\n              );\n              setDisputeForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>\n                      {disputeFiledBy === \"client\"\n                        ? \"Case submit success. Dispute pending for verdict.\"\n                        : \"Dispute filed succefully.\"}\n                    </h4>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </li>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nconst BuyerMilestone = ({ milestone, setMilestones }) => {\n  const [disputeForm, setDisputeForm] = useState(false);\n  const [msg, setMsg] = useState(null);\n  let myCase = null;\n  let disputeFiledBy = null;\n  if (milestone.dispute?.plaintiff._id === milestone.client._id) {\n    myCase = milestone.dispute?.defendant?.case?.dscr;\n    disputeFiledBy = \"client\";\n  } else if (milestone.dispute?.defendant._id === milestone.client._id) {\n    disputeFiledBy = \"self\";\n  }\n  const declineMilestone = () => {\n    fetch(\"/api/declineMilestone\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id: milestone._id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMilestones((prev) =>\n            prev.map((item) => {\n              if (item._id === data.milestone._id) {\n                return {\n                  ...data.milestone,\n                  client: milestone.client,\n                  role: milestone.role,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Milestone succefully declined.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Milestone succefully declined.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not decline milestone. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const cancelRequest = () => {\n    fetch(\"/api/cancelMilestoneRequest\", {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: milestone._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMilestones((prev) =>\n            prev.filter((item) => item._id !== milestone._id)\n          );\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Milestone request cancelled.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not cancel milestone request. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Could not cancel milestone request. Make sure you're online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const requestRelease = () => {\n    fetch(\"/api/requestRelease\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: milestone._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMilestones((prev) =>\n            prev.map((item) => {\n              if (item._id === data.milestone._id) {\n                return {\n                  ...data.milestone,\n                  client: milestone.client,\n                  role: milestone.role,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Milestone request cancelled.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not request release. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not request release. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <li className={`milestone buyer`} key={milestone._id}>\n        <CommonMilestoneElement milestone={milestone} />\n        <div className=\"clas\">\n          <h4>{milestone.amount}</h4>\n          <div className=\"btns\">\n            {\n              // milestone.status === \"pending\" ||\n              // milestone.status === \"inProgress\"\n              milestone.status === \"pendingRelease\" && (\n                <>\n                  <a className=\"released\">Release requested</a>\n                  <a className=\"dispute\" onClick={() => setDisputeForm(true)}>\n                    Raise Dispute\n                  </a>\n                </>\n              )\n            }\n            {milestone.status === \"pending\" && (\n              <a\n                className=\"disputeRes\"\n                onClick={() =>\n                  Confirm({\n                    label: \"Cancel Milestone request\",\n                    question: \"You sure want to cancel this request?\",\n                    callback: cancelRequest,\n                  })\n                }\n              >\n                Cancel Request\n              </a>\n            )}\n            {milestone.status === \"released\" && (\n              <a className=\"released\">Released</a>\n            )}\n            {((disputeFiledBy === \"client\" && myCase) ||\n              disputeFiledBy === \"self\") && (\n              <a className=\"disputed\">Dispute {milestone.dispute?.status}</a>\n            )}\n            {disputeFiledBy === \"client\" && !myCase && (\n              <a className=\"disputeRes\" onClick={() => setDisputeForm(true)}>\n                Approve Dispute\n              </a>\n            )}\n            {milestone.status === \"inProgress\" && (\n              <>\n                <a\n                  onClick={() =>\n                    Confirm({\n                      label: \"Request Release\",\n                      question:\n                        \"You sure want to request release of this milestone?\",\n                      callback: requestRelease,\n                    })\n                  }\n                >\n                  Request Release\n                </a>\n                <a\n                  className=\"disputeRes\"\n                  onClick={() =>\n                    Confirm({\n                      label: \"Decline Milestone\",\n                      question: \"You sure want to decline this milestone?\",\n                      callback: declineMilestone,\n                    })\n                  }\n                >\n                  Decline\n                </a>\n              </>\n            )}\n            {milestone.status === \"declined\" && (\n              <a className=\"disputed\">Declined</a>\n            )}\n          </div>\n        </div>\n        <Modal\n          open={disputeForm}\n          head={true}\n          label=\"Raise Dispute\"\n          setOpen={setDisputeForm}\n          className=\"disputeForm\"\n        >\n          <DisputeForm\n            milestone={milestone}\n            setDisputeForm={setDisputeForm}\n            onSuccess={(milestone) => {\n              setMilestones((prev) =>\n                prev.map((item) => {\n                  if (item._id === milestone._id) {\n                    return {\n                      ...milestone,\n                      client: item.client,\n                      role: item.role,\n                    };\n                  } else {\n                    return item;\n                  }\n                })\n              );\n              setDisputeForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>\n                      {disputeFiledBy === \"client\"\n                        ? \"Case submit success. Dispute pending for verdict.\"\n                        : \"Dispute filed succefully.\"}\n                    </h4>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </li>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nexport default Hold;\n","import { useEffect, useState, useContext, lazy, useRef } from \"react\";\nimport { useHistory, Link, Route } from \"react-router-dom\";\nimport { SiteContext } from \"../SiteContext\";\nimport { UserSearch, MilestoneForm } from \"./Account\";\nimport { Err_svg, Img, Moment, Succ_svg } from \"./Elements\";\nimport { Modal } from \"./Modal\";\n\nexport const StartTransaction = () => {\n  const { userType } = useContext(SiteContext);\n  const history = useHistory();\n  const [value, setValue] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [recentPayments, setRecentPayments] = useState([]);\n  const [client, setClient] = useState(null);\n  const [msg, setMsg] = useState(null);\n  const milestoneTimeout = useRef();\n  useEffect(() => {\n    fetch(\"/api/recentPayments\")\n      .then((res) => res.json())\n      .then((data) => {\n        setRecentPayments(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {\n    if (history.location.pathname === \"/account/home/pay\" && !client) {\n      history.push(\"/account/home\");\n    }\n  }, []);\n  return (\n    <div className=\"homeContainer\">\n      <div className=\"benner\">\n        <h4>Start transactions with Delivery pay</h4>\n        <p>Connect with new buyers/sellers.</p>\n        {\n          // <p>Let us help you make the safest transaction</p>\n        }\n      </div>\n      <UserSearch setClient={setClient} />\n      <div className=\"recentPayments\">\n        <p className=\"label\">\n          Recent Payments\n          <span className=\"note\">\n            {userType === \"buyer\"\n              ? \"Click to view all their products.\"\n              : \"Click to request a milestone.\"}\n          </span>\n        </p>\n        <ul className=\"payments\">\n          {recentPayments.map((user) => (\n            <li key={user._id}>\n              <Link\n                target={userType === \"buyer\" ? \"_blank\" : \"\"}\n                // to={`/account/marketplace?seller=${user._id}`}\n                to={\n                  userType === \"buyer\"\n                    ? `/marketplace?seller=${user._id}`\n                    : \"/account/home/requestMilestone\"\n                }\n                onClick={() => {\n                  setClient(user);\n                }}\n              >\n                <Img src={user.profileImg} />\n                <p className=\"name\">{user.firstName + \" \" + user.lastName}</p>\n              </Link>\n            </li>\n          ))}\n          {recentPayments.length === 0 && <p>Nothing for now</p>}\n        </ul>\n      </div>\n      <Route path={\"/account/home/createMilestone\"}>\n        <Modal\n          open={true}\n          head={true}\n          label=\"Create Milestone\"\n          setOpen={() => {\n            history.push(\"/account/home\");\n            setClient(null);\n          }}\n          className=\"milestoneRequest\"\n        >\n          <MilestoneForm\n            action=\"create\"\n            client={client}\n            onSuccess={(milestone) => {\n              history.push(\"/account/home\");\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been created</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </Route>\n      <Route path={\"/account/home/requestMilestone\"}>\n        <Modal\n          open={true}\n          head={true}\n          label=\"Request Milestone\"\n          setOpen={() => {\n            history.push(\"/account/home\");\n            setClient(null);\n          }}\n          className=\"milestoneRequest\"\n        >\n          <MilestoneForm\n            action=\"request\"\n            client={client}\n            onSuccess={(milestone) => {\n              history.push(\"/account/home\");\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been requested</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </Route>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Transactions = ({ history, location, match }) => {\n  const [transactions, setTransactions] = useState([]);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    fetch(\"/api/transactions?type=P2PTransaction\")\n      .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        }\n      })\n      .then((data) => {\n        if (data) {\n          setTransactions(data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get transactions.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  return (\n    <div className=\"transactionContainer\">\n      <p className=\"benner\">Completed Delivery pay Hold Transactions</p>\n      <ul className=\"transactions\">\n        {transactions.map((transaction) => (\n          <SingleTransaction key={transaction._id} transaction={transaction} />\n        ))}\n        {transactions.length === 0 && (\n          <p className=\"placeholder\">No transaction yet.</p>\n        )}\n      </ul>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\nconst SingleTransaction = ({ transaction }) => {\n  const { user } = useContext(SiteContext);\n  return (\n    <li className={`transaction ${transaction.amount > 0 ? \"in\" : \"out\"}`}>\n      <div className={`transactionDetail`}>\n        <div className=\"profile\">\n          {transaction.client ? (\n            <>\n              <Img\n                src={transaction.client._id?.profileImg || \"/profile-user.jpg\"}\n              />\n              <p className=\"name\">\n                {transaction.client.firstName +\n                  \" \" +\n                  transaction.client.lastName}\n              </p>\n            </>\n          ) : (\n            <>\n              <Img src={user.profileImg || \"/profile-user.jpg\"} />\n              <p className=\"name\">{user.firstName + \" \" + user.lastName}</p>\n            </>\n          )}\n        </div>\n      </div>\n      <ul>\n        <li>\n          <p>Role</p>-\n          <p className=\"role\">{transaction.amount > 0 ? \"Seller\" : \"Buyer\"}</p>\n        </li>\n        <li>\n          <p>Product detail</p>-<p>{transaction.dscr || \"-\"}</p>\n        </li>\n        <li>\n          <p>Transaction ID</p>-<p>{transaction._id}</p>\n        </li>\n      </ul>\n      <ul className=\"amountDate\">\n        <li>\n          <p>Amount</p>-<p className=\"amount\">{transaction.amount.fix()}</p>\n        </li>\n        <li>\n          <p>Hold Date</p>-\n          <p>\n            <Moment format=\"MMM DD, YYYY, hh:mm a\">\n              {transaction.createdAt}\n            </Moment>\n          </p>\n        </li>\n        <li>\n          <p>Released Date</p>-\n          <p>\n            <Moment format=\"MMM DD, YYYY, hh:mm a\">\n              {transaction.milestoneId?.releaseDate || \"--\"}\n            </Moment>\n          </p>\n        </li>\n      </ul>\n      <ul className=\"statusMethod\">\n        <li>\n          <p>Status</p>-\n          <p className=\"status\">{transaction.milestoneId?.status || \"--\"}</p>\n        </li>\n        <li>\n          <p>Released to</p>-<p>{transaction.amount < 0 ? \"Seller\" : \"--\"}</p>\n        </li>\n        <li>\n          <p>Verification Method</p>-\n          <p>{transaction.milestoneId?.verification || \"--\"}</p>\n        </li>\n      </ul>\n    </li>\n  );\n};\n\nexport default Transactions;\n","import {\n  useState,\n  useEffect,\n  useContext,\n  useCallback,\n  useRef,\n  useLayoutEffect,\n  Fragment,\n  lazy,\n} from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Link, Route } from \"react-router-dom\";\nimport { Modal } from \"./Modal\";\nimport {\n  Combobox,\n  Succ_svg,\n  Err_svg,\n  Plus_svg,\n  Minus_svg,\n  Arrow_up_svg,\n  Arrow_down_svg,\n  Img,\n  Moment,\n} from \"./Elements\";\n\nfunction generateGreetings() {\n  const currentHour = new Date().getHours();\n  if (currentHour >= 3 && currentHour < 12) {\n    return \"Good Morning\";\n  } else if (currentHour >= 12 && currentHour < 15) {\n    return \"Good Afternoon\";\n  } else if (currentHour >= 15 && currentHour < 20) {\n    return \"Good Evening\";\n  } else if (currentHour >= 20 && currentHour < 3) {\n    return \"Good Night\";\n  } else {\n    return \"Hello\";\n  }\n}\n\nfunction loadScript(src) {\n  return new Promise((res, rej) => {\n    if (!document.querySelector(`script[src=\"${src}\"]`)) {\n      const scr = document.createElement(\"script\");\n      scr.src = src;\n      document.body.appendChild(scr);\n      scr.onload = () => res(true);\n      scr.onerror = () => rej(true);\n    } else {\n      res(true);\n    }\n  });\n}\n\nconst Wallet = ({ history, location, match }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [balance, setBalance] = useState(0);\n  const [monthlyBalance, setMonthlyBalance] = useState([]);\n  const [addMoneyAmount, setAddMoneyAmount] = useState(\"\");\n  const [rewards, setRewards] = useState([]);\n  const [addMoneySuccess, setAddMoneySuccess] = useState(false);\n  const [addMoneyFailed, setAddMoneyFailed] = useState(false);\n  // const [withdrawMoneyAmount, setWithdrawMoneyAmount] = useState(\"\");\n  // const [withdrawMoneyFail, setWithdrawMoneyFail] = useState(false);\n  // const [withdrawOptions, setWithdrawOptions] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(null);\n  // const withdrawMoney = (method) => {\n  //   let url;\n  //   let options = {\n  //     method: \"POST\",\n  //     headers: { \"Content-Type\": \"application/json\" },\n  //   };\n  //   switch (method.__t) {\n  //     case \"BankCard\":\n  //       options.body = JSON.stringify({\n  //         paymentMethod: method.__t,\n  //         amount: withdrawMoneyAmount,\n  //         accountDetail: {\n  //           number: +method.cardNumber,\n  //           name: method.nameOnCard,\n  //         },\n  //       });\n  //       break;\n  //     case \"BankAccount\":\n  //       options.body = JSON.stringify({\n  //         paymentMethod: method.__t,\n  //         amount: withdrawMoneyAmount,\n  //         accountDetail: {\n  //           name: method.name,\n  //           ifsc: method.ifsc,\n  //           account_number: method.accountNumber,\n  //         },\n  //       });\n  //       break;\n  //     case \"VpaAccount\":\n  //       options.body = JSON.stringify({\n  //         paymentMethod: method.__t,\n  //         amount: withdrawMoneyAmount,\n  //         accountDetail: {\n  //           address: method.address,\n  //         },\n  //       });\n  //     default:\n  //       return;\n  //   }\n  //   setLoading(true);\n  //   fetch(\"/api/withdrawMoney\", options)\n  //     .then((res) => res.json())\n  //     .then((data) => {\n  //       setLoading(false);\n  //       if (data.code === \"ok\") {\n  //         setUser((prev) => ({\n  //           ...prev,\n  //           balance: prev.balance - data.transaction.amount,\n  //         }));\n  //         setBalance((prev) => prev - data.transaction.amount);\n  //         history.push(\"/account/wallet\");\n  //         setMsg(\n  //           <>\n  //             <button onClick={() => setMsg(null)}>Okay</button>\n  //             <div>\n  //               <Succ_svg />\n  //               <h4 className=\"amount\">{data.transaction?.amount}</h4>\n  //               <h4>Money withdrawed!</h4>\n  //             </div>\n  //           </>\n  //         );\n  //       } else if (data.code === 403) {\n  //         setMsg(\n  //           <>\n  //             <button onClick={() => setMsg(null)}>Okay</button>\n  //             <div>\n  //               <Err_svg />\n  //               <h4>Insufficient fun.</h4>\n  //             </div>\n  //           </>\n  //         );\n  //       } else {\n  //         setMsg(\n  //           <>\n  //             <button onClick={() => setMsg(null)}>Okay</button>\n  //             <div>\n  //               <Err_svg />\n  //               <h4>Could not withdraw money. Please try again.</h4>\n  //             </div>\n  //           </>\n  //         );\n  //       }\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       setLoading(false);\n  //       setWithdrawMoneyFail(true);\n  //     });\n  // };\n  const handleOrder = (order, key) => {\n    const Razorpay = window.Razorpay;\n    if (Razorpay) {\n      const options = {\n        key,\n        amount: order.amount,\n        currency: order.currency,\n        accept_partial: false,\n        name: `${user.firstName} ${user.lastName}`,\n        description: \"Add money to Delivery Pay wallet\",\n        image: \"/logo_big.jpg\",\n        order_id: order.id,\n        handler: (res) => {\n          fetch(\"/api/addMoney\", {\n            method: \"PUT\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              transactionId: res.razorpay_payment_id,\n              razorSignature: res.razorpay_signature,\n              razorOrderId: res.razorpay_order_id,\n            }),\n          })\n            .then((res) => res.json())\n            .then(({ code, user, transaction, message }) => {\n              if (code === \"ok\") {\n                history.push(\"/account/profile/wallet\");\n                setAddMoneyFailed(false);\n                setAddMoneySuccess(transaction);\n                setBalance((prev) => prev + transaction.amount);\n                setAddMoneyAmount(\"\");\n                setLoading(false);\n              } else {\n                setMsg(\n                  <>\n                    <button onClick={() => setMsg(null)}>Okay</button>\n                    <div>\n                      <Err_svg />\n                      <h4>\n                        Error happend. Make sure you're payment details are\n                        correct.\n                      </h4>\n                    </div>\n                  </>\n                );\n              }\n            })\n            .catch((err) => {\n              console.log(err);\n              setAddMoneyFailed(true);\n            });\n        },\n        modal: { ondismiss: () => setLoading(false) },\n        theme: { color: \"#336cf9\" },\n        notify: {\n          sms: true,\n          email: true,\n        },\n        reminder_enable: true,\n      };\n      const rzp1 = new Razorpay(options);\n      rzp1.on(\"payment.failed\", (res) => {\n        setAddMoneyFailed(true);\n        setLoading(false);\n      });\n      rzp1.open();\n    }\n  };\n  const addMoneySubmit = (e) => {\n    e.preventDefault();\n    fetch(\"/api/createAddMoneyOrder\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ amount: addMoneyAmount }),\n    })\n      .then((res) => res.json())\n      .then(({ order, key }) => {\n        setLoading(false);\n        if (order) {\n          handleOrder(order, key);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Error happend. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Error happend. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n    fetch(\"/api/dashboardData\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMonthlyBalance(data.monthlyBalance);\n          setBalance(data.balance);\n          setRewards(data.rewards);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not update balance.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not update balance.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  useEffect(() => {\n    if (!addMoneyAmount) {\n      history.push(\"/account/profile/wallet\");\n    }\n    // if (!withdrawMoneyAmount) {\n    //   history.push(\"/account/wallet\");\n    // }\n    setLoading(false);\n  }, [\n    addMoneyAmount,\n    // withdrawMoneyAmount\n  ]);\n  return (\n    <div className=\"walletContainer\">\n      <div className=\"leftSection\">\n        <div className=\"nameTag\">\n          <h2>Hello {user.firstName},</h2>\n          <p className=\"greetings\">{generateGreetings()}</p>\n        </div>\n        <div className=\"balance\">\n          <div className=\"currentBalance\">\n            <p className=\"label\">Wallet Balance</p>\n            <h1> {balance.fix()}</h1>\n            <p className=\"updateTime\">\n              <Moment format=\"ddd, DD MMM YYYY\">{new Date()}</Moment>\n            </p>\n          </div>\n          <Graph data={monthlyBalance} />\n        </div>\n        <div className=\"addWithdraw\">\n          <div className=\"add money\">\n            <p className=\"label\">Add Money</p>\n            <form onSubmit={addMoneySubmit}>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                min=\"10\"\n                value={addMoneyAmount}\n                onChange={(e) => setAddMoneyAmount(e.target.value)}\n                placeholder=\"Enter amount\"\n                required={true}\n              />\n              <button>Proceed</button>\n            </form>\n          </div>\n          {\n            //   <div className=\"withdraw money\">\n            //   <p className=\"label\">Withdraw</p>\n            //   <form\n            //     onSubmit={(e) => {\n            //       e.preventDefault();\n            //       if (withdrawMoneyAmount > balance) {\n            //         setMsg(\n            //           <>\n            //             <button onClick={() => setMsg(null)}>Okay</button>\n            //             <div>\n            //               <Err_svg />\n            //               <h4>\n            //                 Enter an amount less or equal to currect balance.\n            //               </h4>\n            //             </div>\n            //           </>\n            //         );\n            //       } else {\n            //         history.push(\"/account/wallet/withdrawMoney\");\n            //       }\n            //     }}\n            //   >\n            //     <input\n            //       type=\"number\"\n            //       step=\"0.01\"\n            //       min=\"10\"\n            //       placeholder=\"Enter ammount\"\n            //       required={true}\n            //       value={withdrawMoneyAmount}\n            //       onChange={(e) => setWithdrawMoneyAmount(e.target.value)}\n            //     />\n            //     <button>Proceed</button>\n            //   </form>\n            // </div>\n          }\n        </div>\n        <div className=\"rewards\">\n          <p className=\"label\">Rewards</p>\n          <ul className=\"cards\">\n            {rewards.map((item, i) => (\n              <li key={i}>\n                <p className=\"rewardName\">{item.name}</p>\n                <div>\n                  {item.img && <Img src={item.img} />}\n                  {item.amount && <p className=\"amount\">{item.amount}</p>}\n                  <p className=\"rewardDscr\">{item.dscr}</p>\n                </div>\n                {!item.redeemed && (\n                  <button\n                    className=\"redeem\"\n                    onClick={() => {\n                      setMsg(\n                        <>\n                          <div>\n                            <h4>Redeeming Reward...</h4>\n                          </div>\n                        </>\n                      );\n                      fetch(\"/api/redeemReward\", {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({ _id: item._id }),\n                      })\n                        .then((res) => res.json())\n                        .then((data) => {\n                          if (data.code === \"ok\") {\n                            setRewards((prev) =>\n                              prev.map((item) => {\n                                if (item._id === data.reward._id) {\n                                  return data.reward;\n                                } else {\n                                  return item;\n                                }\n                              })\n                            );\n                            setMsg(\n                              <>\n                                <button onClick={() => setMsg(null)}>\n                                  Okay\n                                </button>\n                                <div>\n                                  <Succ_svg />\n                                  <h4>Reward succefully redeemed</h4>\n                                </div>\n                              </>\n                            );\n                          } else {\n                            setMsg(\n                              <>\n                                <button onClick={() => setMsg(null)}>\n                                  Okay\n                                </button>\n                                <div>\n                                  <Err_svg />\n                                  <h4>Could not redeem reward.</h4>\n                                </div>\n                              </>\n                            );\n                          }\n                        })\n                        .catch((err) => {\n                          console.log(err);\n                          setMsg(\n                            <>\n                              <button onClick={() => setMsg(null)}>Okay</button>\n                              <div>\n                                <Err_svg />\n                                <h4>\n                                  Could not redeem reward. Make sure you're\n                                  online.\n                                </h4>\n                              </div>\n                            </>\n                          );\n                        });\n                    }}\n                  >\n                    Redeem\n                  </button>\n                )}\n              </li>\n            ))}\n            {rewards.length === 0 ? (\n              <li className=\"placeholder\">Nothing yet.</li>\n            ) : null}\n          </ul>\n        </div>\n      </div>\n      <div className=\"rightSection\">\n        <Cards paymentMethods={user.paymentMethods} />\n        <Transactions />\n      </div>\n      <Modal\n        className=\"paymentMethodsForm\"\n        head={true}\n        label=\"Add Payment Method\"\n        setOpen={() => {\n          history.push(\"/account/profile/wallet/addMoney\");\n        }}\n        open={location.pathname.startsWith(\n          \"/account/wallet/addMoney/addPaymentMethod\"\n        )}\n      >\n        <PaymentMethodForm\n          onSuccess={() => history.push(\"/account/profile/wallet/addMoney\")}\n        />\n      </Modal>\n      {\n        //   <Modal\n        //   className=\"addMoney\"\n        //   head={true}\n        //   label=\"Withdraw Money\"\n        //   setOpen={() => {\n        //     history.push(\"/account/wallet\");\n        //   }}\n        //   open={location.pathname.startsWith(\"/account/wallet/withdrawMoney\")}\n        //   style={\n        //     loading\n        //       ? {\n        //           filter: \"grayscale(.4)\",\n        //           pointerEvents: \"none\",\n        //         }\n        //       : {}\n        //   }\n        // >\n        //   <PaymentOption\n        //     label=\"Where do you want to recieve your money?\"\n        //     action={withdrawMoney}\n        //   />\n        // </Modal>\n      }\n      <Modal open={addMoneySuccess} className=\"msg\">\n        <button onClick={() => setAddMoneySuccess(null)}>Okay</button>\n        <div>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"158\"\n            height=\"158\"\n            viewBox=\"0 0 158 158\"\n          >\n            <defs>\n              <linearGradient\n                id=\"linear-gradient\"\n                x1=\"-0.298\"\n                y1=\"-0.669\"\n                x2=\"1.224\"\n                y2=\"1.588\"\n                gradientUnits=\"objectBoundingBox\"\n              >\n                <stop offset=\"0\" stopColor=\"#336cf9\" />\n                <stop offset=\"1\" stopColor=\"#1be6d6\" />\n              </linearGradient>\n              <clipPath id=\"clip-path\">\n                <rect width=\"64\" height=\"64\" fill=\"none\" />\n              </clipPath>\n            </defs>\n            <g\n              id=\"Group_163\"\n              data-name=\"Group 163\"\n              transform=\"translate(-0.426 -0.384)\"\n            >\n              <g\n                id=\"Group_103\"\n                data-name=\"Group 103\"\n                transform=\"translate(0 0)\"\n              >\n                <rect\n                  id=\"Rectangle_1104\"\n                  data-name=\"Rectangle 1104\"\n                  width=\"158\"\n                  height=\"158\"\n                  rx=\"79\"\n                  transform=\"translate(0.426 0.384)\"\n                  fill=\"url(#linear-gradient)\"\n                />\n              </g>\n              <g\n                id=\"Component_148_2\"\n                data-name=\"Component 148  2\"\n                transform=\"translate(47.426 58.384)\"\n                clipPath=\"url(#clip-path)\"\n              >\n                <rect\n                  id=\"Rectangle_460\"\n                  data-name=\"Rectangle 460\"\n                  width=\"64\"\n                  height=\"64\"\n                  transform=\"translate(0 0)\"\n                  fill=\"none\"\n                />\n                <path\n                  id=\"Checkbox\"\n                  d=\"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z\"\n                  transform=\"translate(0 1.728)\"\n                  fill=\"#fff\"\n                />\n              </g>\n            </g>\n          </svg>\n          <h4 className=\"amount\">{addMoneySuccess?.amount}</h4>\n          <h4>Money added!</h4>\n        </div>\n      </Modal>\n      {\n        //   <Modal open={withdrawMoneyFail} className=\"msg\">\n        //   <button\n        //     onClick={() => {\n        //       setLoading(false);\n        //       setWithdrawMoneyFail(null);\n        //     }}\n        //   >\n        //     Okay\n        //   </button>\n        //   <div>\n        //     <svg\n        //       xmlns=\"http://www.w3.org/2000/svg\"\n        //       width=\"158\"\n        //       height=\"158\"\n        //       viewBox=\"0 0 158 158\"\n        //     >\n        //       <defs>\n        //         <linearGradient\n        //           id=\"linear-gradient-red\"\n        //           x1=\"-0.298\"\n        //           y1=\"-0.669\"\n        //           x2=\"1.224\"\n        //           y2=\"1.588\"\n        //           gradientUnits=\"objectBoundingBox\"\n        //         >\n        //           <stop offset=\"0\" stopColor=\"#f93389\" />\n        //           <stop offset=\"1\" stopColor=\"#e3003e\" />\n        //         </linearGradient>\n        //       </defs>\n        //       <rect\n        //         id=\"Rectangle_1104\"\n        //         data-name=\"Rectangle 1104\"\n        //         width=\"158\"\n        //         height=\"158\"\n        //         rx=\"79\"\n        //         fill=\"url(#linear-gradient-red)\"\n        //       />\n        //       <g\n        //         id=\"Component_85_8\"\n        //         data-name=\"Component 85  8\"\n        //         transform=\"translate(49.472 49.472)\"\n        //       >\n        //         <path\n        //           id=\"Union_3\"\n        //           data-name=\"Union 3\"\n        //           d=\"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z\"\n        //           fill=\"#fff\"\n        //         />\n        //       </g>\n        //     </svg>\n        //     <h4>Could not withdraw money.</h4>\n        //   </div>\n        // </Modal>\n      }\n      <Modal open={false} className=\"msg\">\n        <button onClick={() => setAddMoneyFailed(null)}>Okay</button>\n        <div>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"158\"\n            height=\"158\"\n            viewBox=\"0 0 158 158\"\n          >\n            <defs>\n              <linearGradient\n                id=\"linear-gradient\"\n                x1=\"-0.298\"\n                y1=\"-0.669\"\n                x2=\"1.224\"\n                y2=\"1.588\"\n                gradientUnits=\"objectBoundingBox\"\n              >\n                <stop offset=\"0\" stopColor=\"#f93389\" />\n                <stop offset=\"1\" stopColor=\"#e3003e\" />\n              </linearGradient>\n            </defs>\n            <rect\n              id=\"Rectangle_1104\"\n              data-name=\"Rectangle 1104\"\n              width=\"158\"\n              height=\"158\"\n              rx=\"79\"\n              fill=\"url(#linear-gradient)\"\n            />\n            <g\n              id=\"Component_85_8\"\n              data-name=\"Component 85  8\"\n              transform=\"translate(49.472 49.472)\"\n            >\n              <path\n                id=\"Union_3\"\n                data-name=\"Union 3\"\n                d=\"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z\"\n                fill=\"#fff\"\n              />\n            </g>\n          </svg>\n          <h4>Add money failed</h4>\n        </div>\n      </Modal>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Graph = ({ data }) => {\n  const max =\n    data.sort((a, b) => (a.balance < b.balance ? 1 : -1))[0]?.balance?.fix() ||\n    0;\n  return (\n    <div className=\"graph\">\n      <p className=\"label\">Analytics</p>\n      <ul className=\"bars\" data-max={` ${max || 0}`}>\n        {data.map((month, i) => {\n          return (\n            <li key={i}>\n              <div\n                className=\"bar\"\n                style={{ height: `${month.balance / (max / 100)}%` }}\n              />\n              <label className=\"month\">{month._id}</label>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\nconst PaymentOption = ({ label, action }) => {\n  const { user, setUser } = useContext(SiteContext);\n  return (\n    <div className=\"paymentOptions\">\n      <p className=\"label\">{label}</p>\n      <div className=\"options\">\n        {user.paymentMethods.map((method, i) => (\n          <Fragment key={method._id}>\n            {method.__t === \"BankCard\" && (\n              <BankCard card={method} onClick={(card) => action(card)} />\n            )}\n            {method.__t === \"BankAccount\" && (\n              <BankAccount account={method} onClick={(card) => action(card)} />\n            )}\n          </Fragment>\n        ))}\n        {user.paymentMethods.length === 0 && (\n          <div className=\"placeholder\">No payment method added.</div>\n        )}\n      </div>\n      <Link className=\"addMethodLink\" to=\"addMoney/addPaymentMethod\">\n        Add payment method\n      </Link>\n    </div>\n  );\n};\nconst PaymentMethodForm = ({ onSuccess }) => {\n  const [type, setType] = useState(\"netBanking\");\n  return (\n    <div className=\"addPaymentMethod\">\n      {\n        //   <section className=\"paymentOption\">\n        //   <div className=\"header\" onClick={() => setType(\"upi\")}>\n        //     <div className={`redial ${type === \"upi\" && \"active\"}`}>\n        //       <div className=\"fill\" />\n        //     </div>\n        //     <label>\n        //       UPI <Img src=\"/payment_upi.png\" />\n        //     </label>\n        //   </div>\n        //   {type === \"upi\" && <UpiForm />}\n        // </section>\n      }\n      {\n        //   <section className=\"paymentOption\">\n        //   <div className=\"header\" onClick={() => setType(\"bankCard\")}>\n        //     <div className={`redial ${type === \"bankCard\" && \"active\"}`}>\n        //       <div className=\"fill\" />\n        //     </div>\n        //     <label>\n        //       Add Debit/Credit Card <Img src=\"/payment_visa.png\" />{\" \"}\n        //       <Img src=\"/payment_mc.png\" />\n        //     </label>\n        //   </div>\n        //   {type === \"bankCard\" && <BankCardForm onSuccess={onSuccess} />}\n        // </section>\n      }\n      <section className=\"paymentOption\">\n        <div className=\"header\" onClick={() => setType(\"netBanking\")}>\n          <div className={`redial ${type === \"netBanking\" && \"active\"}`}>\n            <div className=\"fill\" />\n          </div>\n          <label>Net Banking</label>\n        </div>\n        {type === \"netBanking\" && <NetBankingForm onSuccess={onSuccess} />}\n      </section>\n    </div>\n  );\n};\n\nexport const UpiForm = () => {\n  const [id, setId] = useState(\"\");\n  const submit = (e) => {\n    e.preventDefault();\n    setId(\"Coming soon!\");\n  };\n  return (\n    <form className=\"paymentMethodForm upi\" onSubmit={submit}>\n      <label>Please enter your UPI ID</label>\n      <section>\n        <input\n          type=\"text\"\n          value={id}\n          required={true}\n          name=\"upiId\"\n          onChange={(e) => setId(e.target.value)}\n          placeholder=\"Ex: MobileNumber@upi\"\n        />\n        <button type=\"submit\">Verify</button>\n      </section>\n    </form>\n  );\n};\nexport const BankCardForm = ({ prefill, onSuccess }) => {\n  const { setUser } = useContext(SiteContext);\n  const [brand, setBrand] = useState(prefill?.brand || null);\n  const [name, setName] = useState(prefill?.nameOnCard || \"\");\n  const [cardNumber, setCardNumber] = useState(prefill?.cardNumber || \"\");\n  const [expMonth, setExpMonth] = useState(\"\");\n  const [expYear, setExpYear] = useState(\"\");\n  const [cvv, setCvv] = useState(prefill?.cvv || \"\");\n  const [unsupporetdCard, setUnsuppportedCard] = useState(false);\n  const years = (() => {\n    const year = new Date().getFullYear();\n    const years = [];\n    for (var i = 0; i < 15; i++) {\n      years.push({ label: year + i, value: (year + i).toString().substr(2) });\n    }\n    return years;\n  })();\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {}, [expYear, expMonth]);\n  const submit = (e) => {\n    e.preventDefault();\n    if (brand === null) {\n      setUnsuppportedCard(true);\n      setTimeout(() => setUnsuppportedCard(false), 1500);\n      return;\n    }\n    fetch(prefill ? \"/api/editPaymentMethod\" : \"/api/addPaymentMethod\", {\n      method: prefill ? \"PATCH\" : \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        type: \"BankCard\",\n        brand,\n        nameOnCard: name,\n        cardNumber,\n        exp: `${expMonth}/${expYear}`,\n        cvv,\n        ...(prefill && { _id: prefill._id }),\n      }),\n    })\n      .then((res) => res.json())\n      .then(({ paymentMethod }) => {\n        if (paymentMethod) {\n          if (!prefill) {\n            setUser((prev) => ({\n              ...prev,\n              paymentMethods: [...prev.paymentMethods, paymentMethod],\n            }));\n          } else {\n            setUser((prev) => ({\n              ...prev,\n              paymentMethods: prev.paymentMethods.map((item) => {\n                if (item._id === paymentMethod._id) {\n                  return paymentMethod;\n                } else {\n                  return item;\n                }\n              }),\n            }));\n          }\n          onSuccess?.(paymentMethod);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>\n                  Payment method could not be {prefill ? \"updated\" : \"added\"}.\n                  Please try again.\n                </h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Error happaned. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <form className=\"paymentMethodForm bankCard\" onSubmit={submit}>\n      {!prefill && (\n        <p className=\"note\">\n          Well save this card for your convenience. Remove it by going to Your\n          Account section\n        </p>\n      )}\n      <section className=\"inputs\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Name on your card\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"number\"\n          name=\"cardNumber\"\n          placeholder=\"Card Number\"\n          value={cardNumber}\n          onChange={(e) => {\n            if (e.target.value.match(/^3[47][0-9]{13}$/)) {\n              setBrand(\"amex\");\n            } else if (e.target.value.match(/^4[0-9]{12}(?:[0-9]{3})?$$/)) {\n              setBrand(\"visa\");\n            } else if (\n              e.target.value.match(\n                /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/\n              )\n            ) {\n              setBrand(\"masterCard\");\n            } else {\n              setBrand(null);\n            }\n            setCardNumber(e.target.value);\n          }}\n          required={true}\n        />\n        <section className=\"exp\">\n          <label>Expiry Date</label>\n          <Combobox\n            placeholder=\"Month\"\n            options={[\n              { label: \"Jan\", value: \"01\" },\n              { label: \"Feb\", value: \"02\" },\n              { label: \"Mar\", value: \"03\" },\n              { label: \"Apr\", value: \"04\" },\n              { label: \"May\", value: \"05\" },\n              { label: \"Jun\", value: \"06\" },\n              { label: \"Jul\", value: \"07\" },\n              { label: \"Aug\", value: \"08\" },\n              { label: \"Sep\", value: \"09\" },\n              { label: \"Oct\", value: \"10\" },\n              { label: \"Nov\", value: \"11\" },\n              { label: \"Dec\", value: \"12\" },\n            ]}\n            required={true}\n            onChange={(e) => setExpMonth(e.value)}\n          />\n          <Combobox\n            placeholder=\"Year\"\n            options={years}\n            required={true}\n            onChange={(e) => setExpYear(e.value)}\n          />\n        </section>\n        <section className=\"cvv\">\n          <label>CVV</label>\n          <input\n            type=\"number\"\n            name=\"cvv\"\n            required={true}\n            value={cvv}\n            onChange={(e) => setCvv(e.target.value)}\n          />\n        </section>\n      </section>\n      <button>Save</button>\n      {unsupporetdCard && (\n        <p className=\"cardErr\">Enter valid Visa/MasterCard</p>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </form>\n  );\n};\nexport const NetBankingForm = ({ prefill, onSuccess }) => {\n  const { setUser } = useContext(SiteContext);\n  const [bank, setBank] = useState(prefill?.bank || \"\");\n  const [name, setName] = useState(prefill?.name || \"\");\n  const [ifsc, setIfsc] = useState(prefill?.ifsc || \"\");\n  const [city, setCity] = useState(prefill?.city || \"\");\n  const [type, setType] = useState(prefill?.type || \"\");\n  const [msg, setMsg] = useState(null);\n  const [accountNumber, setAccountNumber] = useState(\n    prefill?.accountNumber || \"\"\n  );\n  const submit = (e) => {\n    e.preventDefault();\n    fetch(prefill ? \"/api/editPaymentMethod\" : \"/api/addPaymentMethod\", {\n      method: prefill ? \"PATCH\" : \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        type: \"BankAccount\",\n        name,\n        bank,\n        ifsc,\n        accountNumber,\n        city,\n        accountType: type,\n        ...(prefill && { _id: prefill._id }),\n      }),\n    })\n      .then((res) => res.json())\n      .then(({ paymentMethod }) => {\n        if (paymentMethod) {\n          if (!prefill) {\n            setUser((prev) => ({\n              ...prev,\n              paymentMethods: [...prev.paymentMethods, paymentMethod],\n            }));\n          } else {\n            setUser((prev) => ({\n              ...prev,\n              paymentMethods: prev.paymentMethods.map((item) => {\n                if (item._id === paymentMethod._id) {\n                  return paymentMethod;\n                } else {\n                  return item;\n                }\n              }),\n            }));\n          }\n          onSuccess?.(paymentMethod);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not update payment method. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Could not updated payment method. Make sure you're online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <form className=\"paymentMethodForm netBanking\" onSubmit={submit}>\n      <section className=\"inputs\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Full name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"bank\"\n          placeholder=\"Bank\"\n          value={bank}\n          onChange={(e) => setBank(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"city\"\n          placeholder=\"City\"\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"type\"\n          placeholder=\"Account type ie. Savings / Current\"\n          value={type}\n          onChange={(e) => setType(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"accountNumber\"\n          placeholder=\"Account Number\"\n          value={accountNumber}\n          onChange={(e) => setAccountNumber(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"ifsc\"\n          placeholder=\"IFSC\"\n          value={ifsc}\n          onChange={(e) => setIfsc(e.target.value)}\n          required={true}\n        />\n      </section>\n      <button type=\"submit\">Save</button>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </form>\n  );\n};\n\nexport const BankCard = ({ card, onClick }) => {\n  return (\n    <div className=\"paymentMethod card\" onClick={() => onClick?.(card)}>\n      <Img\n        className=\"logo\"\n        src={card.brand === \"visa\" ? \"/payment_visa.png\" : \"/payment_mc.png\"}\n      />\n      <p className=\"cardNumber\">\n        **** **** **** **** {card.cardNumber.substr(-4)}\n      </p>\n      <p className=\"cardHolder\">{card.nameOnCard}</p>\n      <p className=\"exp\">{card.exp}</p>\n    </div>\n  );\n};\nexport const BankAccount = ({ account, onClick }) => {\n  return (\n    <div\n      className=\"paymentMethod bankAccount\"\n      onClick={() => onClick?.(account)}\n    >\n      <p className=\"bank\">{account.bank}</p>\n      {\n        // <p className=\"accountType\">{account.type}</p>\n      }\n      <p className=\"name\">{account.name}</p>\n      <p className=\"accountNumber\">{account.accountNumber}</p>\n      <p className=\"ifsc\">{account.ifsc}</p>\n      {\n        // <p className=\"city\">{account.city}</p>\n      }\n    </div>\n  );\n};\n\nexport const Cards = ({ paymentMethods }) => {\n  const container = useRef(null);\n  const [style, setStyle] = useState({});\n  const [wrapperStyle, setWrapperStyle] = useState({});\n  const [index, setIndex] = useState(0);\n  const [paymentForm, setPaymentForm] = useState(false);\n  useLayoutEffect(() => {\n    const { width } = container.current.getBoundingClientRect();\n    setStyle({\n      width,\n      height: width * 0.55,\n    });\n    setWrapperStyle({\n      transform: `translateX(${-(width * index)}px)`,\n    });\n  }, [index]);\n  return (\n    <div className=\"savedCards\">\n      <div className=\"wrapper\" ref={container}>\n        <ul className=\"cards\" style={wrapperStyle}>\n          {paymentMethods.map((method, i) => (\n            <li style={style} key={i}>\n              {method._id && method.__t === \"BankCard\" && (\n                <BankCard card={method} />\n              )}\n              {method._id && method.__t === \"BankAccount\" && (\n                <BankAccount account={method} />\n              )}\n            </li>\n          ))}\n          {paymentMethods.length === 0 && (\n            <li style={style}>\n              <p className=\"placeholder\">Withdraw Payments</p>\n            </li>\n          )}\n        </ul>\n        <button\n          className=\"addPaymentMethod\"\n          onClick={() => setPaymentForm(true)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"15.999\"\n            viewBox=\"0 0 16 15.999\"\n          >\n            <path\n              id=\"Union_1\"\n              data-name=\"Union 1\"\n              d=\"M-4613,16V9h-7V7h7V0h2V7h7V9h-7v7Z\"\n              transform=\"translate(4620)\"\n              fill=\"#2699fb\"\n            />\n          </svg>\n        </button>\n      </div>\n      {index > 0 && (\n        <button className=\"prev\" onClick={() => setIndex((prev) => prev - 1)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"31.818\"\n            height=\"44.147\"\n            viewBox=\"0 0 31.818 44.147\"\n          >\n            <defs>\n              <filter\n                id=\"Path_217\"\n                x=\"0\"\n                y=\"0\"\n                width=\"31.818\"\n                height=\"44.147\"\n                filterUnits=\"userSpaceOnUse\"\n              >\n                <feOffset dx=\"-3\" dy=\"3\" input=\"SourceAlpha\" />\n                <feGaussianBlur stdDeviation=\"2.5\" result=\"blur\" />\n                <feFlood floodOpacity=\"0.161\" />\n                <feComposite operator=\"in\" in2=\"blur\" />\n                <feComposite in=\"SourceGraphic\" />\n              </filter>\n            </defs>\n            <g transform=\"matrix(1, 0, 0, 1, 0, 0)\" filter=\"url(#Path_217)\">\n              <g\n                id=\"Path_217-2\"\n                data-name=\"Path 217\"\n                transform=\"translate(27.32 4.5) rotate(90)\"\n                fill=\"#858585\"\n              >\n                <path\n                  d=\"M 27.53220176696777 15.71776485443115 C 26.13888931274414 15.2262544631958 24.10462951660156 14.50919151306152 22.07958030700684 13.79734325408936 C 14.74783992767334 11.22007274627686 14.70039939880371 11.22007274627686 14.5736198425293 11.22007274627686 C 14.44684028625488 11.22007274627686 14.39939975738525 11.22007274627686 7.067659854888916 13.79734325408936 C 5.042610645294189 14.50919151306152 3.00835108757019 15.2262544631958 1.615038275718689 15.71776485443115 L 14.5736198425293 0.7635064125061035 L 27.53220176696777 15.71776485443115 Z\"\n                  stroke=\"none\"\n                />\n                <path\n                  d=\"M 14.5736198425293 1.526998519897461 L 3.229276657104492 14.61841773986816 C 4.349065780639648 14.22377777099609 5.627307891845703 13.77366733551025 6.901840209960938 13.32564258575439 C 14.31408023834229 10.72007274627686 14.33368015289307 10.72007274627686 14.5736198425293 10.72007274627686 C 14.81355953216553 10.72007274627686 14.83315944671631 10.72007274627686 22.24539947509766 13.32564258575439 C 23.51993179321289 13.77366733551025 24.79817390441895 14.22377777099609 25.9179630279541 14.61841773986816 L 14.5736198425293 1.526998519897461 M 14.5736198425293 1.9073486328125e-06 L 29.14723968505859 16.81802368164063 C 29.14723968505859 16.81802368164063 14.71584987640381 11.72007274627686 14.5736198425293 11.72007274627686 C 14.43138980865479 11.72007274627686 0 16.81802368164063 0 16.81802368164063 L 14.5736198425293 1.9073486328125e-06 Z\"\n                  stroke=\"none\"\n                  fill=\"#858585\"\n                />\n              </g>\n            </g>\n          </svg>\n        </button>\n      )}\n      {index + 1 < paymentMethods.length && (\n        <button className=\"next\" onClick={() => setIndex((prev) => prev + 1)}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"31.818\"\n            height=\"44.147\"\n            viewBox=\"0 0 31.818 44.147\"\n          >\n            <defs>\n              <filter\n                id=\"Path_217\"\n                x=\"0\"\n                y=\"0\"\n                width=\"31.818\"\n                height=\"44.147\"\n                filterUnits=\"userSpaceOnUse\"\n              >\n                <feOffset dx=\"-3\" dy=\"3\" input=\"SourceAlpha\" />\n                <feGaussianBlur stdDeviation=\"2.5\" result=\"blur\" />\n                <feFlood floodOpacity=\"0.161\" />\n                <feComposite operator=\"in\" in2=\"blur\" />\n                <feComposite in=\"SourceGraphic\" />\n              </filter>\n            </defs>\n            <g transform=\"matrix(1, 0, 0, 1, 0, 0)\" filter=\"url(#Path_217)\">\n              <g\n                id=\"Path_217-2\"\n                data-name=\"Path 217\"\n                transform=\"translate(27.32 4.5) rotate(90)\"\n                fill=\"#858585\"\n              >\n                <path\n                  d=\"M 27.53220176696777 15.71776485443115 C 26.13888931274414 15.2262544631958 24.10462951660156 14.50919151306152 22.07958030700684 13.79734325408936 C 14.74783992767334 11.22007274627686 14.70039939880371 11.22007274627686 14.5736198425293 11.22007274627686 C 14.44684028625488 11.22007274627686 14.39939975738525 11.22007274627686 7.067659854888916 13.79734325408936 C 5.042610645294189 14.50919151306152 3.00835108757019 15.2262544631958 1.615038275718689 15.71776485443115 L 14.5736198425293 0.7635064125061035 L 27.53220176696777 15.71776485443115 Z\"\n                  stroke=\"none\"\n                />\n                <path\n                  d=\"M 14.5736198425293 1.526998519897461 L 3.229276657104492 14.61841773986816 C 4.349065780639648 14.22377777099609 5.627307891845703 13.77366733551025 6.901840209960938 13.32564258575439 C 14.31408023834229 10.72007274627686 14.33368015289307 10.72007274627686 14.5736198425293 10.72007274627686 C 14.81355953216553 10.72007274627686 14.83315944671631 10.72007274627686 22.24539947509766 13.32564258575439 C 23.51993179321289 13.77366733551025 24.79817390441895 14.22377777099609 25.9179630279541 14.61841773986816 L 14.5736198425293 1.526998519897461 M 14.5736198425293 1.9073486328125e-06 L 29.14723968505859 16.81802368164063 C 29.14723968505859 16.81802368164063 14.71584987640381 11.72007274627686 14.5736198425293 11.72007274627686 C 14.43138980865479 11.72007274627686 0 16.81802368164063 0 16.81802368164063 L 14.5736198425293 1.9073486328125e-06 Z\"\n                  stroke=\"none\"\n                  fill=\"#858585\"\n                />\n              </g>\n            </g>\n          </svg>\n        </button>\n      )}\n      <Modal\n        head={true}\n        label=\"Add Payment Method\"\n        setOpen={setPaymentForm}\n        className=\"paymentMethodsForm\"\n        open={paymentForm}\n      >\n        <PaymentMethodForm\n          onSuccess={(method) => {\n            setPaymentForm(false);\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\nconst Transactions = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    fetch(\"/api/transactions\")\n      .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        }\n      })\n      .then((data) => {\n        if (data) {\n          setTransactions(data);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not get transactions</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Error happened. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  return (\n    <div className=\"transactions\">\n      <div className=\"head\">\n        <p>All Transaction History</p>\n      </div>\n      <ul className=\"allTransactions\">\n        {transactions.map((transaction) => (\n          <SingleTransaction key={transaction._id} transaction={transaction} />\n        ))}\n        {transactions.length === 0 && (\n          <p className=\"placeholder\">No transaction yet.</p>\n        )}\n      </ul>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\nconst SingleTransaction = ({ transaction }) => {\n  let icon = null;\n  switch (transaction.__t) {\n    case \"AddMoney\":\n      icon = (\n        <>\n          <div className=\"icon\">\n            <Plus_svg />\n          </div>\n          <p className=\"detail\">Money added to wallet</p>\n        </>\n      );\n      break;\n    case \"WithdrawMoney\":\n      icon = (\n        <>\n          <div className=\"icon\">\n            <Minus_svg />\n          </div>\n          <p className=\"detail\">Money withdrawal from Wallet</p>\n        </>\n      );\n      break;\n    case \"P2PTransaction\":\n      icon =\n        transaction.amount < 0 ? (\n          <>\n            <div className=\"icon\">\n              <Arrow_up_svg />\n            </div>\n            <p className=\"detail\">\n              Paid to{\" \"}\n              <span className=\"userName\">\n                {transaction.client?.firstName +\n                  \" \" +\n                  transaction.client?.lastName}\n              </span>\n            </p>\n          </>\n        ) : (\n          <>\n            <div className=\"icon\">\n              <Arrow_down_svg />\n            </div>\n            <p className=\"detail\">\n              Received from{\" \"}\n              <span className=\"userName\">\n                {transaction.client?.firstName +\n                  \" \" +\n                  transaction.client?.lastName}\n              </span>\n            </p>\n          </>\n        );\n      break;\n    default:\n      icon =\n        transaction.amount < 0 ? (\n          <>\n            <div className=\"icon\">\n              <Minus_svg />\n            </div>\n            <p className=\"detail\">{transaction.note}</p>\n          </>\n        ) : (\n          <>\n            <div className=\"icon\">\n              <Plus_svg />\n            </div>\n            <p className=\"detail\">{transaction.note}</p>\n          </>\n        );\n  }\n  return (\n    <li className=\"transaction\">\n      {icon}\n      <p className=\"amount\">{Math.abs(transaction.amount.fix())}</p>\n    </li>\n  );\n};\n\nexport default Wallet;\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport {\n  Succ_svg,\n  Err_svg,\n  Plus_svg,\n  X_svg,\n  Combobox,\n  Pagination,\n  Checkbox,\n  calculateDiscount,\n  calculatePrice,\n  Actions,\n  Chev_down_svg,\n  User,\n  Arrow_left_svg,\n  NumberInput,\n  Media,\n  UploadFiles,\n  FileInput,\n  Img,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Modal, Confirm } from \"./Modal\";\nimport { DateRange } from \"react-date-range\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { MilestoneForm } from \"./Account\";\nimport { toast } from \"react-toastify\";\n\nconst Orders = ({ categories }) => {\n  const dateFilterRef = useRef();\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n  const [status, setStatus] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [dateOpen, setDateOpen] = useState(\"\");\n  const [sort, setSort] = useState({\n    column: \"createdAt\",\n    order: \"dsc\",\n  });\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [dateFilter, setDateFilter] = useState(false);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [orders, setOrders] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [batch, setBatch] = useState([]);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    fetch(\n      `/api/getOrders?${new URLSearchParams({\n        user: \"seller\",\n        ...(search && { q: search }),\n        page,\n        perPage,\n        sort: sort.column,\n        order: sort.order,\n        ...(dateFilter && {\n          dateFrom: startDate,\n          dateTo: endDate,\n        }),\n        ...(status && { status }),\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders(data.orders);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get orders.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [status, search, page, perPage, dateFilter]);\n  useLayoutEffect(() => {\n    if (dateFilterRef.current) {\n      const {\n        height,\n        y,\n        width,\n        x,\n      } = dateFilterRef.current.getBoundingClientRect();\n      setDatePickerStyle({\n        position: \"fixed\",\n        top: height + y + 4,\n        right: window.innerWidth - x - width,\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (selectAll) {\n    } else {\n      setBatch([]);\n    }\n  }, [selectAll]);\n  useEffect(() => {\n    if (batch.length === 0) {\n      setSelectAll(false);\n    }\n  }, [batch]);\n  return (\n    <>\n      <div className=\"benner\">\n        <p>Order Management</p>\n      </div>\n      <div className=\"filters\">\n        <section>\n          <label>Total:</label>\n          {total}\n        </section>\n        <section>\n          <label>Per Page:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"20\", value: 20 },\n              { label: \"30\", value: 30 },\n              { label: \"50\", value: 50 },\n            ]}\n            onChange={(e) => setPerPage(e.value)}\n          />\n        </section>\n        <section className=\"search\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"23\"\n            height=\"23\"\n            viewBox=\"0 0 23 23\"\n          >\n            <path\n              id=\"Icon_ionic-ios-search\"\n              data-name=\"Icon ionic-ios-search\"\n              d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n              transform=\"translate(-4.5 -4.493)\"\n              fill=\"#707070\"\n              opacity=\"0.74\"\n            />\n          </svg>\n          <input\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search for Buyer\"\n          />\n          {search && (\n            <button onClick={() => setSearch(\"\")}>\n              <X_svg />\n            </button>\n          )}\n        </section>\n        <section className=\"category\">\n          <label>Status:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"All\", value: \"\" },\n              { label: \"Pending\", value: \"pending\" },\n              { label: \"Approved\", value: \"approved\" },\n              { label: \"Cancelled\", value: \"cancelled\" },\n              { label: \"Hold\", value: \"Hold\" },\n              { label: \"Shipped\", value: \"shipped\" },\n              { label: \"Delivered\", value: \"delivered\" },\n              { label: \"Refunded\", value: \"refunded\" },\n            ]}\n            onChange={(e) => setStatus(e.value)}\n          />\n        </section>\n        <section\n          className={`date ${dateFilter ? \"open\" : \"\"}`}\n          ref={dateFilterRef}\n          onClick={() => setDateOpen(true)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30.971\"\n            height=\"30.971\"\n            viewBox=\"0 0 30.971 30.971\"\n          >\n            <path\n              id=\"Path_299\"\n              data-name=\"Path 299\"\n              d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n              fill=\"#336cf9\"\n            />\n          </svg>\n          {dateFilter && (\n            <>\n              <div className=\"dates\">\n                <p>\n                  From:{\" \"}\n                  <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n                </p>\n                <p>\n                  To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n                </p>\n              </div>\n              <button\n                className=\"clearDateFilter\"\n                onClick={() => {\n                  setDateRange({\n                    startDate: new Date(),\n                    endDate: new Date(),\n                  });\n                  setDateFilter(false);\n                }}\n              >\n                <X_svg />\n              </button>\n            </>\n          )}\n        </section>\n      </div>\n      {batch.length > 0 && (\n        <div className=\"batchAction\">\n          <button onClick={() => console.log(\"batch delete\")}>Delete</button>\n        </div>\n      )}\n      <table className=\"table orders\">\n        <thead>\n          <tr>\n            {\n              //   <th className=\"checkContainer\">\n              //   <Checkbox\n              //     value={selectAll}\n              //     defaultValue={selectAll}\n              //     onChange={(e) => setSelectAll(e)}\n              //   />\n              // </th>\n            }\n            <th className=\"date\">Date</th>\n            <th>Buyer</th>\n            <th>QTY</th>\n            <th>Refundable</th>\n            <th>Milestone</th>\n            <th>Status</th>\n            <th>Total Price</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {orders.map((order, i) => (\n            <SingleOrder\n              key={i}\n              order={order}\n              setOrders={setOrders}\n              selectAll={selectAll}\n              setBatch={setBatch}\n              batch={batch}\n            />\n          ))}\n          {orders.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>No product yet.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Pagination\n        total={total}\n        btns={5}\n        currentPage={page}\n        perPage={perPage}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        className=\"datePicker\"\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst SingleOrder = ({ order, setOrders, selectAll, setBatch, batch }) => {\n  const actionsRef = useRef();\n  const checkRef = useRef();\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [selected, setSelected] = useState(selectAll || false);\n  const [edit, setEdit] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const cancelOrder = () => {\n    fetch(\"/api/declineOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders((prev) =>\n            prev.map((item) => {\n              if (item._id === order._id) {\n                return {\n                  ...item,\n                  status: data.order?.status,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not cancel order. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not cancel order. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const acceptOrder = () => {\n    fetch(\"/api/acceptOrder\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders((prev) =>\n            prev.map((item) => {\n              if (item._id === order._id) {\n                return {\n                  ...item,\n                  status: data.order?.status,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Orders does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not accept order. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const requestCancellation = () => {\n    fetch(\"/api/requestCancellation\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders((prev) =>\n            prev.map((item) => {\n              if (item._id === order._id) {\n                return {\n                  ...item,\n                  status: data.order?.status,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not cancel order. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not cancel order. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    setSelected(selectAll);\n  }, [selectAll]);\n  useEffect(() => {\n    if (selected) {\n      setBatch((prev) => [...prev, order._id]);\n    } else {\n      setBatch((prev) => prev.filter((item) => item !== order._id));\n    }\n  }, [selected]);\n  return (\n    <>\n      <tr\n        className={`order ${selected ? \"selected\" : \"\"}`}\n        onClick={(e) => {\n          if (\n            e.nativeEvent.path.includes(actionsRef.current) ||\n            e.nativeEvent.path.includes(checkRef.current) ||\n            batch.length > 0\n          ) {\n          } else {\n            history.push(`/account/myShop/orders/${order._id}`);\n          }\n        }}\n      >\n        {\n          //   <td className=\"checkContainer\" ref={checkRef}>\n          //   <Checkbox\n          //     defaultValue={selected}\n          //     value={selected}\n          //     onChange={(e) => {\n          //       setSelected(e);\n          //     }}\n          //   />\n          // </td>\n        }\n        <td className=\"date\">\n          <Moment format=\"DD MMM YYYY, hh:mm a\">{order.createdAt}</Moment>\n        </td>\n        <td className=\"user\">\n          <User user={order.buyer} />\n        </td>\n        <td>{order.products.reduce((a, c) => a + c.qty, 0)}</td>\n        <td>{order.refundable || \"N/A\"}</td>\n        <td>{order.milestones.length || \"N/A\"}</td>\n        <td>{order.status}</td>\n        <td>{order.total}</td>\n        <td ref={actionsRef}>\n          {batch.length === 0 && (\n            <Actions icon={<Chev_down_svg />}>\n              <Link to={`/account/myShopping/orders/${order._id}`}>\n                View Detail\n              </Link>\n              {order.status === \"pending\" && (\n                <>\n                  <Link\n                    to=\"#\"\n                    onClick={(e) => {\n                      Confirm({\n                        label: \"Accept Order\",\n                        question: \"You sure want to accept this order?\",\n                        callback: acceptOrder,\n                      });\n                    }}\n                  >\n                    Accept order\n                  </Link>\n                  <Link\n                    to=\"#\"\n                    onClick={(e) => {\n                      Confirm({\n                        label: \"Order Cancellation\",\n                        question: \"You sure want to cancel this order?\",\n                        callback: cancelOrder,\n                      });\n                    }}\n                  >\n                    Cancel order\n                  </Link>\n                </>\n              )}\n              {order.status === \"approved\" && (\n                <Link\n                  to=\"#\"\n                  onClick={(e) => {\n                    Confirm({\n                      label: \"Order Cancellation\",\n                      question:\n                        \"You sure want to request cancellation for this order?\",\n                      callback: requestCancellation,\n                    });\n                  }}\n                >\n                  Request Cancellation\n                </Link>\n              )}\n            </Actions>\n          )}\n        </td>\n      </tr>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nexport const FullOrder = ({ history, match }) => {\n  const { user, userType } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [order, setOrder] = useState(null);\n  const [shipping, setShipping] = useState(user.shopInfo?.shippingCost || 0);\n  const [refundable, setRefundable] = useState(null);\n  const [deliveryTime, setDeliveryTime] = useState(\n    moment(order?.deliveryTime).format(\"YYYY-MM-DDThh:mm\")\n  );\n  const [addTerm, setAddTerm] = useState(\"\");\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [fileUpload, setFileUpload] = useState(false);\n  const milestoneTimeout = useRef();\n  const acceptOrder = () => {\n    fetch(\"/api/acceptOrder\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id: order._id,\n        // products: order.products,\n        // shippingCost: shipping,\n        // refundable,\n        // terms,\n        // deliveryTime,\n        // total,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder((prev) => ({ ...prev, status: \"approved\" }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Order approved.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Orders does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not accept order. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const declineOrder = () => {\n    fetch(\"/api/declineOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder((prev) => ({ ...prev, status: \"declined\" }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Order declined.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Orders does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not decline order. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const markAsShipped = () => {\n    fetch(\"/api/updateOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id: order._id,\n        status: \"shipped\",\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder((prev) => ({ ...order, status: \"shipped\" }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>\n                  Order has been updated. Don't forget to upload proof of\n                  shipping below.\n                </h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Order could not be updated. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Order could not be updated. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const markAsDelivered = () => {\n    fetch(\"/api/updateOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id: order._id,\n        status: \"delivered\",\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder((prev) => ({ ...order, status: \"delivered\" }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>\n                  Order has been updated. Don't forget to upload proof of\n                  delivery below.\n                </h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Order could not be updated. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Order could not be updated. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    fetch(`/api/singleOrder?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder(data.order);\n          setShipping(data.shippingCost);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Orders does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get order. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  if (order) {\n    return (\n      <>\n        <div className=\"actions\">\n          <Link\n            to={`/account/${\n              userType === \"seller\" ? \"myShop\" : \"myShopping\"\n            }/orders`}\n            className=\"back\"\n          >\n            <Arrow_left_svg />\n            Back\n          </Link>\n          {order.status === \"approved\" && (\n            <button\n              onClick={() =>\n                Confirm({\n                  label: \"Mark Order as Shipped\",\n                  question: \"Did you ship the order?\",\n                  callback: markAsShipped,\n                })\n              }\n            >\n              Mark as Shipped\n            </button>\n          )}\n          {order.status === \"shipped\" && (\n            <button\n              onClick={() =>\n                Confirm({\n                  label: \"Mark Order as Delivered\",\n                  question: \"Has the order been delivered?\",\n                  callback: markAsDelivered,\n                })\n              }\n            >\n              Mark as Delivered\n            </button>\n          )}\n          {order.status === \"pending\" && (\n            <>\n              <button\n                onClick={() => {\n                  if (!deliveryTime) {\n                    setMsg(\n                      <>\n                        <button onClick={() => setMsg(null)}>Okay</button>\n                        <div>\n                          <Err_svg />\n                          <h4>Add a delivery time</h4>\n                        </div>\n                      </>\n                    );\n                    return;\n                  }\n                  Confirm({\n                    lable: \"Accept Order\",\n                    question: <>You sure want to accept this order?</>,\n                    callback: acceptOrder,\n                  });\n                }}\n              >\n                Accept\n              </button>\n              <button\n                onClick={() =>\n                  Confirm({\n                    label: \"Decline Order\",\n                    question: \"You sure want to decline this order?\",\n                    callback: declineOrder,\n                  })\n                }\n              >\n                Decline\n              </button>\n            </>\n          )}\n        </div>\n        <div className=\"singleOrder\">\n          <div className=\"summery\">\n            <h3>Order Summery</h3>\n            <ul>\n              <li>\n                <label>Buyer</label>\n                <User user={order.buyer} />\n              </li>\n              <li>\n                <label>Order ID</label>\n                {order._id}\n              </li>\n              <li>\n                <label>Status</label>\n                {order.status}\n              </li>\n              <li>\n                <label>Submitted at</label>\n                <Moment format=\"DD MMM YYYY, hh:mma\">{order.createdAt}</Moment>\n              </li>\n              <li></li>\n              <li className=\"devide\">\n                <label>Delivery Address</label>\n                <span />\n              </li>\n              {Object.entries(order.deliveryDetail).map(([key, value], i) =>\n                key === \"deliveryWithin\" ? (\n                  <li key={i}>\n                    <label>Delivery within</label>\n                    {order.deliveryDetail.deliveryWithin} days\n                  </li>\n                ) : (\n                  <li key={i}>\n                    <label>{key}</label>\n                    {value}\n                  </li>\n                )\n              )}\n            </ul>\n          </div>\n          <div className=\"products\">\n            <h3>Products</h3>\n            <ul>\n              {order.products.map(({ product, qty, available }, i) => (\n                <li key={i}>\n                  <Img src={product.images[0] || \"/open_box.png\"} />\n                  <div className=\"detail\">\n                    <p>{product.name}</p>\n                    <p className=\"qty\">QTY: {qty}</p>\n                    {order.status === \"pending\" && (\n                      <p className=\"available\">\n                        Available: {available.toString()}\n                      </p>\n                    )}\n                  </div>\n                  <div className=\"price\">\n                    <span>\n                      {calculatePrice({ product, gst: true })} x {qty}\n                    </span>\n                    {(calculatePrice({ product, gst: true }) * qty).fix()}\n                  </div>\n                  {\n                    //   order.status === \"pending\" && (\n                    //   <div className=\"remove\">\n                    //     <button\n                    //       onClick={() => {\n                    //         setOrder((prev) => ({\n                    //           ...prev,\n                    //           products: prev.products.filter((cartProduct) => {\n                    //             console.log(cartProduct, product);\n                    //             return cartProduct.product._id !== product._id;\n                    //           }),\n                    //         }));\n                    //       }}\n                    //     >\n                    //       <X_svg />\n                    //     </button>\n                    //   </div>\n                    // )\n                  }\n                </li>\n              ))}\n            </ul>\n            <div className=\"total\">\n              <div className=\"data\">\n                <label>Total</label>\n                {order.products.reduce(\n                  (a, c) =>\n                    (\n                      a +\n                      calculatePrice({ product: c.product, gst: true }) * c.qty\n                    ).fix(),\n                  0\n                )}\n              </div>\n              <hr />\n              <div className=\"data\">\n                <label>Shipping</label>\n                {\n                  //   order.status === \"pending\" ? (\n                  //   <NumberInput\n                  //     value={shipping}\n                  //     onChange={(e) => setShipping(e.target.value)}\n                  //   />\n                  // ) : (\n                  //   <>{shipping || 0}</>\n                  // )\n                  order.shippingCost\n                }\n              </div>\n              <div className=\"data\">\n                <label>Delivery Pay fee {order.fee}%</label>\n                {(order.total - (order.total / (order.fee + 100)) * 100).fix()}\n              </div>\n              <hr />\n              <div className=\"data\">\n                <label>Grand Total</label>{order.total.fix()}\n              </div>\n              <hr />\n              <div className=\"data\">\n                <label>You'll recieve</label>\n                {((order.total / (order.fee + 100)) * 100).fix()}\n              </div>\n            </div>\n            {\n              //   <div className=\"deliveryInfo\">\n              //   <section>\n              //     <label>Delivery Time</label>\n              //     {order.status === \"pending\" ? (\n              //       <input\n              //         type=\"datetime-local\"\n              //         value={deliveryTime}\n              //         onChange={(e) => setDeliveryTime(e.target.value)}\n              //       />\n              //     ) : order.deliveryDetail?.deliveryTime ? (\n              //       <Moment format=\"DD MMM YYYY hh:mma\">\n              //         order.deliveryDetail?.deliveryTime\n              //       </Moment>\n              //     ) : (\n              //       <>N/A</>\n              //     )}\n              //   </section>\n              //   <section>\n              //     <label>Refundable</label>\n              //     {order.status === \"pending\" ? (\n              //       <Combobox\n              //         required={true}\n              //         defaultValue={0}\n              //         onChange={(e) => setRefundable(e.value)}\n              //         options={[\n              //           { label: \"No\", value: null },\n              //           {\n              //             label: \"Upto 24 Hours After Delivery\",\n              //             value: \"Upto 24 Hours After Delivery\",\n              //           },\n              //           {\n              //             label: \"Upto 7 Days After Delivery\",\n              //             value: \"Upto 7 Days After Delivery\",\n              //           },\n              //           {\n              //             label: \"Upto 15 Days After Delivery\",\n              //             value: \"Upto 15 Days After Delivery\",\n              //           },\n              //         ]}\n              //       />\n              //     ) : (\n              //       <>{order.refundable || \"N/A\"}</>\n              //     )}\n              //   </section>\n              // </div>\n            }\n          </div>\n          <div className=\"milestones\">\n            <h3>\n              Milestones\n              {\n                //   (order.status === \"approved\" ||\n                //   order.status === \"shipped\" ||\n                //   order.status === \"delivered\") && (\n                //   <button onClick={() => setMilestoneForm(true)}>\n                //     Request Milestone\n                //   </button>\n                // )\n              }\n            </h3>\n            <p className=\"subtitle\">Click to view milestone detail.</p>\n            {\n              // {order.status === \"pending\" ? (\n              //   <p>Buyer can create milestones after you accept the order.</p>\n              // ) : (\n            }\n            <table>\n              <thead>\n                <tr>\n                  <td>Date</td>\n                  <td>Descrption</td>\n                  <td>Amount</td>\n                  <td>Status</td>\n                </tr>\n              </thead>\n              <tbody>\n                {order.milestones.map((milestone) => (\n                  <tr\n                    key={milestone._id}\n                    onClick={() =>\n                      history.push(`/account/hold?q=${milestone._id}`)\n                    }\n                  >\n                    <td>\n                      <Moment format=\"DD MMM YYYY, hh:mma\">\n                        {milestone.createdAt}\n                      </Moment>\n                    </td>\n                    <td>{milestone.dscr}</td>\n                    <td>{milestone.amount}</td>\n                    <td>{milestone.status}</td>\n                  </tr>\n                ))}\n                {order.milestones.length === 0 && (\n                  <tr className=\"placeholdert\">\n                    <td>Nothing yet.</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n            {\n              // )}\n            }\n          </div>\n          <div className=\"delivery\">\n            <h3>\n              Proof of delivery\n              {(order.status === \"approved\" || order.status === \"shipped\") && (\n                <button onClick={() => setFileUpload(true)}>\n                  Upload proof of delivery\n                </button>\n              )}\n            </h3>\n            {order.files?.length > 0 ? (\n              <div className=\"thumbs\">\n                <Media links={order.files} />\n              </div>\n            ) : (\n              <>No files added.</>\n            )}\n          </div>\n          <section className=\"terms\">\n            <h3>Return Policy Terms</h3>\n            <ul>\n              {order.terms?.map((item, i) => (\n                <li key={i}>\n                  {item}{\" \"}\n                  {\n                    //   order.status === \"pending\" && (\n                    //   <button\n                    //     type=\"button\"\n                    //     onClick={() =>\n                    //       setTerms((prev) => prev.filter((term) => term !== item))\n                    //     }\n                    //   >\n                    //     <X_svg />\n                    //   </button>\n                    // )\n                  }\n                </li>\n              ))}\n              {\n                //   order.status === \"pending\" && (\n                //   <section className=\"addTerm\">\n                //     <TextareaAutosize\n                //       value={addTerm}\n                //       placeholder=\"Add auditional term\"\n                //       onChange={(e) => setAddTerm(e.target.value)}\n                //     />\n                //     <button\n                //       type=\"button\"\n                //       onClick={() => {\n                //         setTerms((prev) =>\n                //           addTerm\n                //             ? [\n                //                 ...prev.filter((term) => term !== addTerm),\n                //                 addTerm,\n                //               ]\n                //             : prev\n                //         );\n                //         setAddTerm(\"\");\n                //       }}\n                //     >\n                //       Add Term\n                //     </button>\n                //   </section>\n                // )\n              }\n            </ul>\n          </section>\n        </div>\n        <Modal\n          head={true}\n          label=\"Create Milestone\"\n          setOpen={setMilestoneForm}\n          className=\"milestoneRequest\"\n          open={milestoneForm}\n        >\n          <MilestoneForm\n            action=\"request\"\n            definedAmount={order.total}\n            client={order.buyer}\n            order={order._id}\n            onSuccess={(milestone) => {\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been requested</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n              setOrder((prev) => ({\n                ...prev,\n                milestones: [...prev.milestones, milestone],\n              }));\n            }}\n          />\n        </Modal>\n        <Modal\n          head={true}\n          label=\"Upload proof of shipping & delivery\"\n          setOpen={setFileUpload}\n          open={fileUpload}\n          className=\"fileUpload\"\n        >\n          <FileUploadForm\n            order={order}\n            onSuccess={(order) => {\n              setFileUpload(false);\n              setOrder((prev) => ({ ...prev, files: order.files }));\n            }}\n          />\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </>\n    );\n  }\n  return <>Loading</>;\n};\nconst FileUploadForm = ({ order, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const submit = async () => {\n    setLoading(true);\n    const fileLinks = files.length ? await UploadFiles({ files, setMsg }) : [];\n    fetch(\"/api/updateOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id, files: fileLinks }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.order);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not upload files. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not upload files. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          Confirm({\n            title: \"Upload Proof of Shipping & Delivery\",\n            question: (\n              <>\n                You sure want to upload these files?\n                <span className=\"note\">\n                  Keep in mind these files can not be deleted later.\n                </span>\n              </>\n            ),\n            callback: submit,\n          });\n        }}\n      >\n        <section>\n          <label>Upload Images of the products, shipment reciept etc.</label>\n          <FileInput\n            multiple={true}\n            accept=\"image/*\"\n            required={true}\n            onChange={(files) => setFiles(files)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\">Submit</button>\n        </section>\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nexport default Orders;\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport {\n  Succ_svg,\n  Err_svg,\n  Plus_svg,\n  X_svg,\n  Combobox,\n  Pagination,\n  Checkbox,\n  calculateDiscount,\n  calculatePrice,\n  Actions,\n  Chev_down_svg,\n  User,\n  Arrow_left_svg,\n  Media,\n  Img,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { SiteContext } from \"../SiteContext\";\nimport { MilestoneForm } from \"./Account\";\nimport { Modal, Confirm } from \"./Modal\";\nimport { DateRange } from \"react-date-range\";\nimport { toast } from \"react-toastify\";\n\nconst Refunds = ({ history, location }) => {\n  const { userType } = useContext(SiteContext);\n  const dateFilterRef = useRef();\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n  const [search, setSearch] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [dateOpen, setDateOpen] = useState(\"\");\n  const [sort, setSort] = useState({\n    column: \"createdAt\",\n    order: \"dsc\",\n  });\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [dateFilter, setDateFilter] = useState(false);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [refunds, setRefunds] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [batch, setBatch] = useState([]);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    fetch(\n      `/api/getRefunds?${new URLSearchParams({\n        user: userType,\n        ...(search && { q: search }),\n        page,\n        perPage,\n        sort: sort.column,\n        order: sort.order,\n        ...(dateFilter && {\n          dateFrom: startDate,\n          dateTo: endDate,\n        }),\n        ...(status && { status }),\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setRefunds(data.refunds);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get orders.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [search, page, perPage, dateFilter, status]);\n  useLayoutEffect(() => {\n    if (dateFilterRef.current) {\n      const {\n        height,\n        y,\n        width,\n        x,\n      } = dateFilterRef.current.getBoundingClientRect();\n      setDatePickerStyle({\n        position: \"fixed\",\n        top: height + y + 4,\n        right: window.innerWidth - x - width,\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (selectAll) {\n    } else {\n      setBatch([]);\n    }\n  }, [selectAll]);\n  useEffect(() => {\n    if (batch.length === 0) {\n      setSelectAll(false);\n    }\n  }, [batch]);\n  return (\n    <>\n      <div className=\"benner\">\n        <p>My Refunds</p>\n      </div>\n      <div className=\"filters\">\n        <section>\n          <label>Total:</label>\n          {total}\n        </section>\n        <section>\n          <label>Per Page:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"20\", value: 20 },\n              { label: \"30\", value: 30 },\n              { label: \"50\", value: 50 },\n            ]}\n            onChange={(e) => setPerPage(e.value)}\n          />\n        </section>\n        <section className=\"search\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"23\"\n            height=\"23\"\n            viewBox=\"0 0 23 23\"\n          >\n            <path\n              id=\"Icon_ionic-ios-search\"\n              data-name=\"Icon ionic-ios-search\"\n              d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n              transform=\"translate(-4.5 -4.493)\"\n              fill=\"#707070\"\n              opacity=\"0.74\"\n            />\n          </svg>\n          <input\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search for Customer\"\n          />\n          {search && (\n            <button onClick={() => setSearch(\"\")}>\n              <X_svg />\n            </button>\n          )}\n        </section>\n        <section className=\"category\">\n          <label>Status:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"All\", value: \"\" },\n              { label: \"Pending\", value: \"pending\" },\n              { label: \"Approved\", value: \"approved\" },\n              { label: \"Product Sent\", value: \"productSent\" },\n              { label: \"Product Recieved\", value: \"productRecieved\" },\n              { label: \"Resolved\", value: \"resolved\" },\n            ]}\n            onChange={(e) => setStatus(e.value)}\n          />\n        </section>\n        <section\n          className={`date ${dateFilter ? \"open\" : \"\"}`}\n          ref={dateFilterRef}\n          onClick={() => setDateOpen(true)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30.971\"\n            height=\"30.971\"\n            viewBox=\"0 0 30.971 30.971\"\n          >\n            <path\n              id=\"Path_299\"\n              data-name=\"Path 299\"\n              d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n              fill=\"#336cf9\"\n            />\n          </svg>\n          {dateFilter && (\n            <>\n              <div className=\"dates\">\n                <p>\n                  From:{\" \"}\n                  <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n                </p>\n                <p>\n                  To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n                </p>\n              </div>\n              <button\n                className=\"clearDateFilter\"\n                onClick={() => {\n                  setDateRange({\n                    startDate: new Date(),\n                    endDate: new Date(),\n                  });\n                  setDateFilter(false);\n                }}\n              >\n                <X_svg />\n              </button>\n            </>\n          )}\n        </section>\n      </div>\n      {batch.length > 0 && (\n        <div className=\"batchAction\">\n          <button onClick={() => console.log(\"batch delete\")}>Delete</button>\n        </div>\n      )}\n      <table className=\"table refunds\">\n        <thead>\n          <tr>\n            {\n              //   <th className=\"checkContainer\">\n              //   <Checkbox\n              //     value={selectAll}\n              //     defaultValue={selectAll}\n              //     onChange={(e) => setSelectAll(e)}\n              //   />\n              // </th>\n            }\n            <th className=\"date\">Date</th>\n            <th>Customer</th>\n            <th>QTY</th>\n            <th>Status</th>\n            <th>Total Price</th>\n            {\n              // <th>Actions</th>\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {refunds.map((refund) => (\n            <SingleRefund\n              key={refund._id}\n              refund={refund}\n              setRefunds={setRefunds}\n              selectAll={selectAll}\n              setBatch={setBatch}\n              batch={batch}\n            />\n          ))}\n          {refunds.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>No product yet.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Pagination\n        total={total}\n        btns={5}\n        currentPage={page}\n        perPage={perPage}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        className=\"datePicker\"\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst SingleRefund = ({ refund, setRefunds, selectAll, setBatch, batch }) => {\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [selected, setSelected] = useState(selectAll || false);\n  const [edit, setEdit] = useState(false);\n  const [msg, setMsg] = useState(false);\n  useEffect(() => {\n    setSelected(selectAll);\n  }, [selectAll]);\n  useEffect(() => {\n    if (selected) {\n      setBatch((prev) => [...prev, refund._id]);\n    } else {\n      setBatch((prev) => prev.filter((item) => item !== refund._id));\n    }\n  }, [selected]);\n  return (\n    <>\n      <tr\n        className={`refund ${selected ? \"selected\" : \"\"}`}\n        onClick={() => history.push(`/account/myShop/refunds/${refund._id}`)}\n      >\n        {\n          //   <td className=\"checkContainer\">\n          //   <Checkbox\n          //     defaultValue={selected}\n          //     value={selected}\n          //     onChange={(e) => {\n          //       setSelected(e);\n          //     }}\n          //   />\n          // </td>\n        }\n        <td className=\"date\">\n          <Moment format=\"DD MMM YYYY, hh:mm a\">{refund.createdAt}</Moment>\n        </td>\n        <td>\n          <User user={refund.seller} />\n        </td>\n        <td>{refund.order?.products.reduce((a, c) => a + c.qty, 0)}</td>\n        <td>{refund.status}</td>\n        <td>{refund.order.total}</td>\n        {\n          //   <td>\n          //   {batch.length === 0 && (\n          //     <Actions icon={<Chev_down_svg />}>\n          //       <Link to=\"#\" className=\"edit\" onClick={() => setEdit(true)}>\n          //         Edit\n          //       </Link>\n          //       <Link\n          //         to=\"#\"\n          //         className=\"delete\"\n          //         onClick={() =>\n          //           Confirm({\n          //             label: \"Removing Product\",\n          //             question: \"You sure want to delete this product?\",\n          //             callback: removeProduct,\n          //           })\n          //         }\n          //       >\n          //         Delete\n          //       </Link>\n          //     </Actions>\n          //   )}\n          // </td>\n        }\n      </tr>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport const FullRefund = ({ history, match }) => {\n  const { userType } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [refund, setRefund] = useState(null);\n  const [order, setOrder] = useState(null);\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [refundTill, setRefundTill] = useState(false);\n  const milestoneTimeout = useRef();\n  // const updateOrder = async (newData) => {\n  //   return fetch(\"/api/updateRefund\", {\n  //     method: \"PATCH\",\n  //     headers: { \"Content-Type\": \"application/json\" },\n  //     body: JSON.stringify(newData),\n  //   })\n  //     .then((res) => res.json())\n  //     .then((data) => {\n  //       if (data.code === \"ok\") {\n  //         return data.order;\n  //       } else {\n  //         setMsg(\n  //           <>\n  //             <button onClick={() => setMsg(null)}>Okay</button>\n  //             <div>\n  //               <Err_svg />\n  //               <h4>Orders does not exist.</h4>\n  //             </div>\n  //           </>\n  //         );\n  //       }\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //       setMsg(\n  //         <>\n  //           <button onClick={() => setMsg(null)}>Okay</button>\n  //           <div>\n  //             <Err_svg />\n  //             <h4>Could not update order. Make sure you're online.</h4>\n  //           </div>\n  //         </>\n  //       );\n  //     });\n  // };\n  const updateRefund = async (newData) => {\n    return fetch(\"/api/updateRefund\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ...newData, _id: refund._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          return data.order;\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund request does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not update refund. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const acceptRefund = async () => {\n    fetch(\"/api/acceptRefund\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: refund._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setRefund((prev) => ({ ...prev, status: \"approved\" }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Refund request has been approved.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund request does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not accept refund request. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const declineRefund = async () => {\n    fetch(\"/api/declineRefund\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: refund._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setRefund((prev) => ({ ...prev, status: \"declined\" }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Refund request has been declined.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund request does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Could not decline refund request. Make sure you're online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    fetch(`/api/singleRefund?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder(data.refund.order);\n          setRefund(data.refund);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get Refund. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  useEffect(() => {\n    if (order?.refundable) {\n      let days = 0;\n      switch (order.refundable) {\n        case \"Upto 24 Hours After Delivery\":\n          days = 1;\n          break;\n        case \"Upto 7 Days After Delivery\":\n          days = 7;\n          break;\n        case \"Upto 15 Days After Delivery\":\n          days = 15;\n          break;\n        default:\n          return;\n      }\n      const refundTill = new Date(\n        new Date().getTime() + 1000 * 60 * 60 * 24 * days\n      );\n      if (new Date() < refundTill) {\n        setRefundTill(refundTill);\n      } else {\n        setRefundTill(null);\n      }\n    } else {\n      setRefundTill(null);\n    }\n  }, [refund]);\n  if (refund) {\n    return (\n      <>\n        <div className=\"actions\">\n          <Link\n            to={`/account/${\n              userType === \"seller\" ? \"myShop\" : \"myShopping\"\n            }/refunds`}\n            className=\"back\"\n          >\n            <Arrow_left_svg />\n            Back\n          </Link>\n          {refund.status === \"productSent\" && (\n            <button\n              onClick={() =>\n                Confirm({\n                  label: \"Refund Resolved\",\n                  question: \"You sure want to mark this refund resolved?\",\n                  callback: () => {\n                    updateRefund({ status: \"productRecieved\" }).then(\n                      (refund) => {\n                        setRefund((prev) => ({\n                          ...prev,\n                          status: \"productRecieved\",\n                        }));\n                      }\n                    );\n                  },\n                })\n              }\n            >\n              Mark as Recieved\n            </button>\n          )}\n          {refund.status === \"pending\" && (\n            <>\n              <button\n                onClick={() =>\n                  Confirm({\n                    label: \"Accepting Refund\",\n                    question: \"Do you accept this refund request?\",\n                    callback: acceptRefund,\n                  })\n                }\n              >\n                Accept\n              </button>\n              <button\n                onClick={() =>\n                  Confirm({\n                    label: \"Declining Refund\",\n                    question: \"Do you decline this refund?\",\n                    callback: declineRefund,\n                  })\n                }\n              >\n                Decline\n              </button>\n            </>\n          )}\n        </div>\n        <div className=\"singleOrder\">\n          <div className=\"summery\">\n            <h3>Summery</h3>\n            <ul>\n              <li className=\"devide\">\n                <label>Order</label>\n                <span />\n              </li>\n              <li>\n                <label>Seller</label>\n                <User user={order.seller} />\n              </li>\n              <li>\n                <label>Order ID</label>\n                {order._id}\n              </li>\n              <li>\n                <label>Status</label>\n                {order.status}\n              </li>\n              <li>\n                <label>Ordered at</label>\n                <Moment format=\"DD MMM YYYY, hh:mma\">{order.createdAt}</Moment>\n              </li>\n              <li>\n                <label>Delivered at</label>\n                <Moment format=\"DD MMM YYYY, hh:mm a\">\n                  {order.deliveredAt}\n                </Moment>\n              </li>\n              <li>\n                <label>Refundable</label>\n                {order.refundable || \"N/A\"}\n              </li>\n              <li>\n                <label>Proof of delivery</label>\n                {order.files?.length > 0 ? (\n                  <div className=\"thumbs\">\n                    <Media links={order.files} />\n                  </div>\n                ) : (\n                  <>No files added.</>\n                )}\n              </li>\n              {refundTill && (\n                <li>\n                  <label>Refund till</label>\n                  <Moment format=\"DD MMM YYYY, hh:mm a\">{refundTill}</Moment>\n                </li>\n              )}\n              <li></li>\n              <li className=\"devide\">\n                <label>Refund</label>\n                <span />\n              </li>\n              <li>\n                <label>Refund ID</label>\n                {refund._id}\n              </li>\n              <li>\n                <label>Status</label>\n                {refund.status}\n              </li>\n              <li>\n                <label>Submitted at</label>\n                <Moment format=\"DD MMM YYYY, hh:mma\">{refund.createdAt}</Moment>\n              </li>\n              <li>\n                <label>Issue</label>\n                {refund.issue}\n              </li>\n              <li>\n                <label>Descrption</label>\n                {refund.dscr}\n              </li>\n              <li>\n                <label>Images</label>\n                <div className=\"thumbs\">\n                  {refund.files.length ? (\n                    <Media links={refund.files} />\n                  ) : (\n                    <>No Images has been provided.</>\n                  )}\n                </div>\n              </li>\n              <li></li>\n              <li className=\"devide\">\n                <label>Delivery Address</label>\n                <span />\n              </li>\n              <>\n                {Object.entries(order.deliveryDetail).map(([key, value], i) =>\n                  key === \"deliveryTime\" ? (\n                    <li key={i}>\n                      <label>Delivery date</label>\n                      {order.deliveryDetail.deliveryTime ? (\n                        <Moment format=\"DD MMM, YYYY hh:mma\">\n                          {order.deliveryDetail.deliveryTime}\n                        </Moment>\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </li>\n                  ) : (\n                    <li key={i}>\n                      <label>{key}</label>\n                      {value}\n                    </li>\n                  )\n                )}\n              </>\n            </ul>\n          </div>\n          <div className=\"products\">\n            <h3>Products</h3>\n            <ul>\n              {order.products.map(({ product, qty }, i) => (\n                <li key={i}>\n                  <Img src={product.images[0] || \"/open_box.png\"} />\n                  <div className=\"detail\">\n                    <p>{product.name}</p>\n                    <p className=\"qty\">QTY: {qty}</p>\n                  </div>\n                  <div className=\"price\">\n                    <span>\n                      {calculatePrice({ product, gst: true })} x {qty}\n                    </span>\n                    {calculatePrice({ product, gst: true }) * qty}\n                  </div>\n                </li>\n              ))}\n            </ul>\n            <div className=\"total\">\n              <div className=\"data\">\n                <label>Total</label>\n                {order.products.reduce(\n                  (a, c) =>\n                    a +\n                    calculatePrice({ product: c.product, gst: true }) * c.qty,\n                  0\n                )}\n              </div>\n              <div className=\"data\">\n                <label>Shipping</label>\n                {order.shipping || \"N/A\"}\n              </div>\n              <div className=\"data\">\n                <label>Grand Total</label>\n                {order.products.reduce(\n                  (a, c) =>\n                    a +\n                    calculatePrice({ product: c.product, gst: true }) * c.qty,\n                  0\n                ) + (+order.shipping || 0)}\n              </div>\n            </div>\n          </div>\n          <div className=\"milestones\">\n            <h3>\n              Milestones\n              {(refund.status === \"approved\" ||\n                refund.status === \"productSent\" ||\n                refund.status === \"productRecieved\") && (\n                <button onClick={() => setMilestoneForm(true)}>\n                  Create Milestone\n                </button>\n              )}\n            </h3>\n            {refund.status === \"pending\" && (\n              <p>\n                You can create milestones once you accept the refund request.\n              </p>\n            )}\n            {refund.status === \"declined\" && (\n              <p>This refund request has been declined.</p>\n            )}\n            {!(refund.status === \"declined\" || refund.status === \"pending\") && (\n              <table cellSpacing={0} cellPadding={0}>\n                <thead>\n                  <tr>\n                    <td>Date</td>\n                    <td>Descrption</td>\n                    <td>Amount</td>\n                    <td>Status</td>\n                  </tr>\n                </thead>\n                <tbody>\n                  {refund.milestones.map((milestone) => (\n                    <tr\n                      key={milestone._id}\n                      onClick={() =>\n                        history.push(`/account/hold?q=${milestone._id}`)\n                      }\n                    >\n                      <td>\n                        <Moment format=\"DD MMM YYYY, hh:mma\">\n                          {milestone.createdAt}\n                        </Moment>\n                      </td>\n                      <td>{milestone.dscr}</td>\n                      <td>{milestone.amount}</td>\n                      <td>{milestone.status}</td>\n                    </tr>\n                  ))}\n                  {refund.milestones.length === 0 && (\n                    <tr className=\"placeholdert\">\n                      <td>Nothing yet.</td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            )}\n          </div>\n          <section className=\"terms\">\n            <h3>Return Policy Terms</h3>\n            <ul>\n              {order.terms?.map((item, i) => (\n                <li key={i}>{item}</li>\n              ))}\n              {!order.terms?.length && (\n                <li>No terms has been set by the seller yet.</li>\n              )}\n            </ul>\n          </section>\n        </div>\n        <Modal\n          head={true}\n          label=\"Create Milestone\"\n          setOpen={setMilestoneForm}\n          className=\"milestoneRequest\"\n          open={milestoneForm}\n        >\n          <MilestoneForm\n            action=\"create\"\n            definedAmount={order.total}\n            client={refund.seller}\n            refund={refund._id}\n            onSuccess={(milestone) => {\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been created</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n              setRefund((prev) => ({\n                ...prev,\n                milestones: [...prev.milestones, milestone],\n              }));\n            }}\n          />\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </>\n    );\n  }\n  return <>Loading</>;\n};\n\nexport default Refunds;\n","import { useState, useEffect, useContext, useRef, useCallback } from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { BankCard, BankAccount, BankCardForm, NetBankingForm } from \"./Wallet\";\nimport { Modal, Confirm } from \"./Modal\";\nimport {\n  Err_svg,\n  Succ_svg,\n  FileInput,\n  Media,\n  UploadFiles,\n  Img,\n} from \"./Elements\";\nimport GoogleLogin from \"react-google-login\";\nrequire(\"./styles/profile.scss\");\n\nexport async function updateProfileInfo(newData) {\n  return fetch(\"/api/editUserProfile\", {\n    method: \"PATCH\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(newData),\n  }).then((res) => res.json());\n}\n\nconst Profile = ({ history, match, location }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [mismatchPass, setMismatchPass] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const [kycFiles, setKycFiles] = useState([]);\n  const [gstFiles, setGstFiles] = useState([]);\n  const addGoogleId = (e) => {\n    if (e.googleId) {\n      updateProfileInfo({ googleId: e.googleId })\n        .then((data) => {\n          setUser((prev) => ({ ...prev, googleId: e.googleId }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Google account successfully connected.</h4>\n              </div>\n            </>\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not connect Google account.</h4>\n              </div>\n            </>\n          );\n        });\n    }\n  };\n  const disconnectFromGoogle = (e) => {\n    updateProfileInfo({ googleId: null })\n      .then((data) => {\n        if (data.user) {\n          setUser((prev) => ({ ...prev, googleId: null }));\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Successfully disconnected Google.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not disconnect Google account. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not disconnect Google account.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <div className=\"profileContainer\">\n      <div className=\"benner\">\n        <div className=\"profileImg\">\n          <Img src={user.profileImg || \"/profile-user.jpg\"} />\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"91.832\"\n            height=\"25.468\"\n            viewBox=\"0 0 91.832 25.468\"\n          >\n            <g\n              id=\"Path_1937\"\n              data-name=\"Path 1937\"\n              transform=\"translate(15.429 -9.647)\"\n              fill=\"#fff\"\n            >\n              <path\n                d=\"M 29.79687690734863 34.6146240234375 C 22.21588897705078 34.6146240234375 13.43720626831055 32.0111198425293 5.0779709815979 27.28368377685547 C -2.8753981590271 22.78578186035156 -9.78753662109375 16.7585563659668 -14.48426628112793 10.24203777313232 C -13.95890235900879 10.24473857879639 -13.30369663238525 10.25548648834229 -12.80753517150879 10.26361274719238 C -12.44524097442627 10.26955413818359 -12.15906429290771 10.27424812316895 -12.02891159057617 10.27424812316895 C -11.93940830230713 10.27424812316895 -11.86373233795166 10.26253128051758 -11.79978466033936 10.24241733551025 C -11.48864650726318 10.21196746826172 -10.04010391235352 10.17821311950684 -5.149840831756592 10.17821311950684 C -1.226676225662231 10.17821311950684 4.093100070953369 10.19837760925293 9.725229263305664 10.21973037719727 C 16.20444107055664 10.24428367614746 23.54814720153809 10.27211856842041 29.79687690734863 10.27211856842041 C 31.89767646789551 10.27211856842041 43.68988800048828 10.22107124328613 56.17448806762695 10.16702461242676 L 59.24650192260742 10.15374183654785 C 60.32665252685547 10.14907169342041 61.61424255371094 10.14680099487305 63.18285369873047 10.14680099487305 C 64.99295043945313 10.14680099487305 66.92156219482422 10.14978885650635 68.78666687011719 10.15269470214844 C 70.55825042724609 10.1554479598999 72.23158264160156 10.15804767608643 73.72422027587891 10.15804767608643 C 74.4501953125 10.15804767608643 75.08247375488281 10.1574182510376 75.63590240478516 10.15613842010498 C 74.24596405029297 13.15391826629639 71.95748138427734 16.1362361907959 68.82386779785156 19.03109550476074 C 65.67525482177734 21.9398250579834 61.6738166809082 24.71903610229492 57.25215911865234 27.06828308105469 C 52.91740798950195 29.37135314941406 48.15610122680664 31.27616500854492 43.48295974731445 32.57678985595703 C 38.69290161132813 33.90995407104492 33.96032333374023 34.6146240234375 29.79687690734863 34.6146240234375 Z\"\n                stroke=\"none\"\n              />\n              <path\n                d=\"M 63.18235397338867 10.64679336547852 C 61.61428070068359 10.64679336547852 60.32755279541016 10.64906692504883 59.24865341186523 10.65373229980469 L 56.18099212646484 10.6670036315918 C 43.69374084472656 10.72105407714844 31.89901733398438 10.77211761474609 29.79687881469727 10.77211761474609 C 23.54719161987305 10.77211761474609 16.2029914855957 10.74428176879883 9.723331451416016 10.71971893310547 C 4.091693878173828 10.69837951660156 -1.227619171142578 10.67821884155273 -5.149848937988281 10.67821884155273 C -9.844169616699219 10.67821884155273 -11.33226013183594 10.70873641967773 -11.7083740234375 10.73677062988281 C -11.80277252197266 10.76053237915039 -11.90915679931641 10.77424240112305 -12.0289306640625 10.77424240112305 C -12.16323089599609 10.77424240112305 -12.45131683349609 10.7695198059082 -12.81605529785156 10.76354217529297 C -13.01943206787109 10.76021194458008 -13.24966430664063 10.75643920898438 -13.48653411865234 10.75296401977539 C -8.851593017578125 16.903076171875 -2.239547729492188 22.57095718383789 5.324104309082031 26.84845542907715 C 13.60947799682617 31.53411865234375 22.30074310302734 34.11461639404297 29.79687881469727 34.11461639404297 C 33.91565704345703 34.11461639404297 38.60186767578125 33.41628265380859 43.34890747070313 32.0950927734375 C 47.98773193359375 30.80401802062988 52.71426773071289 28.91309356689453 57.0175666809082 26.62672996520996 C 61.40182876586914 24.29735565185547 65.3670654296875 21.5438175201416 68.48458099365234 18.6638298034668 C 71.32099151611328 16.04351997375488 73.45128631591797 13.35661125183105 74.83492279052734 10.65748596191406 C 74.4908447265625 10.65786743164063 74.12125396728516 10.65805435180664 73.72370147705078 10.65805435180664 C 72.23068237304688 10.65805435180664 70.55716705322266 10.65545654296875 68.78539276123047 10.65269470214844 C 66.92047119140625 10.6497917175293 64.9920654296875 10.64679336547852 63.18235397338867 10.64679336547852 M 63.18235778808594 9.646797180175781 C 66.69034576416016 9.646797180175781 70.639892578125 9.658050537109375 73.72370910644531 9.658050537109375 C 74.72272491455078 9.658050537109375 75.63052368164063 9.656867980957031 76.4033203125 9.653743743896484 C 70.7041015625 23.3221435546875 47.19384002685547 35.11461639404297 29.79687881469727 35.11461639404297 C 13.80905532836914 35.11461639404297 -5.7138671875 23.84020614624023 -15.427734375 9.772117614746094 C -15.45098876953125 9.749141693115234 -15.14891815185547 9.741405487060547 -14.71451568603516 9.741401672363281 C -13.8193359375 9.741401672363281 -12.36181640625 9.774246215820313 -12.02893829345703 9.774246215820313 C -11.98212432861328 9.774246215820313 -11.95759582519531 9.773597717285156 -11.9599609375 9.772117614746094 C -12.07225799560547 9.701694488525391 -9.402595520019531 9.678211212158203 -5.14984130859375 9.678211212158203 C 3.356430053710938 9.678211212158203 18.19854354858398 9.772117614746094 29.79687881469727 9.772117614746094 C 32.07231903076172 9.772117614746094 46.01445388793945 9.710941314697266 59.24433135986328 9.653743743896484 C 60.42824935913086 9.648624420166016 61.76977157592773 9.646797180175781 63.18235778808594 9.646797180175781 Z\"\n                stroke=\"none\"\n                fill=\"#336cf9\"\n              />\n            </g>\n          </svg>\n          <input\n            type=\"file\"\n            accept=\".jpg, .png, .jpeg\"\n            onChange={(e) => {\n              const file = e.target.files[0];\n              const cdn = process.env.REACT_APP_CDN_HOST;\n              if (file) {\n                let imgLink = \"\";\n                const formData = new FormData();\n                for (var _file of e.target.files) {\n                  formData.append(\"file\", _file);\n                }\n                fetch(`${cdn}/upload`, {\n                  method: \"POST\",\n                  body: formData,\n                })\n                  .then((res) => res.json())\n                  .then((data) => {\n                    if (data.code === \"ok\") {\n                      imgLink = cdn + \"/\" + data.files[0];\n                      updateProfileInfo({ profileImg: imgLink }).then(\n                        (data) => {\n                          if (data.user) {\n                            setUser((prev) => ({\n                              ...prev,\n                              profileImg: data.user.profileImg,\n                            }));\n                          }\n                        }\n                      );\n                    } else {\n                      setMsg(\n                        <>\n                          <button onClick={() => setMsg(null)}>Okay</button>\n                          <div>\n                            <Err_svg />\n                            <h4>Image upload failed</h4>\n                          </div>\n                        </>\n                      );\n                    }\n                  })\n                  .catch((err) => {\n                    setMsg(\n                      <>\n                        <button onClick={() => setMsg(null)}>Okay</button>\n                        <div>\n                          <Err_svg />\n                          <h4>Image upload failed. Make sure you're online.</h4>\n                        </div>\n                      </>\n                    );\n                  });\n              }\n            }}\n          />\n          <label>Edit</label>\n        </div>\n        <div>\n          <p className=\"name\">{user.firstName + \" \" + user.lastName}</p>\n          <p className=\"id\">Delivery pay ID: {user.userId || user._id}</p>\n        </div>\n      </div>\n      <div className=\"settings\">\n        <div className=\"head\">Account Settings</div>\n        <ul>\n          <DataEdit\n            label=\"Name\"\n            fields={\n              <>\n                <section>\n                  <input\n                    placeholder=\"First name\"\n                    defaultValue={user.firstName}\n                    name=\"firstName\"\n                    required={true}\n                  />\n                </section>\n                <section>\n                  <input\n                    placeholder=\"last name\"\n                    defaultValue={user.lastName}\n                    name=\"lastName\"\n                    required={true}\n                  />\n                </section>\n              </>\n            }\n            value={user.firstName + \" \" + user.lastName}\n          />\n          <DataEdit\n            label=\"Phone Number\"\n            fields={\n              <>\n                <section>\n                  <input\n                    placeholder=\"Phone Number\"\n                    defaultValue={user.phone}\n                    name=\"phone\"\n                    required={true}\n                    pattern=\"^(\\+91|91|1|)\\d{10}$\"\n                  />\n                </section>\n              </>\n            }\n            value={user.phone}\n          />\n          <DataEdit\n            label=\"Email\"\n            fields={\n              <>\n                <section>\n                  <input\n                    type=\"email\"\n                    placeholder=\"Phone Number\"\n                    defaultValue={user.email}\n                    name=\"email\"\n                    required={true}\n                  />\n                </section>\n              </>\n            }\n            value={user.email}\n          />\n          <DataEdit\n            label=\"Password\"\n            onError={() => setMismatchPass(true)}\n            fields={\n              <>\n                <section>\n                  <input\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    required={true}\n                    type=\"password\"\n                    onChange={(e) => setMismatchPass(false)}\n                  />\n                </section>\n                <section>\n                  <input\n                    placeholder=\"Confirm password\"\n                    name=\"confirm_password\"\n                    required={true}\n                    type=\"password\"\n                    onChange={(e) => setMismatchPass(false)}\n                  />\n                </section>\n                {mismatchPass && (\n                  <p className=\"errMsg\">Password did not match.</p>\n                )}\n              </>\n            }\n            value=\"\"\n          />\n          <DataEdit\n            label=\"Gender\"\n            fields={\n              <>\n                <section>\n                  <input\n                    placeholder=\"Gender\"\n                    defaultValue={user.gender}\n                    name=\"gender\"\n                    required={true}\n                  />\n                </section>\n              </>\n            }\n            value={user.gender}\n          />\n          <DataEdit\n            label=\"Age\"\n            fields={\n              <>\n                <section>\n                  <input\n                    type=\"number\"\n                    placeholder=\"Age\"\n                    defaultValue={user.age}\n                    name=\"age\"\n                    required={true}\n                  />\n                </section>\n              </>\n            }\n            value={user.age}\n          />\n          <DataEdit\n            label=\"Address\"\n            fields={\n              <>\n                <section>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Address\"\n                    defaultValue={user.address.street}\n                    name=\"address.street\"\n                    required={true}\n                  />\n                </section>\n                <section>\n                  <input\n                    type=\"text\"\n                    placeholder=\"City\"\n                    defaultValue={user.address.city}\n                    name=\"address.city\"\n                    required={true}\n                  />\n                </section>\n                <section>\n                  <input\n                    type=\"text\"\n                    placeholder=\"State\"\n                    defaultValue={user.address.state}\n                    name=\"address.state\"\n                    required={true}\n                  />\n                </section>\n                <section>\n                  <input\n                    type=\"number\"\n                    placeholder=\"PIN Code\"\n                    defaultValue={user.address.zip}\n                    name=\"address.zip\"\n                    required={true}\n                  />\n                </section>\n              </>\n            }\n            value={`${user.address?.street || \"\"} ${user.address?.city || \"\"} ${\n              user.address?.state || \"\"\n            } ${user.address?.zip || \"\"}`}\n          />\n        </ul>\n      </div>\n      <div className=\"kyc\">\n        <div className=\"head\">KYC</div>\n        <ul>\n          <DataEdit\n            label=\"KYC\"\n            setMsg={setMsg}\n            formData={kycFiles}\n            fields={\n              <>\n                <section>\n                  <label>Upload files for verification.</label>\n                  <FileInput\n                    multiple={true}\n                    prefill={user.kyc?.files}\n                    name=\"kyc.files\"\n                    onChange={(files) => setKycFiles(files)}\n                  />\n                </section>\n              </>\n            }\n            value={\n              <>\n                <p>Status: {user.kyc?.verified ? \"Verified\" : \"Unverified\"}</p>\n                <label>Files for verification:</label>\n                <ul className=\"thumbs\">\n                  <Media links={user.kyc?.files} />\n                </ul>\n              </>\n            }\n          />\n        </ul>\n      </div>\n      <div className=\"paymentMethods\">\n        <div className=\"head\">Payment Methods</div>\n        <ul className=\"methods\">\n          {user.paymentMethods.map((method, i) => (\n            <SinglePaymentMethod key={i} setMsg={setMsg} method={method} />\n          ))}\n          {user.paymentMethods?.length === 0 && <p>No payment method added.</p>}\n        </ul>\n      </div>\n      <div className=\"socials\">\n        <div className=\"head\">Connect Social Accounts</div>\n        <ul className=\"providers\">\n          {user.googleId ? (\n            <GoogleLogin\n              className=\"google\"\n              clientId=\"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com\"\n              buttonText=\"Disconnect from Google\"\n              onSuccess={disconnectFromGoogle}\n              onFailure={disconnectFromGoogle}\n              cookiePolicy={\"single_host_origin\"}\n            />\n          ) : (\n            <GoogleLogin\n              className=\"google\"\n              clientId=\"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com\"\n              buttonText=\"Connect with Google\"\n              onSuccess={addGoogleId}\n              onFailure={addGoogleId}\n              cookiePolicy={\"single_host_origin\"}\n            />\n          )}\n        </ul>\n      </div>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\nconst SinglePaymentMethod = ({ method, setMsg }) => {\n  const { setUser } = useContext(SiteContext);\n  const [edit, setEdit] = useState(false);\n  const deletePaymentMethod = useCallback((method) => {\n    fetch(\"/api/deletePaymentMethod\", {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: method._id }),\n    })\n      .then((res) => res.json())\n      .then(({ code }) => {\n        if (code === \"ok\") {\n          setUser((prev) => ({\n            ...prev,\n            paymentMethods: prev.paymentMethods.filter(\n              (item) => item._id !== method._id\n            ),\n          }));\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Payment method could not be deleted.</h4>\n              </div>\n            </>\n          );\n        }\n      });\n  }, []);\n  return (\n    <li>\n      <div className=\"actions\">\n        <button className=\"edit\" onClick={() => setEdit(method.__t)}>\n          Edit\n        </button>\n        <button\n          className=\"delete\"\n          onClick={() => {\n            return Confirm({\n              label: \"Payment method delete\",\n              question: \"Do you want to delete this payment method?\",\n              callback: () => deletePaymentMethod(method),\n            });\n          }}\n        >\n          Delete\n        </button>\n      </div>\n      {method.__t === \"BankCard\" && (\n        <>\n          <BankCard card={method} />\n          {edit === method.__t && (\n            <Modal\n              open={edit}\n              head={true}\n              label=\"Edit Payment Method\"\n              setOpen={setEdit}\n              className=\"editPaymentMethod\"\n            >\n              <BankCardForm\n                prefill={method}\n                onSuccess={(paymentMethod) => {\n                  if (paymentMethod) {\n                    setEdit(false);\n                    setMsg(\n                      <>\n                        <button onClick={() => setMsg(null)}>Okay</button>\n                        <div>\n                          <Succ_svg />\n                          <h4>Payment method updated.</h4>\n                        </div>\n                      </>\n                    );\n                  }\n                }}\n              />\n            </Modal>\n          )}\n        </>\n      )}\n      {method.__t === \"BankAccount\" && (\n        <>\n          <BankAccount account={method} />\n          {edit === method.__t && (\n            <Modal\n              open={edit}\n              head={true}\n              label=\"Edit Payment Method\"\n              setOpen={setEdit}\n              className=\"editPaymentMethod\"\n            >\n              <NetBankingForm\n                prefill={method}\n                onSuccess={(paymentMethod) => {\n                  if (paymentMethod) {\n                    setEdit(false);\n                    setMsg(\n                      <>\n                        <button onClick={() => setMsg(null)}>Okay</button>\n                        <div>\n                          <Succ_svg />\n                          <h4>Payment method updated.</h4>\n                        </div>\n                      </>\n                    );\n                  }\n                }}\n              />\n            </Modal>\n          )}\n        </>\n      )}\n    </li>\n  );\n};\n\nconst DataEdit = ({ label, fields, value, onError, setMsg, formData }) => {\n  const { setUser } = useContext(SiteContext);\n  const [edit, setEdit] = useState(false);\n  const form = useRef(null);\n  const submit = async (e) => {\n    e.preventDefault();\n    let allData = {};\n    for (var [field, value] of new FormData(e.target).entries()) {\n      allData[field] = value;\n    }\n    if (allData.password && allData.password !== allData.confirm_password) {\n      onError?.();\n      return;\n    }\n    if (allData[\"address.city\"]) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        let lat = position.coords.latitude;\n        let long = position.coords.longitude;\n        allData[\"address.location\"] = {\n          type: \"Point\",\n          coordinates: [long, lat],\n        };\n      });\n    }\n    if (allData[\"kyc.files\"]) {\n      allData[\"kyc.files\"] =\n        (await UploadFiles({ files: formData, setMsg })) || [];\n    }\n    if (allData[\"gst.detail.files\"]) {\n      allData[\"gst.detail.files\"] =\n        (await UploadFiles({ files: formData, setMsg })) || [];\n    }\n    fetch(\"/api/editUserProfile\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(allData),\n    })\n      .then((res) => res.json())\n      .then(({ user }) => {\n        if (user) {\n          setUser(user);\n          setEdit(false);\n        } else {\n          alert(\"someting went wrong\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        alert(\"someting went wrong\");\n      });\n  };\n  return (\n    <li>\n      <p className=\"label\">{label}</p>\n      <form ref={form} onSubmit={submit}>\n        {edit ? (\n          <div className=\"inputs\">{fields}</div>\n        ) : (\n          <div className=\"currentValue\">{value}</div>\n        )}\n        <div className=\"btns\">\n          {edit ? (\n            <>\n              <button key=\"submit\" type=\"submit\">\n                Save changes\n              </button>\n              <button key=\"cancel\" type=\"button\" onClick={() => setEdit(false)}>\n                Cancel\n              </button>\n            </>\n          ) : (\n            <button key=\"edit\" type=\"button\" onClick={() => setEdit(true)}>\n              Edit\n            </button>\n          )}\n        </div>\n      </form>\n    </li>\n  );\n};\n\nexport default Profile;\n","import { useEffect, useState, useContext } from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { updateProfileInfo } from \"./Profile\";\nimport { Modal } from \"./Modal\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Chev_down_svg,\n  Checkbox,\n  Combobox,\n  Step_fill,\n  Img,\n  LS,\n  Succ_svg,\n  External_link_icon,\n  Moment,\n} from \"./Elements\";\nrequire(\"./styles/fbMarketplace.scss\");\n\nexport const Step = ({\n  label,\n  defaultStatus,\n  children,\n  disabled,\n  className,\n  data,\n  step,\n}) => {\n  const [open, setOpen] = useState(data ? !data : null);\n  useEffect(() => {\n    setOpen(defaultStatus);\n  }, [defaultStatus]);\n  return (\n    <div\n      className={`step ${open || defaultStatus ? \"open\" : \"\"} ${\n        disabled ? \"disabled\" : \"\"\n      } ${className || \"\"}`}\n    >\n      <div\n        className=\"head\"\n        onClick={() => {\n          if (!defaultStatus) {\n            setOpen(!open);\n          }\n        }}\n      >\n        <Chev_down_svg className=\"chev\" /> {label}\n        <div className=\"status\">{data && <Step_fill />}</div>\n      </div>\n      {(open || defaultStatus) && <div className=\"body\">{children}</div>}\n    </div>\n  );\n};\n\nconst Marketplace = () => {\n  const [msg, setMsg] = useState(null);\n  const { user, setUser } = useContext(SiteContext);\n  const { FB } = window;\n  const [step, setStep] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    console.log(user.fbMarket);\n    if (!user.fbMarket?.user?.id) {\n      setStep(\"account\");\n    } else if (!user.fbMarket?.businessManager?.id) {\n      setStep(\"businessManager\");\n    } else if (!user.fbMarket?.facebookPage?.id) {\n      setStep(\"fbPage\");\n    }\n    // else if (!user.fbMarket?.dataSharing) {\n    // setStep(\"dataSharing\");\n    // }\n    else if (!user.fbMarket?.commerceAccount?.catalog?.id) {\n      setStep(\"commerceAccount\");\n    } else if (!user.fbMarket?.userAgreement) {\n      setStep(\"terms\");\n    }\n  }, [user]);\n  useEffect(() => {\n    // FB.getLoginStatus(function (response) {\n    //   console.log(response);\n    //   if (response.status === \"connected\") {\n    //     const accessToken = response.authResponse.accessToken;\n    //   }\n    // }, true);\n  }, []);\n  return (\n    <div className=\"fbMarket\">\n      <h1>Facebook marketplace</h1>\n      <div className=\"setup\">\n        <Step\n          data={user.fbMarket?.user?.id ? user.fbMarket.user : null}\n          defaultStatus={step === \"account\"}\n          step={step}\n          label=\"Facebook Account\"\n        >\n          <p className=\"note\">\n            Delivery Pay uses your personal Facebook account to access your\n            business accounts.\n          </p>\n          {user.fbMarket?.user?.id && (\n            <p>Now you can log into Delivery Pay using this account.</p>\n          )}\n          <div className=\"profile\">\n            <div className=\"user\">\n              {user.fbMarket?.user?.id ? (\n                <>\n                  <Img\n                    key=\"img\"\n                    src={user.fbMarket.user.profileImg || \"/profile-user.jpg\"}\n                  />\n                  <p>{user.fbMarket.user.name}</p>\n                </>\n              ) : (\n                <>\n                  <Img key=\"placeholder\" src=\"/profile-user.jpg\" />\n                  <p>Connect your Facebook account to get started</p>\n                </>\n              )}\n            </div>\n            {user.fbMarket?.user?.id ? (\n              <button\n                className=\"btn\"\n                onClick={() => {\n                  FB.logout((res) => {\n                    console.log(res);\n                  });\n                  LS.remove(\"facebook_user_accessToken\");\n                  updateProfileInfo({\n                    \"fbMarket.user\": {},\n                    \"fbMarket.businessManager\": {},\n                    \"fbMarket.facebookPage\": {},\n                    \"fbMarket.dataSharing\": null,\n                    \"fbMarket.commerceAccount\": {},\n                    \"fbMarket.userAgreement\": false,\n                  }).then(({ user: newUser }) => {\n                    setUser((prev) => ({\n                      ...prev,\n                      fbMarket: newUser.fbMarket,\n                    }));\n                  });\n                }}\n              >\n                Disconnect\n              </button>\n            ) : (\n              <button\n                className=\"btn\"\n                onClick={() => {\n                  FB.login((res) => {\n                    LS.set(\n                      \"facebook_user_accessToken\",\n                      res.authResponse?.accessToken\n                    );\n                    const accessToken = res.authResponse.accessToken;\n                    fetch(\"/api/updateFBMarketUser\", {\n                      method: \"PUT\",\n                      headers: { \"Content-Type\": \"application/json\" },\n                      body: JSON.stringify({\n                        accessToken,\n                      }),\n                    })\n                      .then((res) => res.json())\n                      .then((data) => {\n                        if (data.code === \"ok\") {\n                          console.log(\"long_lived_token saved\");\n                          LS.set(\n                            \"facebook_user_accessToken\",\n                            data.long_lived_token\n                          );\n                        }\n                      });\n                    FB.api(\n                      \"/me\",\n                      \"GET\",\n                      { fields: \"name,picture.type(large){url}\" },\n                      (res) => {\n                        console.log(res);\n                        if (res.id) {\n                          updateProfileInfo({\n                            \"fbMarket.user.name\": res.name,\n                            \"fbMarket.user.id\": res.id,\n                            \"fbMarket.user.profileImg\": res.picture.data.url,\n                          }).then(({ user: newUser }) => {\n                            setUser((prev) => ({\n                              ...prev,\n                              fbMarket: newUser.fbMarket,\n                            }));\n                          });\n                        }\n                      }\n                    );\n                  });\n                }}\n              >\n                Connect Account\n              </button>\n            )}\n          </div>\n        </Step>\n        <Step\n          disabled={!user.fbMarket?.user?.id}\n          data={\n            user.fbMarket?.businessManager?.id\n              ? user.fbMarket.businessManager\n              : null\n          }\n          defaultStatus={step === \"businessManager\"}\n          label=\"Business Manager\"\n          className=\"businessManager\"\n        >\n          <BusinessManager setLoading={setLoading} />\n        </Step>\n        <Step\n          data={\n            user.fbMarket?.facebookPage?.id ? user.fbMarket.facebookPage : null\n          }\n          defaultStatus={step === \"fbPage\"}\n          label=\"Facebook Page\"\n          className=\"page\"\n          disabled={!user.fbMarket?.businessManager?.id}\n        >\n          <FbPage />\n        </Step>\n        {\n          //   <Step\n          //   data={user.fbMarket?.dataSharing}\n          //   disabled={!user.fbMarket?.facebookPage?.id}\n          //   label=\"Data Sharing\"\n          //   defaultStatus={step === \"dataSharing\"}\n          //   className=\"dataSharing\"\n          // >\n          //   <DataSharing setStep={setStep} />\n          // </Step>\n        }\n        <Step\n          data={\n            user.fbMarket?.commerceAccount?.catalog?.id\n              ? user.fbMarket.commerceAccount\n              : null\n          }\n          disabled={!user.fbMarket?.facebookPage?.id}\n          label=\"Facebook Commerce Account\"\n          defaultStatus={step === \"commerceAccount\"}\n          className=\"commerceAccount\"\n        >\n          <CommerceAccount setStep={setStep} />\n        </Step>\n        <Step\n          disabled={!user.fbMarket?.commerceAccount?.catalog?.id}\n          data={user.fbMarket?.userAgreement || null}\n          defaultStatus={step === \"terms\"}\n          label=\"Terms and Conditions\"\n        >\n          <p>\n            By proceeding, you accept{\" \"}\n            <a\n              target=\"_blank\"\n              href=\"https://www.facebook.com/legal/commerce_product_merchant_agreement\"\n            >\n              Facebook Commerce Terms <External_link_icon />\n            </a>\n            .\n          </p>\n          {!user.fbMarket?.userAgreement && (\n            <button\n              className=\"btn\"\n              onClick={() => {\n                updateProfileInfo({\n                  \"fbMarket.userAgreement\": true,\n                }).then(({ user: newUser }) => {\n                  setUser((prev) => ({ ...prev, fbMarket: newUser.fbMarket }));\n                  setStep(\"\");\n                  setMsg(\n                    <>\n                      <button onClick={() => setMsg(null)}>Okay</button>\n                      <div>\n                        <Succ_svg />\n                        <h4>\n                          Facebook marketplace has been setup successfully. Now\n                          you can add products to facebook marketplace directly\n                          from Delivery Pay.\n                        </h4>\n                        <Link to=\"/account/myShop/products\">\n                          Add your first product\n                        </Link>\n                      </div>\n                    </>\n                  );\n                });\n              }}\n            >\n              Finish setup\n            </button>\n          )}\n        </Step>\n      </div>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst BusinessManager = ({ setLoading }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const { FB } = window;\n  const [businessManagers, setBusinessManagers] = useState([]);\n  const [err, setErr] = useState(null);\n  useEffect(() => {\n    if (!user.fbMarket?.business?.id) {\n      FB.api(\n        \"/me\",\n        \"GET\",\n        {\n          fields: \"businesses{picture{url},name,id,created_time}\",\n          access_token: LS.get(\"facebook_user_accessToken\"),\n        },\n        function (res) {\n          if (res.businesses) {\n            setBusinessManagers(res.businesses.data);\n          }\n        }\n      );\n    }\n  }, [user]);\n  return (\n    <>\n      {user.fbMarket?.businessManager?.id ? (\n        <>\n          <p className=\"note\">\n            The Business Manager that owns all your Facebook business accounts.\n          </p>\n          <ul>\n            <li>\n              <div className=\"profile\">\n                <Img src={user.fbMarket.businessManager.profileImg} />\n                <div className=\"detail\">\n                  <a\n                    href={`https://business.facebook.com/latest/home?nav_ref=bm_home_redirect&business_id=${user.fbMarket.businessManager.id}`}\n                  >\n                    {user.fbMarket.businessManager.name} <External_link_icon />\n                  </a>\n                  <span>ID: {user.fbMarket.businessManager.id}</span>\n                  <span>\n                    Created at:{\" \"}\n                    <Moment format=\"DD MMM YYYY, hh:mm a\">\n                      {user.fbMarket.businessManager.created_time}\n                    </Moment>\n                  </span>\n                </div>\n              </div>\n              <button\n                onClick={() => {\n                  updateProfileInfo({\n                    \"fbMarket.businessManager\": {},\n                    \"fbMarket.facebookPage\": {},\n                    \"fbMarket.commerceAccount\": {},\n                    \"fbMarket.userAgreement\": false,\n                  }).then(({ user: newUser }) => {\n                    setUser((prev) => ({\n                      ...prev,\n                      fbMarket: newUser.fbMarket,\n                    }));\n                  });\n                }}\n                className=\"btn\"\n              >\n                Disconnect\n              </button>\n            </li>\n          </ul>\n        </>\n      ) : (\n        <>\n          <p className=\"note\">\n            Connect the Business Manager you use to manage your business Page,\n            accounts, and product catalog. You can only connect a Business\n            Manager you have admin access to.\n          </p>\n          <p className=\"note\">\n            After you connect, you may receive a verification email from\n            Facebook. If so, youll need to confirm your business email address\n            before proceeding.\n          </p>\n          {err && <div className=\"err\">{err}</div>}\n          <ul>\n            {businessManagers.map((item, i) => (\n              <li key={i}>\n                <div className=\"profile\">\n                  <Img src={item.picture.data.url} />\n                  <div className=\"detail\">\n                    <a\n                      href={`https://business.facebook.com/latest/home?nav_ref=bm_home_redirect&business_id=${item.business_id}&asset_id=${item.asset_id}`}\n                    >\n                      {item.name} <External_link_icon />\n                    </a>\n                    <span>ID: {item.id}</span>\n                    <span>\n                      Created at:{\" \"}\n                      <Moment format=\"DD MMM YYYY, hh:mm a\">\n                        {item.created_time}\n                      </Moment>\n                    </span>\n                  </div>\n                </div>\n                <button\n                  className=\"btn\"\n                  onClick={() => {\n                    updateProfileInfo({\n                      \"fbMarket.businessManager.id\": item.id,\n                      \"fbMarket.businessManager.name\": item.name,\n                      \"fbMarket.businessManager.createdAt\": item.created_time,\n                      \"fbMarket.businessManager.profileImg\":\n                        item.picture.data.url,\n                    }).then(({ user: newUser }) => {\n                      setUser((prev) => ({\n                        ...prev,\n                        fbMarket: newUser.fbMarket,\n                      }));\n                    });\n                  }}\n                >\n                  Connect\n                </button>\n              </li>\n            ))}\n            <li>\n              <div className=\"profile\">\n                <Img src=\"/profile-user.jpg\" />\n                <p>Create Business Manager</p>\n              </div>\n              <button\n                className=\"btn\"\n                onClick={() => {\n                  setLoading(true);\n                  FB.api(\n                    \"/me/businesses\",\n                    \"POST\",\n                    {\n                      name: \"Delivery Pay Business Manager\",\n                      vertical: \"ECOMMERCE\",\n                    },\n                    function (res) {\n                      setLoading(false);\n                      console.log(res);\n                      if (res.id) {\n                        FB.api(\n                          \"/me\",\n                          \"GET\",\n                          {\n                            fields:\n                              \"businesses{picture{url},name,id,created_time}\",\n                          },\n                          function (res) {\n                            if (res.businesses) {\n                              setBusinessManagers(res.businesses.data);\n                            }\n                          }\n                        );\n                      }\n                      if (res.error) {\n                        if (res.error.code === 1) {\n                          setErr(\n                            <>\n                              You have reached maximum number of business\n                              manager one user can have. Use one of existing\n                              business manager instead of creating a new one.\n                            </>\n                          );\n                        } else if (res.error.code === 3947) {\n                          setErr(\n                            <>\n                              You already have a Business Manager with the same\n                              name. Select \"Delivery Pay Business Manager\"\n                              instead of creating a new one. or Choose another.\n                            </>\n                          );\n                        } else {\n                          setErr(\n                            <>{res.error.error_user_msg || res.error.message}</>\n                          );\n                        }\n                      }\n                    }\n                  );\n                }}\n              >\n                Create new\n              </button>\n            </li>\n          </ul>\n        </>\n      )}\n    </>\n  );\n};\nconst FbPage = () => {\n  const { FB } = window;\n  const { user, setUser } = useContext(SiteContext);\n  const [fbPages, setFbPages] = useState([]);\n  const [createNew, setCreateNew] = useState(false);\n  useEffect(() => {\n    if (!user.fbMarket?.business?.id) {\n      FB.api(\n        \"/me/accounts\",\n        \"GET\",\n        {\n          fields: \"picture{url},access_token,name,category,business\",\n          access_token: LS.get(\"facebook_user_accessToken\"),\n        },\n        function (res) {\n          console.log(\"facebook pages:\", res);\n          if (res.data) {\n            setFbPages(res.data);\n          }\n        }\n      );\n    }\n  }, [user]);\n  return (\n    <>\n      {user.fbMarket?.facebookPage?.id ? (\n        <>\n          <p className=\"note\">\n            The Facebook business Page that you use to sell your products or\n            post ads.\n          </p>\n          <ul>\n            <li>\n              <div className=\"profile\">\n                <Img src={user.fbMarket.facebookPage.profileImg} />\n                <div className=\"detail\">\n                  <a\n                    href={`https://business.facebook.com/latest/home?nav_ref=bm_home_redirect&business_id=${user.fbMarket.businessManager.id}`}\n                  >\n                    {user.fbMarket.facebookPage.name} <External_link_icon />\n                  </a>\n                  <span>Category: {user.fbMarket.facebookPage.category}</span>\n                </div>\n              </div>\n              <button\n                onClick={() => {\n                  updateProfileInfo({\n                    \"fbMarket.facebookPage\": {},\n                    \"fbMarket.commerceAccount\": {},\n                    \"fbMarket.userAgreement\": false,\n                  }).then(({ user: newUser }) => {\n                    console.log(newUser.fbMarket);\n                    setUser((prev) => ({\n                      ...prev,\n                      fbMarket: newUser.fbMarket,\n                    }));\n                  });\n                }}\n                className=\"btn\"\n              >\n                Disconnect\n              </button>\n            </li>\n          </ul>\n        </>\n      ) : (\n        <>\n          <p className=\"note\">\n            Connect the business Page you use to sell products or post ads. You\n            can only connect a Page you have admin access to.\n          </p>\n          <ul>\n            {fbPages.map((item, i) => (\n              <li key={i}>\n                <div className=\"profile\">\n                  <Img src={item.picture.data.url} />\n                  <div className=\"detail\">\n                    <a\n                      href={`https://business.facebook.com/latest/home?nav_ref=bm_home_redirect&business_id=${item.business_id}&asset_id=${item.asset_id}`}\n                    >\n                      {item.name} <External_link_icon />\n                    </a>\n                    <span>{item.category}</span>\n                  </div>\n                </div>\n                <button\n                  className=\"btn\"\n                  onClick={() => {\n                    updateProfileInfo({\n                      \"fbMarket.facebookPage.id\": item.id,\n                      \"fbMarket.facebookPage.name\": item.name,\n                      \"fbMarket.facebookPage.access_token\": item.access_token,\n                      \"fbMarket.facebookPage.profileImg\": item.picture.data.url,\n                      \"fbMarket.facebookPage.category\": item.category,\n                    }).then(({ user: newUser }) => {\n                      setUser((prev) => ({\n                        ...prev,\n                        fbMarket: newUser.fbMarket,\n                      }));\n                    });\n                  }}\n                >\n                  Connect\n                </button>\n              </li>\n            ))}\n            <li>\n              <div className=\"profile\">\n                <Img src=\"/profile-user.jpg\" />\n                <p>Create Page</p>\n              </div>\n              <button className=\"btn\" onClick={() => setCreateNew(true)}>\n                Create new\n              </button>\n            </li>\n          </ul>\n        </>\n      )}\n      <Modal\n        head={true}\n        label=\"Create a new Facebook business Page\"\n        open={createNew}\n        setOpen={() => {\n          setCreateNew(false);\n          FB.api(\n            \"/me/accounts\",\n            \"GET\",\n            {\n              fields: \"picture{url},access_token,name,category,business\",\n              access_token: LS.get(\"facebook_user_accessToken\"),\n            },\n            function (res) {\n              console.log(\"facebook pages:\", res);\n              if (res.data) {\n                setFbPages(res.data);\n              }\n            }\n          );\n        }}\n        className=\"createNewPage\"\n      >\n        <div className=\"content\">\n          <p>\n            You'll be redirected to Facebook where you can create a new business\n            Page. All you need for now are basic details such as:\n          </p>\n          <ul>\n            <li>Business Page name</li>\n            <li>Business Page category</li>\n            <li>Profile Photo</li>\n            <li>Cover photo</li>\n            <li>Store description</li>\n          </ul>\n          <p>\n            As soon as you add these details, return to Delivery Pay and finish\n            setup. You can always update your Page later.\n          </p>\n          <a\n            target=\"_blank\"\n            href=\"https://www.facebook.com/pages/create/?ref_type=hc\"\n          >\n            <External_link_icon /> Go to Facebook\n          </a>\n        </div>\n      </Modal>\n    </>\n  );\n};\nconst DataSharing = ({ setStep }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [shareData, setShareData] = useState(\n    !!user.fbMarket?.dataSharing || false\n  );\n  const [dataSharingLavel, setDataSharingLavel] = useState(\n    user.fbMarket?.dataSharing || \"\"\n  );\n  const [pixels, setPixels] = useState([]);\n  return (\n    <>\n      <p className=\"note\">\n        Facebook uses your customer data to target products, page posts, and ads\n        to your customers. To get started, first enable data sharing, and then\n        choose your level.\n      </p>\n      <section className=\"checkWrapper\">\n        <Checkbox\n          value={shareData}\n          onChange={(e) => {\n            setShareData(e);\n          }}\n        />\n        <label>ENABLE CUSTOMER DATA SHARING</label>\n      </section>\n      {shareData && (\n        <>\n          <div className=\"dataSharingLavel\">\n            <p>Choose lavel</p>\n            <Combobox\n              defaultValue={dataSharingLavel}\n              required={true}\n              options={[\n                { label: \"Standard\", value: \"standard\" },\n                { label: \"Enhanced\", value: \"enhanced\" },\n                { label: \"Maximum\", value: \"maximum\" },\n              ]}\n              onChange={(e) => setDataSharingLavel(e.value)}\n            />\n            {dataSharingLavel === \"standard\" && (\n              <p>\n                Standard uses <strong>Facebook Pixel</strong>, a third-party\n                cookie that collects and shares customers browsing behavior on\n                your online store. Browser-based ad blockers can prevent the\n                pixel from collecting data.\n              </p>\n            )}\n            {dataSharingLavel === \"enhanced\" && (\n              <p>\n                Enhanced uses <strong>Advanced Matching</strong>, which shares\n                personal information about your customers, including name,\n                location, and email. This pixel also shares customer browsing\n                behavior on your online store. Browser-based ad blockers can\n                prevent the pixel from collecting data.\n              </p>\n            )}\n            {dataSharingLavel === \"maximum\" && (\n              <p>\n                Maximum combines all data-sharing options to reach the highest\n                amount of customers. It uses <strong>Conversions API</strong>,\n                which shares data directly from Delivery Pays servers to\n                Facebook. This means the data cant be blocked by ad blockers.\n              </p>\n            )}\n          </div>\n          <div className=\"warning\">\n            <svg viewBox=\"0 0 20 20\" focusable=\"false\" aria-hidden=\"true\">\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0zM9 6a1 1 0 1 1 2 0v4a1 1 0 1 1-2 0V6zm1 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z\"\n              ></path>\n            </svg>\n            <p className=\"dscr\">\n              This option shares <strong>personal customer details</strong>.\n              Ensure your privacy policy reflects your data-sharing settings.\n            </p>\n          </div>\n          {\n            //   <div>\n            //   <div className=\"head\">\n            //     <Chev_down_svg />\n            //     <p>View Detail</p>\n            //   </div>\n            // </div>\n          }\n          <div className=\"pixel\">\n            <p>BEHAVIOUR WILL BE TRACKED WITH THIS PIXEL</p>\n            <ul>\n              {pixels.map((item, i) => (\n                <li key={i}>\n                  {i}\n                  <div className=\"facebookPage\">\n                    <div className=\"thumb\" />\n                    <p>{item.name}</p>\n                    <span>ID: {item.id}</span>\n                    <span>Created at: {item.createdAt}</span>\n                  </div>\n                  <button>Connect</button>\n                </li>\n              ))}\n              <li>\n                <div className=\"profile\">\n                  <Img src=\"/profile-user.jpg\" />\n                  <p>\n                    Create Facebook Pixel{\" \"}\n                    <span>\n                      By creating a pixel, you agree to{\" \"}\n                      <a href=\"https://www.facebook.com/legal/technology_terms\">\n                        Facebooks Business Tools Terms\n                      </a>\n                    </span>\n                  </p>\n                </div>\n                <button className=\"btn\">Create new</button>\n              </li>\n            </ul>\n          </div>\n        </>\n      )}\n      <div className=\"btns\">\n        <button\n          className=\"btn_clear\"\n          onClick={() => {\n            updateProfileInfo({\n              \"fbMarket.dataSharing\": \"none\",\n            });\n          }}\n        >\n          Skip\n        </button>\n        <button\n          className=\"btn\"\n          onClick={() => {\n            if (shareData && !dataSharingLavel) {\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <h4>Select a data sharing level</h4>\n                  </div>\n                </>\n              );\n              return;\n            }\n            if (user.fbMarket?.dataSharing !== dataSharingLavel) {\n              updateProfileInfo({\n                \"fbMarket.dataSharing\": dataSharingLavel,\n              }).then(({ user: newUser }) => {\n                setUser((prev) => ({ ...prev, fbMarket: newUser.fbMarket }));\n              });\n            }\n          }}\n        >\n          Confirm\n        </button>\n      </div>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nconst CommerceAccount = ({ setStep }) => {\n  const { FB } = window;\n  const { user, setUser } = useContext(SiteContext);\n  const [commerceAccounts, setCommerceAccounts] = useState([]);\n  const [catalog, setCatalog] = useState(\n    user.fbMarket?.commerceAccount?.catalog\n  );\n  useEffect(() => {\n    setCatalog(user.fbMarket?.commerceAccount?.catalog);\n  }, [user]);\n  return (\n    <>\n      <p className=\"note\">\n        Create a Commerce account to start selling on Facebook, Instagram, or\n        both. Once you have an account youll be able to customize your Shop and\n        collections in the{\" \"}\n        <a\n          target=\"_blank\"\n          href=\"https://www.facebook.com/business/help/2371372636254534\"\n        >\n          Facebook Commerce Manager <External_link_icon />\n        </a>\n        .\n      </p>\n      <ul>\n        {\n          //   commerceAccounts.map((item, i) => (\n          //   <li key={i}>\n          //     {i}\n          //     <div className=\"facebookPage\">\n          //       <div className=\"thumb\" />\n          //       <p>{item.name}</p>\n          //       <span>ID: {item.id}</span>\n          //       <span>Created at: {item.createdAt}</span>\n          //     </div>\n          //     <button>Connect</button>\n          //   </li>\n          // ))\n        }\n        {catalog && (\n          <li className=\"catalog\">\n            <p>PRODUCTS WILL BE SYNCED TO THIS CATALOG</p>\n            <p>{catalog.name}</p>\n            <span>ID: {catalog.id}</span>\n          </li>\n        )}\n        {!catalog && (\n          <li>\n            <div className=\"profile\">\n              <Img src=\"/profile-user.jpg\" />\n              <p>Create a new Commerce Account</p>\n            </div>\n            <button\n              className=\"btn\"\n              onClick={() => {\n                FB.api(\n                  `/${user.fbMarket.businessManager.id}/owned_product_catalogs`,\n                  \"GET\",\n                  {\n                    access_token: LS.get(\"facebook_user_accessToken\"),\n                  },\n                  async function ({ data }) {\n                    const delCatalog =\n                      data.find(\n                        (item) => item.name === \"Delivery Pay Product Catalog\"\n                      ) ||\n                      (await FB.api(\n                        `/${user.fbMarket.businessManager.id}/owned_product_catalogs`,\n                        \"POST\",\n                        {\n                          name: \"Delivery Pay Product Catalog\",\n                          access_token: LS.get(\"facebook_user_accessToken\"),\n                        },\n                        function (res) {\n                          console.log(res.id);\n                          if (res.id) {\n                            return {\n                              ...res,\n                              name: \"Delivery Pay Product Catalog\",\n                            };\n                          } else {\n                            return null;\n                          }\n                          if (res.error) {\n                            console.log(res.error);\n                          }\n                        }\n                      ));\n                    if (delCatalog) {\n                      setCatalog(delCatalog);\n                      updateProfileInfo({\n                        \"fbMarket.commerceAccount.catalog\": delCatalog,\n                      }).then(({ user: newUser }) => {\n                        setUser((prev) => ({\n                          ...prev,\n                          fbMarket: newUser.fbMarket,\n                        }));\n                        setStep(\"terms\");\n                      });\n                    }\n                  }\n                );\n              }}\n            >\n              Create new\n            </button>\n          </li>\n        )}\n      </ul>\n    </>\n  );\n};\n\nexport default Marketplace;\n","import {\n  useEffect,\n  useState,\n  useContext,\n  useRef,\n  useLayoutEffect,\n  lazy,\n} from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport {\n  Err_svg,\n  Plus_svg,\n  X_svg,\n  Succ_svg,\n  FileInput,\n  NumberInput,\n  UploadFiles,\n  Combobox,\n  Tabs,\n  Checkbox,\n  Chev_down_svg,\n  Actions,\n  Pagination,\n  calculateDiscount,\n  calculatePrice,\n  Tip,\n  Media,\n  LS,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { Modal, Confirm } from \"./Modal\";\nimport { Link, Route, Switch, Redirect } from \"react-router-dom\";\nimport { DateRange } from \"react-date-range\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport OrderManagement, { FullOrder } from \"./OrderManagement\";\nimport RefundManagement, { FullRefund } from \"./RefundManagement\";\nimport FBMarket from \"./fbMarketplace\";\nimport { updateProfileInfo } from \"./Profile\";\nimport { Step } from \"./fbMarketplace\";\nimport { CSVLink } from \"react-csv\";\nimport XLSX from \"xlsx\";\n\n// const XLSX = lazy(() => import(\"xlsx\"));\nrequire(\"./styles/products.scss\");\n\nconst parseXLSXtoJSON = (file, cb) => {\n  var name = file.name;\n  const reader = new FileReader();\n  reader.onload = (evt) => {\n    const bstr = evt.target.result;\n    const wb = XLSX.read(bstr, { type: \"binary\" });\n    const wsname = wb.SheetNames[0];\n    const ws = wb.Sheets[wsname];\n    const data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n    const arr = [];\n    const cols = data.shift();\n    data.forEach((row, i) => {\n      const item = {};\n      cols.forEach((col, j) => {\n        let label;\n        switch (col) {\n          case \"Images\":\n            label = \"images\";\n            break;\n          case \"Name\":\n            label = \"name\";\n            break;\n          case \"Description\":\n            label = \"dscr\";\n            break;\n          case \"Material\":\n            label = \"material\";\n            break;\n          case \"Size [Please specify mm, cm, inch or KG]\":\n            label = \"size\";\n            break;\n          case \"Category\":\n            label = \"category\";\n            break;\n          case \"Type\":\n            label = \"type\";\n            break;\n          case \"Price in INR.\":\n            label = \"price\";\n            break;\n          case \"Units Available\":\n            label = \"available\";\n            break;\n          case \"HSN Code\":\n            label = \"hsn\";\n            break;\n          case \"GST %\":\n            label = \"gst\";\n            break;\n          case \"id\":\n            label = \"_id\";\n            break;\n          default:\n        }\n        item[label] = row[j];\n      });\n      arr.push(item);\n    });\n    cb(arr);\n  };\n  reader.readAsBinaryString(file);\n};\n\nconst MyShop = ({ history, location, match }) => {\n  const { user, userType } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [shopSetupComplete, setShopSetupComplete] = useState(false);\n  useEffect(() => {\n    fetch(\"/api/categories\")\n      .then((res) => res.json())\n      .then((data) => {\n        setCategories(data.categories);\n      });\n  }, []);\n  useEffect(() => {\n    if (\n      !categories?.length ||\n      !user.shopInfo?.terms?.length ||\n      user.shopInfo?.shippingCost === undefined ||\n      user.shopInfo?.shippingCost === null ||\n      user.shopInfo?.deliveryWithin === undefined ||\n      user.shopInfo?.deliveryWithin === null ||\n      user.shopInfo?.refundable === undefined ||\n      Object.values(user.shopInfo?.paymentMethod || {}).length < 6\n    ) {\n      setShopSetupComplete(false);\n    } else {\n      setShopSetupComplete(true);\n    }\n  }, [categories, user]);\n  return (\n    <>\n      {userType === \"buyer\" && <Redirect to=\"/account/myShopping/orders\" />}\n      <div className=\"myShop\">\n        <div style={{ display: \"none\" }}>\n          <X_svg />\n        </div>\n        <Tabs\n          basepath=\"/account/myShop/\"\n          tabs={[\n            { label: \"Products & Services\", path: \"products\" },\n            { label: \"Orders\", path: \"orders\" },\n            { label: \"Refunds\", path: \"refunds\" },\n            { label: \"FB Marketplace\", path: \"fbMarketplace\" },\n            { label: \"Settings\", path: \"settings\" },\n          ]}\n        />\n        <Switch>\n          <Route path=\"/account/myShop/products\">\n            <Products\n              categories={categories}\n              shopSetupComplete={shopSetupComplete}\n            />\n          </Route>\n          <Route path=\"/account/myShop/orders/:_id\" component={FullOrder} />\n          <Route path=\"/account/myShop/orders\">\n            <OrderManagement categories={categories} />\n          </Route>\n          <Route path=\"/account/myShop/refunds/:_id\" component={FullRefund} />\n          <Route path=\"/account/myShop/refunds\" component={RefundManagement} />\n          <Route path=\"/account/myShop/fbMarketplace\" component={FBMarket} />\n          <Route path=\"/account/myShop/settings\">\n            <Settings categories={categories} setCategories={setCategories} />\n          </Route>\n        </Switch>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n    </>\n  );\n};\nconst ProductForm = ({ prefill, onSuccess, categories }) => {\n  const { user } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const [type, setType] = useState(prefill?.type || \"product\");\n  const [category, setCategory] = useState(prefill?.category || \"\");\n  const [discount, setDiscount] = useState({\n    type: prefill?.discount?.type || null,\n    amount: prefill?.discount?.amount || 0,\n    dscr: prefill?.discount?.dscr || \"\",\n  });\n  const [name, setName] = useState(prefill?.name || \"\");\n  const [dscr, setDscr] = useState(prefill?.dscr || \"\");\n  const [price, setPrice] = useState(prefill?.price || \"\");\n  const [files, setFiles] = useState(prefill?.images || []);\n  const [gst, setGst] = useState(\n    prefill?.gst || user.gst?.verified ? user.gst.amount : 0\n  );\n  const [hsn, setHsn] = useState(prefill?.hsn || \"\");\n  const [available, setAvailable] = useState(prefill?.available);\n  const [msg, setMsg] = useState(null);\n  const [tags, setTags] = useState(prefill?.tags || []);\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const images = files.length\n      ? await UploadFiles({\n          files,\n          setMsg,\n        })\n      : [];\n    fetch(`/api/${prefill ? \"edit\" : \"add\"}Product`, {\n      method: prefill ? \"PATCH\" : \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        type,\n        name,\n        dscr,\n        price: +price,\n        images,\n        category,\n        tags,\n        available:\n          available === true || available === false ? available : +available,\n        gst,\n        discount,\n        ...(prefill && { _id: prefill._id }),\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.product);\n        } else if (data.code === 403) {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>\n                  You can't add more that 100 product at a time. Delete a\n                  product/service and try again.\n                </h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not add product. please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not add product. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form onSubmit={submit} className={loading ? \"loading\" : \"\"}>\n        <section className=\"type\">\n          <label>Type</label>\n          <Combobox\n            defaultValue={type}\n            options={[\n              { label: \"Product\", value: \"product\" },\n              { label: \"Service\", value: \"service\" },\n              { label: \"Other\", value: \"other\" },\n            ]}\n            onChange={(e) => {\n              setType(e.value);\n            }}\n          />\n        </section>\n        <section className=\"name\">\n          <label>Name of the product/service</label>\n          <input\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required={true}\n          />\n        </section>\n        <section className=\"category\">\n          <label>\n            Category{\" \"}\n            <Tip>\n              You can Add/Edit/Delete your categories{\" \"}\n              <Link to=\"/account/myShop/settings\">here</Link>\n            </Tip>\n          </label>\n          <Combobox\n            required={true}\n            defaultValue={category}\n            options={categories.map((item) => ({ label: item, value: item }))}\n            onChange={(e) => setCategory(e.value)}\n          />\n        </section>\n        <section>\n          <label>Price </label>\n          <NumberInput\n            defaultValue={price}\n            onChange={(e) => setPrice(e.target.value)}\n            required={true}\n          />\n        </section>\n        <section className=\"available\">\n          {type === \"product\" ? (\n            <>\n              <label>Available in stock</label>\n              <NumberInput\n                required={true}\n                defaultValue={available}\n                onChange={(e) => setAvailable(e.target.value)}\n              />\n            </>\n          ) : (\n            <>\n              <label>Availability</label>\n              <Combobox\n                defaultValue={available}\n                required={true}\n                options={[\n                  { label: \"Available\", value: true },\n                  { label: \"Not available\", value: false },\n                ]}\n                onChange={(e) => setAvailable(e.value)}\n              />\n            </>\n          )}\n        </section>\n        <section className=\"dscr\">\n          <label>Description of the product/service</label>\n          <TextareaAutosize\n            value={dscr}\n            onChange={(e) => setDscr(e.target.value)}\n            required={true}\n          />\n        </section>\n        <section className=\"tags\">\n          <label>Tags</label>\n          <ul>\n            {tags.map((item) => (\n              <li key={item}>\n                {item}\n                <button\n                  onClick={() => {\n                    setTags((prev) => prev.filter((tag) => tag !== item));\n                  }}\n                >\n                  <X_svg />\n                </button>\n              </li>\n            ))}\n            <li className=\"form\">\n              <input\n                placeholder=\"addNewTag\"\n                onKeyPress={(e) => {\n                  const value = `${e.target.value.trim()}`;\n                  if (e.charCode === 13) {\n                    e.preventDefault();\n                    if (!value) return;\n                    setTags((prev) => [\n                      ...prev.filter((tag) => tag !== value),\n                      value,\n                    ]);\n                    e.target.focus();\n                    e.target.value = \"\";\n                  }\n                }}\n              />\n              <button\n                type=\"button\"\n                onClick={(e) => {\n                  const input = e.target.previousElementSibling;\n                  const value = `${e.target.previousElementSibling.value.trim()}`;\n                  if (!value) return;\n                  setTags((prev) => [\n                    ...prev.filter((tag) => tag !== value),\n                    value,\n                  ]);\n                  input.value = \"\";\n                  input.focus();\n                }}\n              >\n                Add Tag\n              </button>\n            </li>\n          </ul>\n        </section>\n        <section className=\"images\">\n          <label>Images of the product</label>\n          <FileInput\n            multiple={true}\n            prefill={prefill?.images}\n            accept=\"image/*\"\n            onChange={(files) => setFiles(files)}\n          />\n        </section>\n        <section>\n          <label>HSN Code</label>\n          <input value={hsn} onChange={(e) => setHsn(e.target.value)} />\n        </section>\n        {user.gst?.verified && (\n          <section>\n            <label>GST (%)</label>\n            <NumberInput\n              defaultValue={gst}\n              onChange={(e) => setGst(e.target.value)}\n            />\n          </section>\n        )}\n        <section className=\"discountType\">\n          <label>Discount Type</label>\n          <Combobox\n            defaultValue={discount.type}\n            options={[\n              { label: \"None\", value: null },\n              { label: \"Percent\", value: \"percent\" },\n              { label: \"Flat\", value: \"flat\" },\n            ]}\n            onChange={(e) =>\n              setDiscount((prev) => ({ ...prev, type: e.value }))\n            }\n          />\n        </section>\n        {discount.type !== null && (\n          <>\n            <section className=\"discountAmount\">\n              <label>Amount {discount.type === \"percent\" && \"(%)\"}</label>\n              <NumberInput\n                defaultValue={discount.amount}\n                onChange={(e) =>\n                  setDiscount((prev) => ({ ...prev, amount: e.target.value }))\n                }\n              />\n            </section>\n            <section className=\"discountDscr\">\n              <label>Discount description</label>\n              <TextareaAutosize\n                defaultValue={discount.dscr}\n                onChange={(e) =>\n                  setDiscount((prev) => ({ ...prev, dscr: e.target.value }))\n                }\n              />\n            </section>\n          </>\n        )}\n        {price && (\n          <section className=\"finalPrice\">\n            <p>\n              <label>Input price</label>\n              {price}\n            </p>\n            {+gst > 0 && (\n              <p className=\"gst\">\n                <label>GST {gst}%</label>+{((+price / 100) * +gst).fix()}\n              </p>\n            )}\n            {\n              //   <p>\n              //   <label>Delivery Pay fee 10%</label>+\n              //   {((+price + (+price / 100) * +gst) * 0.1).fix(2)}\n              // </p>\n            }\n            {discount.amount > 0 && discount.type === \"flat\" && (\n              <p>\n                <label>Discount flat</label>- {(+discount.amount).fix()}\n              </p>\n            )}\n            {discount.amount > 0 && discount.type === \"percent\" && (\n              <p>\n                <label>Discount {discount.amount}%</label>- \n                {((+price / 100) * discount.amount).fix()}\n              </p>\n            )}\n            <p className=\"final\">\n              <label>Listing Price</label>\n              {(\n                +price +\n                (+price / 100) * +gst -\n                (discount.type === \"percent\"\n                  ? (+price / 100) * discount.amount\n                  : 0) -\n                (discount.type === \"flat\" ? discount.amount : 0)\n              ).fix()}\n            </p>\n          </section>\n        )}\n        <section className=\"btns\">\n          <button className=\"submit\" type=\"submit\">\n            Submit\n          </button>\n        </section>\n        <div className=\"pBtm\" />\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nconst Products = ({ categories, shopSetupComplete }) => {\n  const { user } = useContext(SiteContext);\n  const { FB } = window;\n  const dateFilterRef = useRef();\n  const [productForm, setProductForm] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n  const [category, setCategory] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [dateOpen, setDateOpen] = useState(\"\");\n  const [sort, setSort] = useState({\n    column: \"createdAt\",\n    order: \"dsc\",\n  });\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [type, setType] = useState(\"\");\n  const [dateFilter, setDateFilter] = useState(false);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [products, setProducts] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [batch, setBatch] = useState([]);\n  const [addMany, setAddMany] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const deleteItems = (items) => {\n    if (items.length) {\n      fetch(\"/api/deleteProducts\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ _ids: items }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.code === \"ok\") {\n            setBatch([]);\n            setProducts((prev) =>\n              prev.filter((item) => !items.some((_id) => _id === item._id))\n            );\n          } else {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Err_svg />\n                  <h4>Could not delete products. Try again.</h4>\n                </div>\n              </>\n            );\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not delete products. Make sure you're online.</h4>\n              </div>\n            </>\n          );\n        });\n    }\n  };\n  const deleteMany = () => deleteItems(batch);\n  const addToFbMarket = (_ids) => {\n    fetch(\"/api/addToFbMarket\", {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _ids,\n        access_token: LS.get(\"facebook_user_accessToken\"),\n      }),\n    })\n      .then((res) => res.json())\n      .then(({ code, fb_products }) => {\n        if (code === \"ok\") {\n          const success = [];\n          const failed = [];\n          fb_products.forEach((item, i) => {\n            if (item.success) {\n              success.push(item);\n            } else {\n              failed.push(item);\n            }\n          });\n          setProducts((prev) =>\n            prev.map((item) => {\n              const prod = fb_products.find(\n                (product) => product._id === item._id\n              );\n              if (prod) {\n                return {\n                  ...item,\n                  fbMarketId: prod.fbMarketId,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                {failed.length === 0 ? (\n                  <>\n                    <Succ_svg />\n                    <h4>{success.length} products has been added.</h4>\n                  </>\n                ) : (\n                  <>\n                    <Err_svg />\n                    <h4>{failed.length} products failed.</h4>\n                  </>\n                )}\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not add products to Facebook Marketplace.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Could not add products to Facebook Marketplace. Make sure you're\n                online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const removeFromFbMarket = (_ids) => {\n    fetch(\"/api/removeFromFbMarket\", {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _ids,\n        access_token: LS.get(\"facebook_user_accessToken\"),\n      }),\n    })\n      .then((res) => res.json())\n      .then(({ code, fb_products }) => {\n        if (code === \"ok\") {\n          const success = [];\n          const failed = [];\n          fb_products.forEach((item, i) => {\n            if (item.success) {\n              success.push(item);\n            } else {\n              failed.push(item);\n            }\n          });\n          setProducts((prev) =>\n            prev.map((item) => {\n              const prod = fb_products.find(\n                (product) => product._id === item._id\n              );\n              if (prod) {\n                return {\n                  ...item,\n                  fbMarketId: prod.fbMarketId,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                {failed.length === 0 ? (\n                  <>\n                    <Succ_svg />\n                    <h4>{success.length} products has been removed.</h4>\n                  </>\n                ) : (\n                  <>\n                    <Err_svg />\n                    <h4>{failed.length} products failed to remove.</h4>\n                  </>\n                )}\n              </div>\n            </>\n          );\n          // console.log(data);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not remove products from Facebook Marketplace.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Could not remove products from Facebook Marketplace. Make sure\n                you're online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    fetch(\n      `/api/products?${new URLSearchParams({\n        ...(search && { q: search }),\n        page,\n        perPage,\n        sort: sort.column,\n        order: sort.order,\n        ...(dateFilter && {\n          dateFrom: startDate,\n          dateTo: endDate,\n        }),\n        ...(category && { category }),\n        ...(type && { type }),\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setProducts(data.products);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get products.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [category, search, page, perPage, dateFilter, type, addMany]);\n  useLayoutEffect(() => {\n    if (dateFilterRef.current) {\n      const {\n        height,\n        y,\n        width,\n        x,\n      } = dateFilterRef.current.getBoundingClientRect();\n      setDatePickerStyle({\n        position: \"fixed\",\n        top: height + y + 4,\n        right: window.innerWidth - x - width,\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (selectAll) {\n      // setBatch(products.map((item) => item._id));\n    } else {\n      setBatch([]);\n    }\n  }, [selectAll]);\n  useEffect(() => {\n    if (batch.length === 0) {\n      setSelectAll(false);\n    }\n  }, [batch]);\n  return (\n    <>\n      <div className=\"benner\">\n        <p>Product Management</p>\n        {shopSetupComplete ? (\n          <>\n            <button onClick={() => setProductForm(true)}>\n              <Plus_svg /> Add Product\n            </button>\n            <button className=\"batchUpload\" onClick={() => setAddMany(true)}>\n              <Plus_svg /> Batch Upload\n            </button>\n          </>\n        ) : (\n          <Link to=\"/account/myShop/settings\" className=\"err\">\n            <p>Please complete your shop information to add product.</p>\n          </Link>\n        )}\n      </div>\n      <div className=\"filters\">\n        <section>\n          <label>Total:</label>\n          {total}\n        </section>\n        <section>\n          <label>Per Page:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"20\", value: 20 },\n              { label: \"30\", value: 30 },\n              { label: \"50\", value: 50 },\n            ]}\n            onChange={(e) => setPerPage(e.value)}\n          />\n        </section>\n        <section className=\"search\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"23\"\n            height=\"23\"\n            viewBox=\"0 0 23 23\"\n          >\n            <path\n              id=\"Icon_ionic-ios-search\"\n              data-name=\"Icon ionic-ios-search\"\n              d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n              transform=\"translate(-4.5 -4.493)\"\n              fill=\"#707070\"\n              opacity=\"0.74\"\n            />\n          </svg>\n          <input\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search for products & services\"\n          />\n          {search && (\n            <button onClick={() => setSearch(\"\")}>\n              <X_svg />\n            </button>\n          )}\n        </section>\n        <section className=\"type\">\n          <label>Type:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"All\", value: \"\" },\n              { label: \"Product\", value: \"product\" },\n              { label: \"Service\", value: \"service\" },\n              { label: \"Other\", value: \"other\" },\n            ]}\n            onChange={(e) => setType(e.value)}\n          />\n        </section>\n        <section className=\"category\">\n          <label>Category:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"All\", value: \"\" },\n              ...categories.map((item) => ({\n                label: item,\n                value: item,\n              })),\n            ]}\n            onChange={(e) => setCategory(e.value)}\n          />\n        </section>\n        <section\n          className={`date ${dateFilter ? \"open\" : \"\"}`}\n          ref={dateFilterRef}\n          onClick={() => setDateOpen(true)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30.971\"\n            height=\"30.971\"\n            viewBox=\"0 0 30.971 30.971\"\n          >\n            <path\n              id=\"Path_299\"\n              data-name=\"Path 299\"\n              d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n              fill=\"#336cf9\"\n            />\n          </svg>\n          {dateFilter && (\n            <>\n              <div className=\"dates\">\n                <p>\n                  From:{\" \"}\n                  <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n                </p>\n                <p>\n                  To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n                </p>\n              </div>\n              <button\n                className=\"clearDateFilter\"\n                onClick={() => {\n                  setDateRange({\n                    startDate: new Date(),\n                    endDate: new Date(),\n                  });\n                  setDateFilter(false);\n                }}\n              >\n                <X_svg />\n              </button>\n            </>\n          )}\n        </section>\n      </div>\n      <table className=\"table products\">\n        <thead>\n          {batch.length > 0 ? (\n            <tr className=\"batchAction\">\n              <th className=\"checkContainer\">\n                <Checkbox\n                  value={selectAll}\n                  defaultValue={selectAll}\n                  onChange={(e) => setSelectAll(e)}\n                />\n              </th>\n              <th>\n                <button\n                  onClick={() =>\n                    Confirm({\n                      label: \"Batch delete\",\n                      question: `You sure you want to delete these ${batch.length} items?`,\n                      callback: deleteMany,\n                    })\n                  }\n                >\n                  Delete\n                </button>\n              </th>\n              {user.fbMarket?.userAgreement &&\n                LS.get(\"facebook_user_accessToken\") && (\n                  <>\n                    <th>\n                      <button\n                        onClick={() => {\n                          addToFbMarket(batch);\n                          setBatch([]);\n                        }}\n                      >\n                        Add to Facebook\n                      </button>\n                    </th>\n                    <th>\n                      <button\n                        onClick={() => {\n                          removeFromFbMarket(batch);\n                          setBatch([]);\n                        }}\n                      >\n                        Remove from Facebook\n                      </button>\n                    </th>\n                  </>\n                )}\n            </tr>\n          ) : (\n            <tr>\n              <th className=\"checkContainer\">\n                <Checkbox\n                  value={selectAll}\n                  defaultValue={selectAll}\n                  onChange={(e) => setSelectAll(e)}\n                />\n              </th>\n              <th className=\"date\">Date</th>\n              <th>Image</th>\n              <th className=\"name\">Name</th>\n              <th>Type</th>\n              <th>Facebook Marketplace</th>\n              <th>Available</th>\n              <th>Price</th>\n              <th>GST</th>\n              <th>Discount</th>\n              <th>Listing Price</th>\n              {\n                // <th>Sold</th>\n              }\n              <th>Actions</th>\n            </tr>\n          )}\n        </thead>\n        <tbody>\n          {products.map((product) => (\n            <SingleProduct\n              categories={categories}\n              key={product._id}\n              product={product}\n              setProducts={setProducts}\n              selectAll={selectAll}\n              setBatch={setBatch}\n              batch={batch}\n              deleteItems={deleteItems}\n              addToFbMarket={addToFbMarket}\n              removeFromFbMarket={removeFromFbMarket}\n            />\n          ))}\n          {products.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>No product yet.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Pagination\n        total={total}\n        btns={5}\n        currentPage={page}\n        perPage={perPage}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Modal\n        head={true}\n        label=\"Edit Product/Service\"\n        setOpen={setProductForm}\n        open={productForm}\n        className=\"productForm\"\n      >\n        <ProductForm\n          categories={categories}\n          onSuccess={(product) => {\n            setProducts((prev) => [...prev, product]);\n            setProductForm(false);\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  <h4>Product added.</h4>\n                </div>\n              </>\n            );\n          }}\n        />\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        className=\"datePicker\"\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n      <Modal\n        open={addMany}\n        head={true}\n        label=\"Batch product upload\"\n        setOpen={setAddMany}\n        className=\"batchItemPreview\"\n      >\n        <BatchUpload\n          categories={categories}\n          onSuccess={() => {\n            setAddMany(false);\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst SingleProduct = ({\n  product,\n  setProducts,\n  categories,\n  selectAll,\n  setBatch,\n  batch,\n  deleteItems,\n  addToFbMarket,\n  removeFromFbMarket,\n}) => {\n  const { user } = useContext(SiteContext);\n  const [selected, setSelected] = useState(selectAll || false);\n  const [edit, setEdit] = useState(false);\n  const [msg, setMsg] = useState(false);\n  useEffect(() => {\n    setSelected(selectAll);\n  }, [selectAll]);\n  useEffect(() => {\n    if (selected) {\n      setBatch((prev) => [...prev, product._id]);\n    } else {\n      setBatch((prev) => prev.filter((item) => item !== product._id));\n    }\n  }, [selected]);\n  return (\n    <tr className={`product ${selected ? \"selected\" : \"\"}`}>\n      <td className=\"checkContainer\">\n        <Checkbox\n          defaultValue={selected}\n          value={selected}\n          onChange={(e) => {\n            setSelected(e);\n          }}\n        />\n      </td>\n      <td className=\"date\">\n        <Moment format=\"DD-MM-YY\">{product.createdAt}</Moment>\n      </td>\n      <td className=\"thumbs\">\n        <Media links={product.images} />\n      </td>\n      <td className=\"name\">{product.name}</td>\n      <td>{product.type}</td>\n      <td>{product.fbMarketId ? \"Added\" : \"N/A\"}</td>\n      <td>\n        {product.available} {product.available === true && \"Available\"}\n        {product.available === false && \"Unavailable\"}\n      </td>\n      <td>{product.price}</td>\n      <td>\n        {user.gst?.verified\n          ? (product.gst || user.gst?.amount || 0) + \"%\"\n          : \"N/A\"}\n      </td>\n      <td>{calculateDiscount(product) || 0}</td>\n      <td>{calculatePrice({ product, gst: user.gst }) || 0}</td>\n      {\n        // <td>{product.popularity || 0}</td>\n      }\n      <td>\n        {batch.length === 0 && (\n          <Actions icon={<Chev_down_svg />}>\n            <Link to={`/marketplace/${product._id}`} target=\"_blank\">\n              View\n            </Link>\n            {user.fbMarket?.userAgreement &&\n              LS.get(\"facebook_user_accessToken\") && (\n                <>\n                  {product.fbMarketId ? (\n                    <button onClick={() => removeFromFbMarket([product._id])}>\n                      Remove from Facebook\n                    </button>\n                  ) : (\n                    <button onClick={() => addToFbMarket([product._id])}>\n                      Add to Facebook\n                    </button>\n                  )}\n                </>\n              )}\n            {!user.fbMarket?.userAgreement && (\n              <Link to=\"/account/myShop/fbMarketplace\" className=\"edit\">\n                Setup FB Marketplace\n              </Link>\n            )}\n            <Link to=\"#\" className=\"edit\" onClick={() => setEdit(true)}>\n              Edit\n            </Link>\n            <Link\n              to=\"#\"\n              className=\"delete\"\n              onClick={() =>\n                Confirm({\n                  label: \"Removing Product\",\n                  question: \"You sure want to delete this product?\",\n                  callback: () => deleteItems([product._id]),\n                })\n              }\n            >\n              Delete\n            </Link>\n          </Actions>\n        )}\n      </td>\n      <Modal\n        head={true}\n        label=\"Edit Product/Service\"\n        open={edit}\n        setOpen={setEdit}\n        className=\"productForm\"\n      >\n        <ProductForm\n          categories={categories}\n          onSuccess={(product) => {\n            setProducts((prev) =>\n              prev.map((item) => {\n                if (item._id === product._id) {\n                  return product;\n                } else {\n                  return item;\n                }\n              })\n            );\n            setEdit(false);\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  <h4>Product updated.</h4>\n                </div>\n              </>\n            );\n          }}\n          prefill={product}\n        />\n      </Modal>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </tr>\n  );\n};\n\nconst BatchUpload = ({ onSuccess, categories }) => {\n  const [loading, setLoading] = useState(false);\n  const [step, setStep] = useState(1);\n  const [batchItems, setBatchItems] = useState(null);\n  const [images, setImages] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const [category, setCategory] = useState(\"\");\n  const [csvDraft, setCsvDraft] = useState(null);\n  const addBatchProducts = () => {\n    setLoading(true);\n    fetch(\"/api/updateDraft\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ items: batchItems }),\n    })\n      .then((res) => res.json())\n      .then(({ code, updated }) => {\n        setLoading(false);\n        if (code === \"ok\") {\n          setMsg(\n            <>\n              <button\n                onClick={() => {\n                  setMsg(null);\n                  onSuccess?.();\n                }}\n              >\n                Okay\n              </button>\n              <div>\n                {updated ? <Succ_svg /> : <Err_svg />}\n                <h4>{updated} items has been updated.</h4>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not add products. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not add products. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const uploadImages = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const imgLinks = (await UploadFiles({ files: images, setMsg })) || [];\n    if (imgLinks.length !== images.length) {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Could not upload images. Please try again.</h4>\n          </div>\n        </>\n      );\n      return;\n    }\n    fetch(\"/api/uploadProductImg\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        images: imgLinks,\n        category,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          console.log(data);\n          const headers = Object.entries({\n            Images: \"images\",\n            id: \"_id\",\n            Name: \"name\",\n            Description: \"dscr\",\n            Material: \"material\",\n            \"Size [Please specify mm, cm, inch or KG]\": \"size\",\n            Category: \"category\",\n            Type: \"type\",\n            \"Price in INR.\": \"price\",\n            \"Units Available\": \"available\",\n            \"HSN Code\": \"hsn\",\n            \"GST %\": \"gst\",\n          }).map(([key, value]) => ({\n            label: key,\n            key: value,\n          }));\n          console.log(headers, data.products);\n          setCsvDraft({\n            headers,\n            data: data.products,\n            filename: `Delivery Pay Product Draft.csv`,\n          });\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not add products. Make sure you're online.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not add products. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <div className=\"content\">\n      <Step\n        label=\"Create Draft\"\n        className=\"createDraft\"\n        defaultStatus={step === 1}\n        data={csvDraft}\n      >\n        <>\n          <form onSubmit={uploadImages}>\n            <section className=\"category\">\n              <label>Choose category</label>\n              <Combobox\n                options={categories.map((item) => ({\n                  label: item,\n                  value: item.toLowerCase(),\n                }))}\n                required={true}\n                onChange={(e) => setCategory(e.value)}\n              />\n            </section>\n            <p>\n              Choose images{\" \"}\n              <span>\n                Choose 1 image for each product. you can add multiple images\n                later.\n              </span>\n            </p>\n            <FileInput onChange={(files) => setImages(files)} multiple={true} />\n            <section className=\"btns\">\n              <button\n                className=\"clean\"\n                type=\"button\"\n                onClick={() => setStep(3)}\n              >\n                Already have a draft\n              </button>\n              {csvDraft ? (\n                <CSVLink\n                  {...csvDraft}\n                  className=\"submit\"\n                  type=\"submit\"\n                  onClick={() => {\n                    setCsvDraft(null);\n                    setStep(2);\n                  }}\n                >\n                  Download Draft\n                </CSVLink>\n              ) : (\n                <button className=\"submit\">Create Draft</button>\n              )}\n            </section>\n          </form>\n        </>\n      </Step>\n      <Step label=\"Populate With data\" defaultStatus={step === 2}>\n        <p>\n          Populate the Sheet with real product data. Don't Change the header.\n        </p>\n        <button className=\"submit\" onClick={() => setStep(3)}>\n          Next\n        </button>\n      </Step>\n      <Step label=\"Upload Draft\" defaultStatus={step === 3}>\n        {!!batchItems?.length && (\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Type</th>\n                <th>Images</th>\n                <th className=\"name\">Name</th>\n                <th className=\"dscr\">Description</th>\n                <th>Available</th>\n                <th>Price</th>\n                <th>GST</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {batchItems?.map((item, i) => (\n                <tr key={i}>\n                  <td>{item.type}</td>\n                  <td className=\"thumbs\">\n                    <Media links={item.images} />\n                  </td>\n                  <td className=\"name\">{item.name}</td>\n                  <td className=\"dscr\">{item.dscr}</td>\n                  <td>\n                    {item.available}\n                    {item.available === true && \"Available\"}\n                    {item.available === false && \"Unavailable\"}\n                  </td>\n                  <td>{item.price}</td>\n                  <td>{item.gst}</td>\n                  <td>\n                    <button\n                      className=\"remove\"\n                      onClick={() =>\n                        setBatchItems((prev) => {\n                          const newItems = [...prev];\n                          newItems.splice(i, 1);\n                          return newItems;\n                        })\n                      }\n                    >\n                      <X_svg />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n        {!batchItems?.length && (\n          <div className=\"uploadFile\">\n            <p>\n              Upload xlsx/csv file in. See the example file{\" \"}\n              <a\n                href=\"/batch_product_upload_xlsx_file_example.csv\"\n                target=\"_blank\"\n              >\n                here\n              </a>\n              .\n            </p>\n            <input\n              type=\"file\"\n              accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n              onChange={(e) => {\n                if (e.target.files[0]) {\n                  parseXLSXtoJSON(e.target.files[0], (result) => {\n                    if (result?.length) {\n                      setBatchItems(\n                        result\n                          .filter(\n                            (item) =>\n                              item.type &&\n                              item.category &&\n                              item.name &&\n                              item.dscr &&\n                              item.price !== undefined\n                          )\n                          .map((item) => ({\n                            ...item,\n                            status: \"\",\n                            images: item.images\n                              .split(/,( |\\n)/)\n                              .filter((item) => item.trim()),\n                          }))\n                      );\n                    }\n                  });\n                }\n                e.target.value = null;\n              }}\n            />\n          </div>\n        )}\n        {!!batchItems?.length && (\n          <button\n            className=\"submit\"\n            onClick={() =>\n              Confirm({\n                label: \"Adding Batch products\",\n                question: \"You sure want to add all these items?\",\n                callback: addBatchProducts,\n              })\n            }\n          >\n            Add\n          </button>\n        )}\n      </Step>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst defaultTerms = [\n  \"Buyer will be responsible for paying for shipping costs & for returning the item.\",\n  \"Shipping costs are nonrefundable.\",\n  \"Orders must be returned with Original Packaging & Securely.\",\n  \"Orders must be Returned Via Trackable / Traceable Courier Services Only.\",\n  \"Proof of Return via Photo of Tracking Number & Dispatch Ticket is Required.\",\n  \"Refund is Only Issued Upon Delivery of Return Package.\",\n];\nconst Settings = ({ categories, setCategories }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [gstEdit, setGstEdit] = useState(false);\n  const [shippingEdit, setShippingEdit] = useState(false);\n  const [termsEdit, setTermsEdit] = useState();\n  const [editPayment, setEditPayment] = useState(false);\n  const [msg, setMsg] = useState(null);\n  return (\n    <div className=\"settings\">\n      <div className=\"caution\">\n        {!categories?.length && <p className=\"err\">Add at least 1 category.</p>}\n        {!user.shopInfo?.terms?.length && (\n          <p className=\"err\">Add Return policy terms</p>\n        )}\n        {(user.shopInfo?.shippingCost === undefined ||\n          user.shopInfo?.shippingCost === null ||\n          user.shopInfo?.deliveryWithin === undefined ||\n          user.shopInfo?.deliveryWithin === null ||\n          user.shopInfo?.refundable === undefined) && (\n          <p className=\"err\">Add Shipping & Delivery detail</p>\n        )}\n        {Object.values(user.shopInfo?.paymentMethod || {}).length < 6 && (\n          <p className=\"err\">Add valid payment method</p>\n        )}\n      </div>\n      <div className=\"cat\">\n        <h2 className=\"head\">Categories</h2>\n        <ul className=\"categories\">\n          {categories.map((item, i) => (\n            <li key={i}>\n              {item}{\" \"}\n              <button\n                onClick={() =>\n                  Confirm({\n                    label: \"Remove Category\",\n                    question: \"You sure want to remove this category?\",\n                    callback: () => {\n                      fetch(\"/api/categories\", {\n                        method: \"DELETE\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({\n                          category: item,\n                        }),\n                      })\n                        .then((res) => res.json())\n                        .then((data) => {\n                          if (data.code === \"ok\") {\n                            setCategories((prev) =>\n                              prev.filter((cat) => cat !== item)\n                            );\n                          } else {\n                            setMsg(\n                              <>\n                                <button onClick={() => setMsg(null)}>\n                                  Okay\n                                </button>\n                                <div>\n                                  <Err_svg />\n                                  <h4>Could not delete category. Try again.</h4>\n                                </div>\n                              </>\n                            );\n                          }\n                        })\n                        .catch((err) => {\n                          console.log(err);\n                          setMsg(\n                            <>\n                              <button onClick={() => setMsg(null)}>Okay</button>\n                              <div>\n                                <Err_svg />\n                                <h4>\n                                  Could not delete category. Make sure you're\n                                  online.\n                                </h4>\n                              </div>\n                            </>\n                          );\n                        });\n                    },\n                  })\n                }\n              >\n                <X_svg />\n              </button>\n            </li>\n          ))}\n          {categories.length === 0 && (\n            <li className=\"placeholder\">No category found.</li>\n          )}\n        </ul>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            const input = e.target.querySelector(\"input\");\n            fetch(\"/api/addCategory\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                category: input.value,\n              }),\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                if (data.code === \"ok\") {\n                  setCategories(data.categories);\n                  input.value = \"\";\n                } else {\n                  setMsg(\n                    <>\n                      <button onClick={() => setMsg(null)}>Okay</button>\n                      <div>\n                        <Err_svg />\n                        <h4>Could not add category. Try again.</h4>\n                      </div>\n                    </>\n                  );\n                }\n              })\n              .catch((err) => {\n                console.log(err);\n                setMsg(\n                  <>\n                    <button onClick={() => setMsg(null)}>Okay</button>\n                    <div>\n                      <Err_svg />\n                      <h4>Could not add category. Make sure you're online.</h4>\n                    </div>\n                  </>\n                );\n              });\n          }}\n        >\n          <input\n            type=\"text\"\n            required={true}\n            placeholder=\"New Category. ie Mobile\"\n          />\n          <button>Add category</button>\n        </form>\n      </div>\n      <div className=\"gst\">\n        <h2 className=\"head\">\n          GST{\" \"}\n          {!gstEdit && <button onClick={() => setGstEdit(true)}>Edit</button>}\n        </h2>\n        <p className=\"status\">\n          Status:{\" \"}\n          <strong>{user.gst?.verified ? \"Verified\" : \"Unverified\"}</strong>\n        </p>\n        {gstEdit ? (\n          <GstEditForm setOpen={setGstEdit} setMsg={setMsg} />\n        ) : (\n          <>\n            <p>GST Registration number: {user.gst?.detail?.reg || \"N/A\"}</p>\n            <p>\n              GST amount: {user.gst?.amount ? user.gst.amount + \"%\" : \"N/A\"}\n            </p>\n            <p>\n              Files for verification:{\" \"}\n              {!user.gst?.detail?.files?.length && \"N/A\"}\n            </p>\n            {user.gst?.detail?.files?.length && (\n              <ul className=\"thumbs\">\n                <Media links={user.gst?.detail?.files} />\n              </ul>\n            )}\n          </>\n        )}\n        {!user.gst?.verified && (\n          <p className=\"note\">\n            *GST will apply once we review and verify your GST registraion.\n          </p>\n        )}\n      </div>\n      <div className=\"payment\">\n        <h2 className=\"head\">\n          Payment Method{\" \"}\n          {!editPayment && (\n            <button onClick={() => setEditPayment(true)}>Edit</button>\n          )}\n        </h2>\n        {editPayment ? (\n          <PaymentMethodForm\n            prefill={user.shopInfo?.paymentMethod}\n            setOpen={setEditPayment}\n            setMsg={setMsg}\n          />\n        ) : (\n          <>\n            <p>Name: {user.shopInfo?.paymentMethod?.name || \"--\"}</p>\n            <p>Bank: {user.shopInfo?.paymentMethod?.bank || \"--\"}</p>\n            <p>City: {user.shopInfo?.paymentMethod?.city || \"--\"}</p>\n            <p>\n              Account type: {user.shopInfo?.paymentMethod?.accountType || \"--\"}\n            </p>\n            <p>\n              Account Number:{\" \"}\n              {user.shopInfo?.paymentMethod?.accountNumber || \"--\"}\n            </p>\n            <p>ifsc: {user.shopInfo?.paymentMethod?.ifsc || \"--\"}</p>\n          </>\n        )}\n      </div>\n      <div className=\"terms shipping\">\n        <h2 className=\"head\">\n          Shipping & Delivery{\" \"}\n          {!shippingEdit && (\n            <button onClick={() => setShippingEdit(true)}>Edit</button>\n          )}\n        </h2>\n        {shippingEdit ? (\n          <ShippingEditForm setOpen={setShippingEdit} setMsg={setMsg} />\n        ) : (\n          <>\n            <p>\n              Shipping cost:{\" \"}\n              {user.shopInfo?.shippingCost\n                ? \"\" + user.shopInfo?.shippingCost\n                : \"N/A\"}\n            </p>\n            <p>\n              Delivery within (days): {user.shopInfo?.deliveryWithin || \"N/A\"}\n            </p>\n            <p>Refundable: {user.shopInfo?.refundable?.toString() || \"N/A\"}</p>\n          </>\n        )}\n      </div>\n      {\n        //   <div className=\"terms payment\">\n        //   <h2 className=\"head\">Deposit & Payment Terms</h2>\n        //   <p>\n        //     Refundable [ I will accept Returns ] / Non Refundable [ I will not\n        //     accept returns , My payment should be released as soon as my Order is\n        //     Delivered ] as Options before Requesting for a Payment.\n        //   </p>\n        // </div>\n      }\n      <div className=\"terms return\">\n        <h2 className=\"head\">\n          Return Policy Terms{\" \"}\n          {!termsEdit && (\n            <button onClick={() => setTermsEdit(true)}>Edit</button>\n          )}\n        </h2>\n        <TermsEditForm\n          setOpen={setTermsEdit}\n          termsEdit={termsEdit}\n          setMsg={setMsg}\n        />\n      </div>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst GstEditForm = ({ setOpen, setMsg }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const [gstFiles, setGstFiles] = useState([]);\n  const [gstReg, setGstReg] = useState(user.gst?.detail?.reg);\n  const [amount, setAmount] = useState(user.gst?.amount);\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = (await UploadFiles({ files: gstFiles, setMsg })) || [];\n    updateProfileInfo({\n      \"gst.detail.files\": fileLinks,\n      \"gst.detail.reg\": gstReg,\n      \"gst.amount\": amount,\n    })\n      .then(({ user: newUser }) => {\n        setLoading(false);\n        if (newUser) {\n          setUser((prev) => ({ ...prev, gst: newUser.gst }));\n          setOpen(false);\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not upadte GST Information. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <form onSubmit={submit}>\n      <section>\n        <label>GST Registration Nubmer</label>\n        <input\n          required={true}\n          type=\"text\"\n          defaultValue={user.gst?.detail.reg}\n          name=\"gst.detail.reg\"\n          onChange={(e) => setGstReg(e.target.value)}\n        />\n      </section>\n      <section>\n        <label>GST percentage (%)</label>\n        <NumberInput\n          required={true}\n          defaultValue={user.gst?.amount}\n          name=\"gst.detail.reg\"\n          onChange={(e) => setAmount(e.target.value)}\n        />\n      </section>\n      <section>\n        <label>Upload files for verification</label>\n        <FileInput\n          multiple={true}\n          prefill={user.gst?.detail?.files}\n          name=\"gst.detail.files\"\n          onChange={(files) => setGstFiles(files)}\n        />\n      </section>\n      <section className=\"btns\">\n        <button>Save Changes</button>\n        <button type=\"button\" onClick={() => setOpen(false)}>\n          Cancel\n        </button>\n      </section>\n    </form>\n  );\n};\nconst ShippingEditForm = ({ setOpen, setMsg }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [shippingCost, setShippingCost] = useState(\n    user.shopInfo?.shippingCost || 0\n  );\n  const [deliveryWithin, setDeliveryWithin] = useState(\n    user.shopInfo?.deliveryWithin\n  );\n  const [refundable, setRefundable] = useState(\n    user.shopInfo?.refundable || null\n  );\n  const submit = (e) => {\n    e.preventDefault();\n    updateProfileInfo({\n      \"shopInfo.shippingCost\": shippingCost,\n      \"shopInfo.deliveryWithin\": deliveryWithin,\n      \"shopInfo.refundable\": refundable,\n    })\n      .then(({ user: newUser }) => {\n        if (newUser) {\n          setUser((prev) => ({ ...prev, shopInfo: newUser.shopInfo }));\n          setOpen(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not upadte Terms. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <form onSubmit={submit}>\n      <section>\n        <label>Shipping Cost </label>\n        <NumberInput\n          required={true}\n          defaultValue={shippingCost}\n          name=\"shippingCost\"\n          onChange={(e) => setShippingCost(e.target.value)}\n        />\n      </section>\n      <section>\n        <label>Delivery Within (days)</label>\n        <NumberInput\n          required={true}\n          defaultValue={deliveryWithin}\n          name=\"deliveryWithin\"\n          min={1}\n          step=\"0\"\n          placeholder=\"ie. 4 Days\"\n          onChange={(e) => setDeliveryWithin(e.target.value)}\n        />\n      </section>\n      <section>\n        <label>Refundable</label>\n        <Combobox\n          required={true}\n          defaultValue={0}\n          onChange={(e) => setRefundable(e.value)}\n          options={[\n            { label: \"No\", value: null },\n            {\n              label: \"Upto 24 Hours After Delivery\",\n              value: \"Upto 24 Hours After Delivery\",\n            },\n            {\n              label: \"Upto 7 Days After Delivery\",\n              value: \"Upto 7 Days After Delivery\",\n            },\n            {\n              label: \"Upto 15 Days After Delivery\",\n              value: \"Upto 15 Days After Delivery\",\n            },\n          ]}\n        />\n      </section>\n      <section className=\"btns\">\n        <button>Save Changes</button>\n        <button type=\"button\" onClick={() => setOpen(false)}>\n          Cancel\n        </button>\n      </section>\n    </form>\n  );\n};\nconst TermsEditForm = ({ setOpen, termsEdit, setMsg }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const [terms, setTerms] = useState(user.shopInfo?.terms || []);\n  const [addTerm, setAddTerm] = useState(\"\");\n  const submit = (e) => {\n    e.preventDefault();\n    updateProfileInfo({\n      \"shopInfo.terms\": terms,\n    })\n      .then(({ user: newUser }) => {\n        if (newUser) {\n          setUser((prev) => ({ ...prev, shopInfo: newUser.shopInfo }));\n          setOpen(false);\n          setTerms(newUser.shopInfo?.terms);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not upadte Terms. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    if (termsEdit) {\n      if (terms.length === 0) {\n        setTerms(defaultTerms);\n      }\n    } else {\n      setTerms(user.shopInfo?.terms || []);\n    }\n  }, [termsEdit]);\n  return (\n    <form onSubmit={submit}>\n      <ul>\n        {terms.map((item, i) => (\n          <li key={i}>\n            {item}{\" \"}\n            {termsEdit && (\n              <button\n                type=\"button\"\n                onClick={() =>\n                  setTerms((prev) => prev.filter((term) => term !== item))\n                }\n              >\n                <X_svg />\n              </button>\n            )}\n          </li>\n        ))}\n        {terms.length === 0 && <li>No terms has been added.</li>}\n      </ul>\n      {termsEdit && (\n        <>\n          <section className=\"addTerm\">\n            <TextareaAutosize\n              value={addTerm}\n              placeholder=\"Add auditional term\"\n              onChange={(e) => setAddTerm(e.target.value)}\n            />\n            <button\n              type=\"button\"\n              onClick={() => {\n                setTerms((prev) =>\n                  addTerm\n                    ? [...prev.filter((term) => term !== addTerm), addTerm]\n                    : prev\n                );\n                setAddTerm(\"\");\n              }}\n            >\n              Add Term\n            </button>\n          </section>\n          <section className=\"btns\">\n            <button>Save Changes</button>\n            <button\n              type=\"button\"\n              onClick={() => {\n                setOpen(false);\n                setTerms(\n                  user.shopInfo?.terms?.length\n                    ? user.shopInfo.terms\n                    : defaultTerms\n                );\n              }}\n            >\n              Cancel\n            </button>\n          </section>\n        </>\n      )}\n    </form>\n  );\n};\nconst PaymentMethodForm = ({ prefill, onSuccess, setMsg, setOpen }) => {\n  const { setUser } = useContext(SiteContext);\n  const [bank, setBank] = useState(prefill?.bank || \"\");\n  const [name, setName] = useState(prefill?.name || \"\");\n  const [ifsc, setIfsc] = useState(prefill?.ifsc || \"\");\n  const [city, setCity] = useState(prefill?.city || \"\");\n  const [type, setType] = useState(prefill?.accountType || \"\");\n  const [accountNumber, setAccountNumber] = useState(\n    prefill?.accountNumber || \"\"\n  );\n  const submit = (e) => {\n    e.preventDefault();\n    updateProfileInfo({\n      \"shopInfo.paymentMethod\": {\n        name,\n        bank,\n        city,\n        accountType: type,\n        ifsc,\n        accountNumber,\n      },\n    })\n      .then(({ user: newUser }) => {\n        if (newUser) {\n          setUser((prev) => ({\n            ...prev,\n            shopInfo: newUser.shopInfo,\n          }));\n          setOpen(false);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not update payment method. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Could not updated payment method. Make sure you're online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <form className=\"paymentMethodForm netBanking\" onSubmit={submit}>\n      <section className=\"inputs\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Full name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"bank\"\n          placeholder=\"Bank\"\n          value={bank}\n          onChange={(e) => setBank(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"city\"\n          placeholder=\"City\"\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"type\"\n          placeholder=\"Account type ie. Savings / Current\"\n          value={type}\n          onChange={(e) => setType(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"accountNumber\"\n          placeholder=\"Account Number\"\n          value={accountNumber}\n          onChange={(e) => setAccountNumber(e.target.value)}\n          required={true}\n        />\n        <input\n          type=\"text\"\n          name=\"ifsc\"\n          placeholder=\"IFSC\"\n          value={ifsc}\n          onChange={(e) => setIfsc(e.target.value)}\n          required={true}\n        />\n      </section>\n      <section className=\"btns\">\n        <button type=\"submit\">Save Changes</button>\n        <button type=\"button\" onClick={() => setOpen(false)}>\n          Cancel\n        </button>\n      </section>\n    </form>\n  );\n};\n\nexport default MyShop;\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  lazy,\n  useContext,\n} from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport { Modal, Confirm } from \"./Modal\";\nimport {\n  Arrow_left_svg,\n  Combobox,\n  X_svg,\n  Err_svg,\n  Succ_svg,\n  Pagination,\n  Chev_down_svg,\n  Media,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { DateRange } from \"react-date-range\";\nimport { TicketForm, TicketReplyForm } from \"./Forms\";\nimport TextareaAutosize from \"react-textarea-autosize\";\n\nrequire(\"./styles/singleTicket.scss\");\nrequire(\"./styles/table.scss\");\n\nconst BugReportForm = ({ onSuccess }) => {\n  const { user } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState(\n    user ? user.firstName + \" \" + user.lastName : \"\"\n  );\n  const [phone, setPhone] = useState(user ? user.phone : \"\");\n  const [issue, setIssue] = useState(\"\");\n  const [dscr, setDscr] = useState(\"\");\n  const [msg, setMsg] = useState(null);\n  const submit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    fetch(\"/api/bugReport\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        name,\n        phone,\n        issue,\n        dscr,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.();\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Report could not be submitted.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Report could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form onSubmit={submit}>\n        <section>\n          <label>Name</label>\n          <input value={name} onChange={(e) => setName(e.target.value)} />\n        </section>\n        <section>\n          <label>Phone</label>\n          <input value={phone} onChange={(e) => setPhone(e.target.value)} />\n        </section>\n        <section>\n          <label>Issue</label>\n          <input value={issue} onChange={(e) => setIssue(e.target.value)} />\n        </section>\n        <section>\n          <label>Description</label>\n          <TextareaAutosize\n            value={dscr}\n            onChange={(e) => setDscr(e.target.value)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\">Submit</button>\n        </section>\n      </form>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport const Tickets = ({ history, location, pathname }) => {\n  const dateFilterRef = useRef();\n  const [ticketForm, setTicketForm] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const [total, setTotal] = useState(0);\n  const [tickets, setTickets] = useState([]);\n  const [sort, setSort] = useState({ column: \"createdAt\", order: \"dsc\" });\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [dateOpen, setDateOpen] = useState(false);\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState(\"\");\n  const [perPage, setPerPage] = useState(20);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [dateFilter, setDateFilter] = useState(false);\n  useLayoutEffect(() => {\n    const {\n      height,\n      y,\n      width,\n      x,\n    } = dateFilterRef.current.getBoundingClientRect();\n    setDatePickerStyle({\n      position: \"fixed\",\n      top: height + y + 4,\n      right: window.innerWidth - x - width,\n    });\n  }, []);\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    fetch(\n      `/api/getTickets?${new URLSearchParams({\n        page,\n        perPage,\n        sort: sort.column,\n        sort: sort.order,\n        ...(search && { q: search }),\n        ...(dateFilter && {\n          dateFrom: startDate,\n          dateTo: endDate,\n        }),\n      }).toString()}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setTickets(data.tickets.tickets);\n          setTotal(data.tickets.pageInfo[0]?.count || 0);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not get tickets.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get tickets. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [page, perPage, sort.column, sort.order, search, dateFilter]);\n  return (\n    <div className=\"table ticketContainer\">\n      <div style={{ display: \"none\" }}>\n        <X_svg />\n      </div>\n      <div className=\"head\">\n        <h3>Tickets</h3>\n        <button onClick={() => setTicketForm(true)}>Open Ticket</button>\n      </div>\n      <div className=\"filters\">\n        <section>\n          <label>Total:</label>\n          {total}\n        </section>\n        <section>\n          <label>Per Page:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"20\", value: 20 },\n              { label: \"30\", value: 30 },\n              { label: \"50\", value: 50 },\n            ]}\n            onChange={(e) => setPerPage(e.value)}\n          />\n        </section>\n        <section className=\"search\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"23\"\n            height=\"23\"\n            viewBox=\"0 0 23 23\"\n          >\n            <path\n              id=\"Icon_ionic-ios-search\"\n              data-name=\"Icon ionic-ios-search\"\n              d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n              transform=\"translate(-4.5 -4.493)\"\n              fill=\"#707070\"\n              opacity=\"0.74\"\n            />\n          </svg>\n          <input\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search issue\"\n          />\n          {search && (\n            <button onClick={() => setSearch(\"\")}>\n              <X_svg />\n            </button>\n          )}\n        </section>\n        <section\n          className={`date ${dateFilter ? \"open\" : \"\"}`}\n          ref={dateFilterRef}\n        >\n          <svg\n            onClick={() => setDateOpen(true)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30.971\"\n            height=\"30.971\"\n            viewBox=\"0 0 30.971 30.971\"\n          >\n            <path\n              id=\"Path_299\"\n              data-name=\"Path 299\"\n              d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n              fill=\"#336cf9\"\n            />\n          </svg>\n          {dateFilter && (\n            <>\n              <div className=\"dates\">\n                <p>\n                  From:{\" \"}\n                  <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n                </p>\n                <p>\n                  To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n                </p>\n              </div>\n              <button\n                className=\"clearDateFilter\"\n                onClick={() => {\n                  setDateRange({\n                    startDate: new Date(),\n                    endDate: new Date(),\n                  });\n                  setDateFilter(false);\n                }}\n              >\n                <X_svg />\n              </button>\n            </>\n          )}\n        </section>\n      </div>\n      <table cellSpacing={0} cellPadding={0}>\n        <thead>\n          <tr>\n            <th\n              className={\n                sort.column === \"createdAt\" ? \"sort\" + \" \" + sort.order : \"\"\n              }\n              onClick={() => {\n                setSort((prev) => ({\n                  column: \"createdAt\",\n                  order: prev.order === \"dsc\" ? \"asc\" : \"dsc\",\n                }));\n              }}\n            >\n              Date <Chev_down_svg />\n            </th>\n            <th\n              className={\n                sort.column === \"issue\" ? \"sort\" + \" \" + sort.order : \"\"\n              }\n              onClick={() => {\n                setSort((prev) => ({\n                  column: \"issue\",\n                  order: prev.order === \"dsc\" ? \"asc\" : \"dsc\",\n                }));\n              }}\n            >\n              Issue <Chev_down_svg />\n            </th>\n            <th\n              className={\n                sort.column === \"status\" ? \"sort\" + \" \" + sort.order : \"\"\n              }\n              onClick={() => {\n                setSort((prev) => ({\n                  column: \"status\",\n                  order: prev.order === \"dsc\" ? \"asc\" : \"dsc\",\n                }));\n              }}\n            >\n              Status <Chev_down_svg />\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {tickets.map((item) => (\n            <tr\n              key={item._id}\n              onClick={() =>\n                history.push(`/account/support/ticket/${item._id}`)\n              }\n            >\n              <td>\n                <Moment format=\"hh:mm a, DD MMM, YYYY\">{item.createdAt}</Moment>\n              </td>\n              <td>{item.issue}</td>\n              <td>{item.status}</td>\n            </tr>\n          ))}\n          {tickets.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>Nothing yet.</td>\n            </tr>\n          )}\n        </tbody>\n        <tfoot>\n          <tr>\n            <Pagination\n              total={total}\n              perPage={perPage}\n              currentPage={page}\n              btns={5}\n              setPage={setPage}\n            />\n          </tr>\n        </tfoot>\n      </table>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n      <Modal\n        open={ticketForm}\n        head={true}\n        label=\"Open Ticket\"\n        setOpen={setTicketForm}\n        className=\"formModal ticketFormModal\"\n      >\n        <TicketForm\n          onSuccess={(newTicket) => {\n            setTicketForm(false);\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  <h4>Ticket successfully submitted.</h4>\n                </div>\n              </>\n            );\n            setTickets((prev) => [newTicket, ...prev]);\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\nexport const SingleTicket = ({ history, match }) => {\n  const [ticket, setTicket] = useState(null);\n  const [msg, setMsg] = useState(null);\n  const [replyForm, setReplyForm] = useState(false);\n  useEffect(() => {\n    fetch(`/api/singleTicket?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setTicket(data.ticket);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => history.push(\"/account/support/ticket\")}>\n                Go Back\n              </button>\n              <div>\n                <Err_svg />\n                <h4>Ticket could not be found.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => history.push(\"/account/support/ticket\")}>\n              Go Back\n            </button>\n            <div>\n              <Err_svg />\n              <h4>Ticket could not be found.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  if (ticket) {\n    return (\n      <div className=\"ticket\">\n        <div className=\"detail\">\n          <Link to=\"/account/support/ticket\" className=\"back\">\n            <Arrow_left_svg />\n            Go Back\n          </Link>\n          <ul className=\"summery\">\n            <li className=\"head\">Ticket Summery</li>\n            <li>\n              <label>Issue:</label>\n              <p>{ticket.issue}</p>\n            </li>\n            <li>\n              <label>Status:</label>\n              <p>{ticket.status}</p>\n            </li>\n            <li>\n              <label>Created at:</label>\n              <p>\n                <Moment format=\"hh:mm a, DD MMM, YYYY\">\n                  {ticket.createdAt}\n                </Moment>\n              </p>\n            </li>\n            <li>\n              <label>Last Activity:</label>\n              <p>\n                <Moment format=\"hh:mm a, DD MMM, YYYY\">\n                  {ticket.updatedAt}\n                </Moment>\n              </p>\n            </li>\n          </ul>\n          <ul className=\"milestoneDetail\">\n            <li className=\"head\">Milestone Detail</li>\n            {ticket.milestone ? (\n              <>\n                <li>\n                  <label>Amount:</label>\n                  <p>{ticket.milestone.amount}</p>\n                </li>\n                <li>\n                  <label>Status:</label>\n                  <p>{ticket.milestone.status}</p>\n                </li>\n                <li>\n                  <label>Created at:</label>\n                  <p>\n                    <Moment format=\"hh:mm a, DD MMM, YYYY\">\n                      {ticket.milestone.createdAt}\n                    </Moment>\n                  </p>\n                </li>\n                <li>\n                  <label>Verification Method:</label>\n                  <p>{ticket.milestone.verification}</p>\n                </li>\n                <li>\n                  <label>Seller:</label>\n                  <p>\n                    {ticket.milestone.seller.firstName +\n                      \" \" +\n                      ticket.milestone.seller.lastName}\n                  </p>\n                </li>\n                <li>\n                  <label>Buyer:</label>\n                  <p>\n                    {ticket.milestone.buyer.firstName +\n                      \" \" +\n                      ticket.milestone.buyer.lastName}\n                  </p>\n                </li>\n                <li>\n                  <label>Description:</label>\n                  <p>{ticket.milestone.dscr}</p>\n                </li>\n              </>\n            ) : (\n              <li className=\"placeholder\">No Detail provided</li>\n            )}\n          </ul>\n          <ul className=\"transactionDetail\">\n            <li className=\"head\">Transaction Detail</li>\n            {ticket.transaction ? (\n              <>\n                <li>\n                  <label>Type:</label>\n                  <p>{ticket.transaction.__t}</p>\n                </li>\n                <li>\n                  <label>Amount:</label>\n                  <p>{ticket.transaction.amount}</p>\n                </li>\n                <li>\n                  <label>Note:</label>\n                  <p>{ticket.transaction.note}</p>\n                </li>\n                <li>\n                  <label>Created at:</label>\n                  <p>\n                    <Moment format=\"hh:mm a, DD MMM, YYYY\">\n                      {ticket.transaction.createdAt}\n                    </Moment>\n                  </p>\n                </li>\n              </>\n            ) : (\n              <li className=\"placeholder\">No Detail provided</li>\n            )}\n          </ul>\n          <div className=\"pBtm\" />\n        </div>\n        <div className=\"messages\">\n          <div className=\"head\">\n            Messages <button onClick={() => setReplyForm(true)}>Reply</button>\n          </div>\n          <ul>\n            {[...ticket.messages].reverse().map((item, i) => (\n              <li key={i}>\n                <div className=\"user\">\n                  <p className=\"name\">\n                    {item.user.name}\n                    <span></span>\n                    <span className=\"role\">{item.user.role}</span>\n                    <span className=\"date\">\n                      <Moment format=\"hh:mm a, DD MMM, YYYY\">\n                        {item.createdAt}\n                      </Moment>\n                    </span>\n                  </p>\n                </div>\n                <p className=\"message\">{item.message.body}</p>\n                {item.message.files.length > 0 && (\n                  <div className=\"thumbs\">\n                    <Media links={item.message.files} />\n                  </div>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <Modal\n          open={replyForm}\n          head={true}\n          label=\"Add reply to Ticket\"\n          setOpen={setReplyForm}\n          className=\"ticketReplyFormModal\"\n        >\n          <TicketReplyForm\n            _id={ticket._id}\n            onSuccess={(newTicket) => {\n              setReplyForm(false);\n              setTicket((prev) => ({ ...prev, messages: newTicket.messages }));\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>Reply has been submitted.</h4>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n        <Modal open={msg} className=\"msg\">\n          {msg}\n        </Modal>\n      </div>\n    );\n  }\n  return (\n    <div className=\"ticket loading\">\n      <div className=\"detail\">\n        <Link to=\"/account/support/ticket\" className=\"back\">\n          <Arrow_left_svg />\n          Go Back\n        </Link>\n        <ul className=\"summery\">\n          <li className=\"head\">Ticket Summery</li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n        </ul>\n        <ul className=\"milestoneDetail\">\n          <li className=\"head\">Milestone Detail</li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n        </ul>\n        <ul className=\"transactionDetail\">\n          <li className=\"head\">Transaction Detail</li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n          <li>\n            <label></label>\n            <p></p>\n          </li>\n        </ul>\n      </div>\n      <div className=\"messages\">\n        <div className=\"head\">Messages</div>\n        <ul>\n          <li>\n            <div className=\"user\">\n              <div className=\"img\" />\n              <p className=\"name\" />\n            </div>\n            <p className=\"message\">\n              <span />\n            </p>\n            <div className=\"thumbs\">\n              <div className=\"img\" />\n              <div className=\"img\" />\n            </div>\n          </li>\n          <li>\n            <div className=\"user\">\n              <div className=\"img\" />\n              <p className=\"name\" />\n            </div>\n            <p className=\"message\">\n              <span />\n            </p>\n            <div className=\"thumbs\">\n              <div className=\"img\" />\n              <div className=\"img\" />\n              <div className=\"img\" />\n            </div>\n          </li>\n        </ul>\n      </div>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </div>\n  );\n};\nconst Support = ({ history, location, match }) => {\n  const [msg, setMsg] = useState(null);\n  const [faqs, setFaqs] = useState([]);\n  const [bugReport, setBugReport] = useState(false);\n  useEffect(() => {\n    fetch(`/api/faq`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setFaqs(data.faqs);\n        }\n      });\n  }, []);\n  return (\n    <>\n      <Switch>\n        <Route path=\"/account/support/ticket\" component={Tickets} />\n        <Route path=\"/\">\n          <div className=\"supportContainer\">\n            <div className=\"benner\">\n              <div className=\"clas\">\n                <Link className=\"ticketLink\" to=\"/account/support/ticket\">\n                  My Tickets\n                </Link>\n                <button\n                  className=\"ticketLink\"\n                  onClick={() => setBugReport(true)}\n                >\n                  Report Bug\n                </button>\n              </div>\n              <h1>Support portal</h1>\n              <p>\n                Search for an answer or browse help topics to create a ticket\n              </p>\n              <form onSubmit={(e) => e.preventDefault()}>\n                <input\n                  type=\"text\"\n                  required={true}\n                  placeholder=\"Eg: How does the Delivery pay Hold Works\"\n                  onChange={(e) => {\n                    fetch(`/api/faq?q=${e.target.value}`)\n                      .then((res) => res.json())\n                      .then((data) => {\n                        if (data.code === \"ok\") {\n                          setFaqs(data.faqs);\n                        }\n                      });\n                  }}\n                />\n                <button type=\"submit\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"31.336\"\n                    height=\"31.336\"\n                    viewBox=\"0 0 31.336 31.336\"\n                  >\n                    <path\n                      id=\"Path_1935\"\n                      data-name=\"Path 1935\"\n                      d=\"M25.4,22.708H23.98l-.5-.484a11.663,11.663,0,1,0-1.254,1.254l.484.5V25.4l8.958,8.94,2.67-2.67Zm-10.75,0a8.062,8.062,0,1,1,8.063-8.063A8.052,8.052,0,0,1,14.646,22.708Z\"\n                      transform=\"translate(-3 -3)\"\n                      fill=\"#707070\"\n                    />\n                  </svg>\n                </button>\n              </form>\n            </div>\n            <div className=\"content\">\n              <div className=\"faq\">\n                <p className=\"label\">FAQs</p>\n                <ul>\n                  {faqs.map((item) => (\n                    <li key={item._id}>\n                      <h4>{item.ques}</h4>\n                      <p className=\"ans\">{item.ans}</p>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n              <div className=\"feedback\">\n                <form>\n                  <textarea required={true} />\n                  <button>Submit</button>\n                </form>\n                <Link className=\"feedbackLink\" to=\"/support/myFeedbacks\">\n                  Submitted Feedbacks\n                </Link>\n              </div>\n            </div>\n          </div>\n        </Route>\n      </Switch>\n      <Modal\n        open={bugReport}\n        setOpen={setBugReport}\n        className=\"bugReport\"\n        label=\"Report Bug\"\n        head={true}\n      >\n        <BugReportForm\n          onSuccess={() => {\n            setBugReport(false);\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  <h4>Report has been submitted.</h4>\n                </div>\n              </>\n            );\n          }}\n        />\n      </Modal>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nexport default Support;\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport {\n  Succ_svg,\n  Err_svg,\n  Plus_svg,\n  X_svg,\n  Combobox,\n  Pagination,\n  Checkbox,\n  calculateDiscount,\n  calculatePrice,\n  Actions,\n  Chev_down_svg,\n  Tabs,\n  Arrow_left_svg,\n  Media,\n  User,\n  FileInput,\n  UploadFiles,\n  Img,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { Link, Route, useHistory, Switch, Redirect } from \"react-router-dom\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Modal, Confirm } from \"./Modal\";\nimport { MilestoneForm } from \"./Account\";\nimport { DateRange } from \"react-date-range\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { toast } from \"react-toastify\";\n\nexport const Orders = ({ status, onClick }) => {\n  const { cart } = useContext(SiteContext);\n  const dateFilterRef = useRef();\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n  const [type, setType] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [dateOpen, setDateOpen] = useState(\"\");\n  const [sort, setSort] = useState({\n    column: \"createdAt\",\n    order: \"dsc\",\n  });\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [dateFilter, setDateFilter] = useState(false);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [orders, setOrders] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [batch, setBatch] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const [carts, setCarts] = useState([]);\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    fetch(\n      `/api/getOrders?${new URLSearchParams({\n        user: \"buyer\",\n        ...(search && { q: search }),\n        page,\n        perPage,\n        sort: sort.column,\n        order: sort.order,\n        ...(dateFilter && {\n          dateFrom: startDate,\n          dateTo: endDate,\n        }),\n        ...(type && { type }),\n        ...(status && { status }),\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders(data.orders);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get orders.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [type, search, page, perPage, dateFilter, status]);\n  useEffect(() => {\n    fetch(\"/api/getCartDetail\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ cart }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setCarts(data.carts);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get cart detail. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [cart]);\n  useLayoutEffect(() => {\n    if (dateFilterRef.current) {\n      const {\n        height,\n        y,\n        width,\n        x,\n      } = dateFilterRef.current.getBoundingClientRect();\n      setDatePickerStyle({\n        position: \"fixed\",\n        top: height + y + 4,\n        right: window.innerWidth - x - width,\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (selectAll) {\n    } else {\n      setBatch([]);\n    }\n  }, [selectAll]);\n  useEffect(() => {\n    if (batch.length === 0) {\n      setSelectAll(false);\n    }\n  }, [batch]);\n  return (\n    <div className=\"productContainer\">\n      {\n        <div className=\"benner\">\n          <p>My Orders</p>\n        </div>\n      }\n      {\n        //   <div className=\"filters\">\n        //   <section>\n        //     <label>Total:</label>\n        //     {total}\n        //   </section>\n        //   <section>\n        //     <label>Per Page:</label>\n        //     <Combobox\n        //       defaultValue={0}\n        //       options={[\n        //         { label: \"20\", value: 20 },\n        //         { label: \"30\", value: 30 },\n        //         { label: \"50\", value: 50 },\n        //       ]}\n        //       onChange={(e) => setPerPage(e.value)}\n        //     />\n        //   </section>\n        //   <section className=\"search\">\n        //     <svg\n        //       xmlns=\"http://www.w3.org/2000/svg\"\n        //       width=\"23\"\n        //       height=\"23\"\n        //       viewBox=\"0 0 23 23\"\n        //     >\n        //       <path\n        //         id=\"Icon_ionic-ios-search\"\n        //         data-name=\"Icon ionic-ios-search\"\n        //         d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n        //         transform=\"translate(-4.5 -4.493)\"\n        //         fill=\"#707070\"\n        //         opacity=\"0.74\"\n        //       />\n        //     </svg>\n        //     <input\n        //       value={search}\n        //       onChange={(e) => setSearch(e.target.value)}\n        //       placeholder=\"Search for Seller\"\n        //     />\n        //     {search && (\n        //       <button onClick={() => setSearch(\"\")}>\n        //         <X_svg />\n        //       </button>\n        //     )}\n        //   </section>\n        //   <section className=\"category\">\n        //     <label>Type:</label>\n        //     <Combobox\n        //       defaultValue={0}\n        //       options={[\n        //         { label: \"All\", value: \"\" },\n        //         { label: \"Product\", value: \"product\" },\n        //         { label: \"Service\", value: \"service\" },\n        //         { label: \"Other\", value: \"other\" },\n        //       ]}\n        //       onChange={(e) => setType(e.value)}\n        //     />\n        //   </section>\n        //   <section\n        //     className={`date ${dateFilter ? \"open\" : \"\"}`}\n        //     ref={dateFilterRef}\n        //     onClick={() => setDateOpen(true)}\n        //   >\n        //     <svg\n        //       xmlns=\"http://www.w3.org/2000/svg\"\n        //       width=\"30.971\"\n        //       height=\"30.971\"\n        //       viewBox=\"0 0 30.971 30.971\"\n        //     >\n        //       <path\n        //         id=\"Path_299\"\n        //         data-name=\"Path 299\"\n        //         d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n        //         fill=\"#336cf9\"\n        //       />\n        //     </svg>\n        //     {dateFilter && (\n        //       <>\n        //         <div className=\"dates\">\n        //           <p>\n        //             From:{\" \"}\n        //             <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n        //           </p>\n        //           <p>\n        //             To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n        //           </p>\n        //         </div>\n        //         <button\n        //           className=\"clearDateFilter\"\n        //           onClick={() => {\n        //             setDateRange({\n        //               startDate: new Date(),\n        //               endDate: new Date(),\n        //             });\n        //             setDateFilter(false);\n        //           }}\n        //         >\n        //           <X_svg />\n        //         </button>\n        //       </>\n        //     )}\n        //   </section>\n        // </div>\n      }\n      {batch.length > 0 && (\n        <div className=\"batchAction\">\n          <button onClick={() => console.log(\"batch delete\")}>Delete</button>\n        </div>\n      )}\n      <table className=\"table orders\">\n        <thead>\n          <tr>\n            {\n              //   <th className=\"checkContainer\">\n              //   <Checkbox\n              //     value={selectAll}\n              //     defaultValue={selectAll}\n              //     onChange={(e) => setSelectAll(e)}\n              //   />\n              // </th>\n            }\n            <th>Order</th>\n            <th className=\"date\">Purchase Date</th>\n            {\n              //   <th>Seller</th>\n              // <th>QTY</th>\n              // <th>Refundable</th>\n              // <th>Milestone</th>\n            }\n            <th>Total</th>\n            <th>Status</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {orders.map((order) => (\n            <SingleOrder\n              onClick={onClick}\n              key={order._id}\n              order={order}\n              setOrders={setOrders}\n              selectAll={selectAll}\n              setBatch={setBatch}\n              batch={batch}\n            />\n          ))}\n          {status.includes(\"pending\") &&\n            carts.map((order) => (\n              <OrderDraft order={order} key={order.seller._id} />\n            ))}\n          {orders.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>No order yet.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Pagination\n        total={total}\n        btns={5}\n        currentPage={page}\n        perPage={perPage}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        className=\"datePicker\"\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n    </div>\n  );\n};\nconst OrderDraft = ({ order, setOrder }) => {\n  const actionsRef = useRef();\n  const checkRef = useRef();\n  const history = useHistory();\n  const total = +(\n    order.products.reduce(\n      (a, c) =>\n        (\n          a +\n          calculatePrice({ product: c.product, gst: order.seller.gst }) * c.qty\n        ).fix(),\n      0\n    ) + (order.seller.shopInfo?.shippingCost || 0)\n  ).fix();\n  return (\n    <tr\n      className=\"order\"\n      onClick={(e) => {\n        if (\n          e.nativeEvent.path.includes(actionsRef.current) ||\n          e.nativeEvent.path.includes(checkRef.current)\n        ) {\n        } else {\n          history.push(\"/account/cart\");\n        }\n      }}\n    >\n      <td>-</td>\n      <td className=\"date\">\n        <Moment format=\"DD MMM YYYY\">{new Date()}</Moment>\n      </td>\n      <td>{total}</td>\n      <td>Draft</td>\n      <td ref={actionsRef}>\n        <Actions icon={<Chev_down_svg />}>\n          <Link to=\"/account/cart\">View Detail</Link>\n        </Actions>\n      </td>\n    </tr>\n  );\n};\nconst SingleOrder = ({\n  order,\n  setOrders,\n  selectAll,\n  setBatch,\n  batch,\n  onClick,\n}) => {\n  const actionsRef = useRef();\n  const checkRef = useRef();\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [selected, setSelected] = useState(selectAll || false);\n  const [edit, setEdit] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const cancelOrder = () => {\n    fetch(\"/api/cancelOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders((prev) =>\n            prev.map((item) => {\n              if (item._id === order._id) {\n                return {\n                  ...item,\n                  status: data.order?.status,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not cancel order. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not cancel order. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  const requestCancellation = () => {\n    fetch(\"/api/requestCancellation\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ _id: order._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrders((prev) =>\n            prev.map((item) => {\n              if (item._id === order._id) {\n                return {\n                  ...item,\n                  status: data.order?.status,\n                };\n              } else {\n                return item;\n              }\n            })\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not cancel order. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not cancel order. Make sure you're online</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    setSelected(selectAll);\n  }, [selectAll]);\n  useEffect(() => {\n    if (selected) {\n      setBatch((prev) => [...prev, order._id]);\n    } else {\n      setBatch((prev) => prev.filter((item) => item !== order._id));\n    }\n  }, [selected]);\n  return (\n    <>\n      <tr\n        className={`order ${selected ? \"selected\" : \"\"}`}\n        onClick={(e) => {\n          if (\n            e.nativeEvent.path.includes(actionsRef.current) ||\n            e.nativeEvent.path.includes(checkRef.current) ||\n            batch.length > 0\n          ) {\n          } else {\n            onClick?.(order._id);\n          }\n        }}\n      >\n        {\n          //   <td className=\"checkContainer\" ref={checkRef}>\n          //   <Checkbox\n          //     defaultValue={selected}\n          //     value={selected}\n          //     onChange={(e) => {\n          //       setSelected(e);\n          //     }}\n          //   />\n          // </td>\n        }\n        <td>{order._id}</td>\n        <td className=\"date\">\n          <Moment format=\"DD MMM YYYY\">{order.createdAt}</Moment>\n        </td>\n        {\n          //   <td>\n          //   <User user={order.seller} />\n          // </td>\n          // <td>{order.products.reduce((a, c) => a + c.qty, 0)}</td>\n          // <td>{order.refundable || \"N/A\"}</td>\n          // <td>{order.milestones.length || \"N/A\"}</td>\n        }\n        <td>{order.total}</td>\n        <td>{order.status}</td>\n        <td ref={actionsRef}>\n          {batch.length === 0 && (\n            <Actions icon={<Chev_down_svg />}>\n              <Link to={`${history.location.pathname}/${order._id}`}>\n                View Detail\n              </Link>\n              {order.status === \"pending\" && (\n                <Link\n                  to=\"#\"\n                  onClick={(e) => {\n                    Confirm({\n                      label: \"Order Cancellation\",\n                      question: \"You sure want to cancel this order?\",\n                      callback: cancelOrder,\n                    });\n                  }}\n                >\n                  Cancel order\n                </Link>\n              )}\n              {order.status === \"approved\" && (\n                <Link\n                  to=\"#\"\n                  onClick={(e) => {\n                    Confirm({\n                      label: \"Order Cancellation\",\n                      question:\n                        \"You sure want to request cancellation for this order?\",\n                      callback: requestCancellation,\n                    });\n                  }}\n                >\n                  Request Cancellation\n                </Link>\n              )}\n            </Actions>\n          )}\n        </td>\n      </tr>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport const FullOrder = ({ history, match }) => {\n  const { userType } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [order, setOrder] = useState(null);\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [refundTill, setRefundTill] = useState(false);\n  const [issueRefund, setIssueRefund] = useState(false);\n  const milestoneTimeout = useRef();\n  const updateOrder = async (newData) => {\n    return fetch(\"/api/updateOrder\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newData),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          return data.order;\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Orders does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not update order. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    fetch(`/api/singleOrder?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder(data.order);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Orders does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get order. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  useEffect(() => {\n    if (order?.status === \"delivered\" && order?.refundable) {\n      let days = 0;\n      switch (order.refundable) {\n        case \"Upto 24 Hours After Delivery\":\n          days = 1;\n          break;\n        case \"Upto 7 Days After Delivery\":\n          days = 7;\n          break;\n        case \"Upto 15 Days After Delivery\":\n          days = 15;\n          break;\n        default:\n          return;\n      }\n      const refundTill = new Date(\n        new Date().getTime() + 1000 * 60 * 60 * 24 * days\n      );\n      if (new Date() < refundTill) {\n        setRefundTill(refundTill);\n      } else {\n        setRefundTill(null);\n      }\n    } else {\n      setRefundTill(null);\n    }\n  }, [order]);\n  if (order) {\n    return (\n      <>\n        <div className=\"actions\">\n          <Link\n            to={`${\n              history.location.pathname.replace(\"/\" + match.params._id, \"\")\n                ? history.location.pathname.replace(\"/\" + match.params._id, \"\")\n                : userType === \"seller\"\n                ? \"/account/orders\"\n                : \"/account/orders/current\"\n            }`}\n            className=\"back\"\n          >\n            <Arrow_left_svg />\n            Back\n          </Link>\n          {refundTill && (\n            <button onClick={() => setIssueRefund(true)}>Issue refund</button>\n          )}\n        </div>\n        <div className=\"singleOrder\">\n          <div className=\"summery\">\n            <h3>Order Summery</h3>\n            <ul>\n              <li>\n                <label>Seller</label>\n                <User user={order.seller} />\n              </li>\n              <li>\n                <label>Order ID</label>\n                {order._id}\n              </li>\n              <li>\n                <label>Status</label>\n                {order.status}\n              </li>\n              <li>\n                <label>Order placed</label>\n                <Moment format=\"DD MMM YYYY, hh:mma\">{order.createdAt}</Moment>\n              </li>\n              {order.status === \"delivered\" && (\n                <li>\n                  <label>Delivered at</label>\n                  <Moment format=\"DD MMM YYYY, hh:mm a\">\n                    {order.deliveredAt}\n                  </Moment>\n                </li>\n              )}\n              <li>\n                <label>Refundable</label>\n                {order.refundable || \"N/A\"}\n              </li>\n              {refundTill && (\n                <li>\n                  <label>Refund till</label>\n                  <Moment format=\"DD MMM YYYY, hh:mm a\">{refundTill}</Moment>\n                </li>\n              )}\n              <li></li>\n              <li className=\"devide\">\n                <label>Delivery Address</label>\n                <span />\n              </li>\n              <>\n                {Object.entries(order.deliveryDetail).map(([key, value], i) =>\n                  key === \"deliveryTime\" ? (\n                    <li key={i}>\n                      <label>Delivery date</label>\n                      {order.deliveryDetail.deliveryTime ? (\n                        <Moment format=\"DD MMM, YYYY hh:mma\">\n                          {order.deliveryDetail.deliveryTime}\n                        </Moment>\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </li>\n                  ) : (\n                    <li key={i}>\n                      <label>{key}</label>\n                      {value}\n                    </li>\n                  )\n                )}\n              </>\n            </ul>\n          </div>\n          <div className=\"products\">\n            <h3>Products</h3>\n            <ul>\n              {order.products.map(({ product, qty }, i) => (\n                <li key={i}>\n                  <Img src={product.images[0] || \"/open_box.png\"} />\n                  <div className=\"detail\">\n                    <p>{product.name}</p>\n                    <p className=\"qty\">QTY: {qty}</p>\n                  </div>\n                  <div className=\"price\">\n                    <span>\n                      {calculatePrice({ product, gst: true })} x {qty}\n                    </span>\n                    {calculatePrice({ product, gst: true }) * qty}\n                  </div>\n                </li>\n              ))}\n            </ul>\n            <div className=\"total\">\n              <div className=\"data\">\n                <label>Total</label>\n                {order.products.reduce(\n                  (a, c) =>\n                    a +\n                    calculatePrice({ product: c.product, gst: true }) * c.qty,\n                  0\n                )}\n              </div>\n              <hr />\n              <div className=\"data\">\n                <label>Shipping</label>{order.shippingCost || \"N/A\"}\n              </div>\n              <div className=\"data\">\n                <label>Delivery Pay fee {order.fee}%</label>\n                {(order.total - (order.total / (order.fee + 100)) * 100).fix()}\n              </div>\n              <hr />\n              <div className=\"data\">\n                <label>Grand Total</label>{order.total}\n              </div>\n            </div>\n          </div>\n          <div className=\"milestones\">\n            <h3>\n              Milestones\n              {\n                //   (order.status === \"approved\" ||\n                //   order.status === \"shipped\" ||\n                //   order.status === \"delivered\") && (\n                //   <button onClick={() => setMilestoneForm(true)}>\n                //     Create Milestone\n                //   </button>\n                // )\n              }\n            </h3>\n            <p className=\"subtitle\">Click to view milestone detail.</p>\n            {\n              //   {order.status == \"pending\" ? (\n              //   <p>You can create milestones after seller accepts your order.</p>\n              // ) : (\n            }\n            <table cellSpacing={0} cellPadding={0}>\n              <thead>\n                <tr>\n                  <td>Date</td>\n                  <td>Descrption</td>\n                  <td>Amount</td>\n                  <td>Status</td>\n                </tr>\n              </thead>\n              <tbody>\n                {order.milestones.map((milestone) => (\n                  <tr\n                    key={milestone._id}\n                    onClick={() =>\n                      history.push(`/account/hold?q=${milestone._id}`)\n                    }\n                  >\n                    <td>\n                      <Moment format=\"DD MMM YYYY, hh:mma\">\n                        {milestone.createdAt}\n                      </Moment>\n                    </td>\n                    <td>{milestone.dscr}</td>\n                    <td>{milestone.amount}</td>\n                    <td>{milestone.status}</td>\n                  </tr>\n                ))}\n                {order.milestones.length === 0 && (\n                  <tr className=\"placeholdert\">\n                    <td>Nothing yet.</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n            {\n              // )}\n            }\n          </div>\n          <div className=\"delivery\">\n            <h3>Proof of delivery</h3>\n            {order.files?.length > 0 ? (\n              <div className=\"thumbs\">\n                <Media links={order.files} />\n              </div>\n            ) : (\n              <>No files added.</>\n            )}\n          </div>\n          <section className=\"terms\">\n            <h3>Return Policy Terms</h3>\n            <ul>\n              {order.terms?.map((item, i) => (\n                <li key={i}>{item}</li>\n              ))}\n              {!order.terms?.length && (\n                <li>No terms has been set by the seller yet.</li>\n              )}\n            </ul>\n          </section>\n        </div>\n        <Modal\n          head={true}\n          label=\"Create Milestone\"\n          setOpen={setMilestoneForm}\n          className=\"milestoneRequest\"\n          open={milestoneForm}\n        >\n          <MilestoneForm\n            action=\"create\"\n            definedAmount={order.total}\n            client={order.seller}\n            order={order._id}\n            onSuccess={(milestone) => {\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been created</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n              setOrder((prev) => ({\n                ...prev,\n                milestones: [...prev.milestones, milestone],\n              }));\n            }}\n          />\n        </Modal>\n        <Modal\n          open={issueRefund}\n          head={true}\n          label=\"Issue Refund\"\n          setOpen={setIssueRefund}\n          className=\"issueRefund\"\n        >\n          <RefundForm\n            order={order}\n            onSuccess={(refund) => {\n              setIssueRefund(false);\n              setOrder((prev) => ({ ...prev, status: \"refundPending\" }));\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>Refund has been issued.</h4>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </>\n    );\n  }\n  return <>Loading</>;\n};\n\nconst RefundForm = ({ order, onSuccess }) => {\n  const [msg, setMsg] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [issue, setIssue] = useState(\"\");\n  const [dscr, setDscr] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const fileLinks = files.length ? await UploadFiles({ files, setMsg }) : [];\n    fetch(\"/api/issueRefund\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ order: order._id, issue, dscr, files: fileLinks }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.refund);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund could not be issued. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Refund could not be issued. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form onSubmit={submit}>\n        <section>\n          <label>Issue</label>\n          <input\n            type=\"text\"\n            required={true}\n            value={issue}\n            onChange={(e) => setIssue(e.target.value)}\n          />\n        </section>\n        <section>\n          <label>Descrption</label>\n          <TextareaAutosize\n            required={true}\n            value={dscr}\n            onChange={(e) => setDscr(e.target.value)}\n          />\n        </section>\n        <section className=\"images\">\n          <label>Upload relevant files</label>\n          <FileInput\n            accept=\"image/*, video/*, audio/*\"\n            multiple={true}\n            onChange={(files) => setFiles(files)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\">Submit</button>\n        </section>\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nconst Refunds = ({ history, location }) => {\n  const { userType } = useContext(SiteContext);\n  const dateFilterRef = useRef();\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n  const [search, setSearch] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [dateOpen, setDateOpen] = useState(\"\");\n  const [sort, setSort] = useState({\n    column: \"createdAt\",\n    order: \"dsc\",\n  });\n  const [dateRange, setDateRange] = useState({\n    startDate: new Date(),\n    endDate: new Date(),\n  });\n  const [dateFilter, setDateFilter] = useState(false);\n  const [datePickerStyle, setDatePickerStyle] = useState({});\n  const [refunds, setRefunds] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [batch, setBatch] = useState([]);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    const startDate = moment({\n      time: dateRange?.startDate,\n      format: \"YYYY-MM-DD\",\n    });\n    const endDate = moment({\n      time: dateRange?.endDate.setHours(24, 0, 0, 0),\n      format: \"YYYY-MM-DD\",\n    });\n    fetch(\n      `/api/getRefunds?${new URLSearchParams({\n        user: userType,\n        ...(search && { q: search }),\n        page,\n        perPage,\n        sort: sort.column,\n        order: sort.order,\n        ...(dateFilter && {\n          dateFrom: startDate,\n          dateTo: endDate,\n        }),\n        ...(status && { status }),\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setRefunds(data.refunds);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get orders.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [search, page, perPage, dateFilter, status]);\n  useLayoutEffect(() => {\n    if (dateFilterRef.current) {\n      const {\n        height,\n        y,\n        width,\n        x,\n      } = dateFilterRef.current.getBoundingClientRect();\n      setDatePickerStyle({\n        position: \"fixed\",\n        top: height + y + 4,\n        right: window.innerWidth - x - width,\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (selectAll) {\n    } else {\n      setBatch([]);\n    }\n  }, [selectAll]);\n  useEffect(() => {\n    if (batch.length === 0) {\n      setSelectAll(false);\n    }\n  }, [batch]);\n  return (\n    <>\n      <div className=\"benner\">\n        <p>My Refunds</p>\n      </div>\n      <div className=\"filters\">\n        <section>\n          <label>Total:</label>\n          {total}\n        </section>\n        <section>\n          <label>Per Page:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"20\", value: 20 },\n              { label: \"30\", value: 30 },\n              { label: \"50\", value: 50 },\n            ]}\n            onChange={(e) => setPerPage(e.value)}\n          />\n        </section>\n        <section className=\"search\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"23\"\n            height=\"23\"\n            viewBox=\"0 0 23 23\"\n          >\n            <path\n              id=\"Icon_ionic-ios-search\"\n              data-name=\"Icon ionic-ios-search\"\n              d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n              transform=\"translate(-4.5 -4.493)\"\n              fill=\"#707070\"\n              opacity=\"0.74\"\n            />\n          </svg>\n          <input\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search for Seller\"\n          />\n          {search && (\n            <button onClick={() => setSearch(\"\")}>\n              <X_svg />\n            </button>\n          )}\n        </section>\n        <section className=\"category\">\n          <label>Status:</label>\n          <Combobox\n            defaultValue={0}\n            options={[\n              { label: \"All\", value: \"\" },\n              { label: \"Pending\", value: \"pending\" },\n              { label: \"Approved\", value: \"approved\" },\n              { label: \"Product Sent\", value: \"productSent\" },\n              { label: \"Product Recieved\", value: \"productRecieved\" },\n              { label: \"Resolved\", value: \"resolved\" },\n            ]}\n            onChange={(e) => setStatus(e.value)}\n          />\n        </section>\n        <section\n          className={`date ${dateFilter ? \"open\" : \"\"}`}\n          ref={dateFilterRef}\n          onClick={() => setDateOpen(true)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"30.971\"\n            height=\"30.971\"\n            viewBox=\"0 0 30.971 30.971\"\n          >\n            <path\n              id=\"Path_299\"\n              data-name=\"Path 299\"\n              d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n              fill=\"#336cf9\"\n            />\n          </svg>\n          {dateFilter && (\n            <>\n              <div className=\"dates\">\n                <p>\n                  From:{\" \"}\n                  <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n                </p>\n                <p>\n                  To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n                </p>\n              </div>\n              <button\n                className=\"clearDateFilter\"\n                onClick={() => {\n                  setDateRange({\n                    startDate: new Date(),\n                    endDate: new Date(),\n                  });\n                  setDateFilter(false);\n                }}\n              >\n                <X_svg />\n              </button>\n            </>\n          )}\n        </section>\n      </div>\n      {batch.length > 0 && (\n        <div className=\"batchAction\">\n          <button onClick={() => console.log(\"batch delete\")}>Delete</button>\n        </div>\n      )}\n      <table className=\"table refunds\">\n        <thead>\n          <tr>\n            {\n              //   <th className=\"checkContainer\">\n              //   <Checkbox\n              //     value={selectAll}\n              //     defaultValue={selectAll}\n              //     onChange={(e) => setSelectAll(e)}\n              //   />\n              // </th>\n            }\n            <th className=\"date\">Date</th>\n            <th>Seller</th>\n            <th>QTY</th>\n            <th>Status</th>\n            <th>Total Price</th>\n            {\n              // <th>Actions</th>\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {refunds.map((refund) => (\n            <SingleRefund\n              key={refund._id}\n              refund={refund}\n              setRefunds={setRefunds}\n              selectAll={selectAll}\n              setBatch={setBatch}\n              batch={batch}\n            />\n          ))}\n          {refunds.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>No product yet.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Pagination\n        total={total}\n        btns={5}\n        currentPage={page}\n        perPage={perPage}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Modal\n        open={dateOpen}\n        onBackdropClick={() => setDateOpen(false)}\n        className=\"datePicker\"\n        backdropClass=\"datePicker\"\n        style={datePickerStyle}\n      >\n        <DateRange\n          className=\"dateRange\"\n          ranges={[dateRange]}\n          onChange={(e) => {\n            setDateRange(e.range1);\n            if (e.range1.endDate !== e.range1.startDate) {\n              setDateOpen(false);\n              setDateFilter(true);\n            }\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\nconst SingleRefund = ({ refund, setRefunds, selectAll, setBatch, batch }) => {\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [selected, setSelected] = useState(selectAll || false);\n  const [edit, setEdit] = useState(false);\n  const [msg, setMsg] = useState(false);\n  useEffect(() => {\n    setSelected(selectAll);\n  }, [selectAll]);\n  useEffect(() => {\n    if (selected) {\n      setBatch((prev) => [...prev, refund._id]);\n    } else {\n      setBatch((prev) => prev.filter((item) => item !== refund._id));\n    }\n  }, [selected]);\n  return (\n    <>\n      <tr\n        className={`refund ${selected ? \"selected\" : \"\"}`}\n        onClick={() =>\n          history.push(`/account/myShopping/refunds/${refund._id}`)\n        }\n      >\n        {\n          //   <td className=\"checkContainer\">\n          //   <Checkbox\n          //     defaultValue={selected}\n          //     value={selected}\n          //     onChange={(e) => {\n          //       setSelected(e);\n          //     }}\n          //   />\n          // </td>\n        }\n        <td className=\"date\">\n          <Moment format=\"DD MMM YYYY, hh:mm a\">{refund.createdAt}</Moment>\n        </td>\n        <td>\n          <User user={refund.seller} />\n        </td>\n        <td>{refund.order?.products.reduce((a, c) => a + c.qty, 0)}</td>\n        <td>{refund.status}</td>\n        <td>{refund.order.total}</td>\n        {\n          //   <td>\n          //   {batch.length === 0 && (\n          //     <Actions icon={<Chev_down_svg />}>\n          //       <Link to=\"#\" className=\"edit\" onClick={() => setEdit(true)}>\n          //         Edit\n          //       </Link>\n          //       <Link\n          //         to=\"#\"\n          //         className=\"delete\"\n          //         onClick={() =>\n          //           Confirm({\n          //             label: \"Removing Product\",\n          //             question: \"You sure want to delete this product?\",\n          //             callback: removeProduct,\n          //           })\n          //         }\n          //       >\n          //         Delete\n          //       </Link>\n          //     </Actions>\n          //   )}\n          // </td>\n        }\n      </tr>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nconst FullRefund = ({ history, match }) => {\n  const { userType } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [refund, setRefund] = useState(null);\n  const [order, setOrder] = useState(null);\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [refundTill, setRefundTill] = useState(false);\n  const milestoneTimeout = useRef();\n  const updateRefund = async (newData) => {\n    return fetch(\"/api/updateRefund\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ...newData, _id: refund._id }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          return data.order;\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund request does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not update refund. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    fetch(`/api/singleRefund?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setOrder(data.refund.order);\n          setRefund(data.refund);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Refund does not exist.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get Refund. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  useEffect(() => {\n    if (order?.refundable) {\n      let days = 0;\n      switch (order.refundable) {\n        case \"Upto 24 Hours After Delivery\":\n          days = 1;\n          break;\n        case \"Upto 7 Days After Delivery\":\n          days = 7;\n          break;\n        case \"Upto 15 Days After Delivery\":\n          days = 15;\n          break;\n        default:\n          return;\n      }\n      const refundTill = new Date(\n        new Date().getTime() + 1000 * 60 * 60 * 24 * days\n      );\n      if (new Date() < refundTill) {\n        setRefundTill(refundTill);\n      } else {\n        setRefundTill(null);\n      }\n    } else {\n      setRefundTill(null);\n    }\n  }, [refund]);\n  if (refund) {\n    return (\n      <>\n        <div className=\"actions\">\n          <Link\n            to={`/account/${\n              userType === \"seller\" ? \"myShop\" : \"myShopping\"\n            }/refunds`}\n            className=\"back\"\n          >\n            <Arrow_left_svg />\n            Back\n          </Link>\n          {refund.status === \"approved\" && (\n            <button\n              onClick={() =>\n                Confirm({\n                  label: \"Product Shipped\",\n                  question: \"Did you sent the product to seller?\",\n                  callback: () => {\n                    updateRefund({ status: \"productSent\" }).then((refund) => {\n                      setRefund((prev) => ({ ...prev, status: \"productSent\" }));\n                    });\n                  },\n                })\n              }\n            >\n              Product Sent\n            </button>\n          )}\n          {refund.status === \"productRecieved\" && (\n            <button\n              onClick={() =>\n                Confirm({\n                  label: \"Refund Resolved\",\n                  question: \"You sure want to mark this refund resolved?\",\n                  callback: () => {\n                    updateRefund({ status: \"resolved\" }).then((refund) => {\n                      setRefund((prev) => ({ ...prev, status: \"resolved\" }));\n                    });\n                  },\n                })\n              }\n            >\n              Mark as Resolved\n            </button>\n          )}\n        </div>\n        <div className=\"singleOrder\">\n          <div className=\"summery\">\n            <h3>Summery</h3>\n            <ul>\n              <li className=\"devide\">\n                <label>Order</label>\n                <span />\n              </li>\n              <li>\n                <label>Seller</label>\n                <User user={order.seller} />\n              </li>\n              <li>\n                <label>Order ID</label>\n                {order._id}\n              </li>\n              <li>\n                <label>Status</label>\n                {order.status}\n              </li>\n              <li>\n                <label>Ordered at</label>\n                <Moment format=\"DD MMM YYYY, hh:mma\">{order.createdAt}</Moment>\n              </li>\n              <li>\n                <label>Delivered at</label>\n                <Moment format=\"DD MMM YYYY, hh:mm a\">\n                  {order.deliveredAt}\n                </Moment>\n              </li>\n              <li>\n                <label>Proof of delivery</label>\n                {order.files?.length > 0 ? (\n                  <div className=\"thumbs\">\n                    <Media links={order.files} />\n                  </div>\n                ) : (\n                  <>No files added.</>\n                )}\n              </li>\n              <li>\n                <label>Refundable</label>\n                {order.refundable || \"N/A\"}\n              </li>\n              {refundTill && (\n                <li>\n                  <label>Refund till</label>\n                  <Moment format=\"DD MMM YYYY, hh:mm a\">{refundTill}</Moment>\n                </li>\n              )}\n              <li></li>\n              <li className=\"devide\">\n                <label>Refund</label>\n                <span />\n              </li>\n              <li>\n                <label>Refund ID</label>\n                {refund._id}\n              </li>\n              <li>\n                <label>Status</label>\n                {refund.status}\n              </li>\n              <li>\n                <label>Submitted at</label>\n                <Moment format=\"DD MMM YYYY, hh:mma\">{refund.createdAt}</Moment>\n              </li>\n              <li>\n                <label>Issue</label>\n                {refund.issue}\n              </li>\n              <li>\n                <label>Descrption</label>\n                {refund.dscr}\n              </li>\n              <li>\n                <label>Images</label>\n                <div className=\"thumbs\">\n                  {refund.files.length ? (\n                    <Media links={refund.files} />\n                  ) : (\n                    <>No Images has been provided.</>\n                  )}\n                </div>\n              </li>\n              <li></li>\n              <li className=\"devide\">\n                <label>Delivery Address</label>\n                <span />\n              </li>\n              <>\n                {Object.entries(order.deliveryDetail).map(([key, value], i) =>\n                  key === \"deliveryTime\" ? (\n                    <li key={i}>\n                      <label>Delivery date</label>\n                      {order.deliveryDetail.deliveryTime ? (\n                        <Moment format=\"DD MMM, YYYY hh:mma\">\n                          {order.deliveryDetail.deliveryTime}\n                        </Moment>\n                      ) : (\n                        \"N/A\"\n                      )}\n                    </li>\n                  ) : (\n                    <li key={i}>\n                      <label>{key}</label>\n                      {value}\n                    </li>\n                  )\n                )}\n              </>\n            </ul>\n          </div>\n          <div className=\"products\">\n            <h3>Products</h3>\n            <ul>\n              {order.products.map(({ product, qty }, i) => (\n                <li key={i}>\n                  <Img src={product.images[0] || \"/open_box.png\"} />\n                  <div className=\"detail\">\n                    <p>{product.name}</p>\n                    <p className=\"qty\">QTY: {qty}</p>\n                  </div>\n                  <div className=\"price\">\n                    <span>\n                      {calculatePrice({ product, gst: true })} x {qty}\n                    </span>\n                    {calculatePrice({ product, gst: true }) * qty}\n                  </div>\n                </li>\n              ))}\n            </ul>\n            <div className=\"total\">\n              <div className=\"data\">\n                <label>Total</label>{order.total - order.shippingCost}\n              </div>\n              {\n                //   <div className=\"data\">\n                //   <label>Shipping</label>\n                //   {order.shippingCost || \"N/A\"}\n                // </div>\n                // <div className=\"data\">\n                // <label>Grand Total</label>\n                // {order.products.reduce(\n                //   (a, c) =>\n                //   a +\n                //   calculatePrice({ product: c.product, gst: true }) * c.qty,\n                //   0\n                // ) + (+order.shippingCost || 0)}\n                // </div>\n              }\n            </div>\n          </div>\n          <div className=\"milestones\">\n            <h3>\n              Milestones\n              {(refund.status === \"approved\" ||\n                refund.status === \"shipped\" ||\n                refund.status === \"delivered\") && (\n                <button onClick={() => setMilestoneForm(true)}>\n                  Request Milestone\n                </button>\n              )}\n            </h3>\n            {refund.status == \"pending\" ? (\n              <p>You can create milestones after seller accepts your order.</p>\n            ) : (\n              <table cellSpacing={0} cellPadding={0}>\n                <thead>\n                  <tr>\n                    <td>Date</td>\n                    <td>Descrption</td>\n                    <td>Amount</td>\n                    <td>Status</td>\n                  </tr>\n                </thead>\n                <tbody>\n                  {refund.milestones.map((milestone) => (\n                    <tr\n                      key={milestone._id}\n                      onClick={() =>\n                        history.push(`/account/hold?q=${milestone._id}`)\n                      }\n                    >\n                      <td>\n                        <Moment format=\"DD MMM YYYY, hh:mma\">\n                          {milestone.createdAt}\n                        </Moment>\n                      </td>\n                      <td>{milestone.dscr}</td>\n                      <td>{milestone.amount}</td>\n                      <td>{milestone.status}</td>\n                    </tr>\n                  ))}\n                  {refund.milestones.length === 0 && (\n                    <tr className=\"placeholdert\">\n                      <td>Nothing yet.</td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            )}\n          </div>\n          <section className=\"terms\">\n            <h3>Return Policy Terms</h3>\n            <ul>\n              {order.terms?.map((item, i) => (\n                <li key={i}>{item}</li>\n              ))}\n              {!order.terms?.length && (\n                <li>No terms has been set by the seller yet.</li>\n              )}\n            </ul>\n          </section>\n        </div>\n        <Modal\n          head={true}\n          label=\"Request Milestone\"\n          setOpen={setMilestoneForm}\n          className=\"milestoneRequest\"\n          open={milestoneForm}\n        >\n          <MilestoneForm\n            action=\"request\"\n            definedAmount={order.total - order.shippingCost}\n            client={order.seller}\n            refund={refund._id}\n            onSuccess={(milestone) => {\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been requested</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n              setRefund((prev) => ({\n                ...prev,\n                milestones: [...prev.milestones, milestone],\n              }));\n            }}\n          />\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </>\n    );\n  }\n  return <>Loading</>;\n};\n\nexport const Disputes = ({ status }) => {\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(20);\n  const [search, setSearch] = useState(\"\");\n  const [dateOpen, setDateOpen] = useState(\"\");\n  const [sort, setSort] = useState({\n    column: \"createdAt\",\n    order: \"dsc\",\n  });\n  const [disputes, setDisputes] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  const [batch, setBatch] = useState([]);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    fetch(\n      `/api/getDisputes?${new URLSearchParams({\n        ...(search && { q: search }),\n        page,\n        perPage,\n        sort: sort.column,\n        order: sort.order,\n        ...(status && { status }),\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setDisputes(data.disputes);\n          setTotal(data.total);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get orders.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [search, page, perPage, status]);\n  useEffect(() => {\n    if (selectAll) {\n    } else {\n      setBatch([]);\n    }\n  }, [selectAll]);\n  useEffect(() => {\n    if (batch.length === 0) {\n      setSelectAll(false);\n    }\n  }, [batch]);\n  return (\n    <div className=\"productContainer\">\n      {\n        <div className=\"benner\">\n          <p>My Disputes</p>\n        </div>\n      }\n      {\n        //   <div className=\"filters\">\n        //   <section>\n        //     <label>Total:</label>\n        //     {total}\n        //   </section>\n        //   <section>\n        //     <label>Per Page:</label>\n        //     <Combobox\n        //       defaultValue={0}\n        //       options={[\n        //         { label: \"20\", value: 20 },\n        //         { label: \"30\", value: 30 },\n        //         { label: \"50\", value: 50 },\n        //       ]}\n        //       onChange={(e) => setPerPage(e.value)}\n        //     />\n        //   </section>\n        //   <section className=\"search\">\n        //     <svg\n        //       xmlns=\"http://www.w3.org/2000/svg\"\n        //       width=\"23\"\n        //       height=\"23\"\n        //       viewBox=\"0 0 23 23\"\n        //     >\n        //       <path\n        //         id=\"Icon_ionic-ios-search\"\n        //         data-name=\"Icon ionic-ios-search\"\n        //         d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n        //         transform=\"translate(-4.5 -4.493)\"\n        //         fill=\"#707070\"\n        //         opacity=\"0.74\"\n        //       />\n        //     </svg>\n        //     <input\n        //       value={search}\n        //       onChange={(e) => setSearch(e.target.value)}\n        //       placeholder=\"Search for Seller\"\n        //     />\n        //     {search && (\n        //       <button onClick={() => setSearch(\"\")}>\n        //         <X_svg />\n        //       </button>\n        //     )}\n        //   </section>\n        //   <section className=\"category\">\n        //     <label>Type:</label>\n        //     <Combobox\n        //       defaultValue={0}\n        //       options={[\n        //         { label: \"All\", value: \"\" },\n        //         { label: \"Product\", value: \"product\" },\n        //         { label: \"Service\", value: \"service\" },\n        //         { label: \"Other\", value: \"other\" },\n        //       ]}\n        //       onChange={(e) => setType(e.value)}\n        //     />\n        //   </section>\n        //   <section\n        //     className={`date ${dateFilter ? \"open\" : \"\"}`}\n        //     ref={dateFilterRef}\n        //     onClick={() => setDateOpen(true)}\n        //   >\n        //     <svg\n        //       xmlns=\"http://www.w3.org/2000/svg\"\n        //       width=\"30.971\"\n        //       height=\"30.971\"\n        //       viewBox=\"0 0 30.971 30.971\"\n        //     >\n        //       <path\n        //         id=\"Path_299\"\n        //         data-name=\"Path 299\"\n        //         d=\"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z\"\n        //         fill=\"#336cf9\"\n        //       />\n        //     </svg>\n        //     {dateFilter && (\n        //       <>\n        //         <div className=\"dates\">\n        //           <p>\n        //             From:{\" \"}\n        //             <Moment format=\"DD MMM, YYYY\">{dateRange.startDate}</Moment>\n        //           </p>\n        //           <p>\n        //             To: <Moment format=\"DD MMM, YYYY\">{dateRange.endDate}</Moment>\n        //           </p>\n        //         </div>\n        //         <button\n        //           className=\"clearDateFilter\"\n        //           onClick={() => {\n        //             setDateRange({\n        //               startDate: new Date(),\n        //               endDate: new Date(),\n        //             });\n        //             setDateFilter(false);\n        //           }}\n        //         >\n        //           <X_svg />\n        //         </button>\n        //       </>\n        //     )}\n        //   </section>\n        // </div>\n      }\n      {batch.length > 0 && (\n        <div className=\"batchAction\">\n          <button onClick={() => console.log(\"batch delete\")}>Delete</button>\n        </div>\n      )}\n      <table className=\"table disuptes\">\n        <thead>\n          <tr>\n            <th className=\"date\">Raised at</th>\n            <th>User</th>\n            <th>Issue</th>\n            <th>Status</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {disputes.map((dispute) => (\n            <SingleDispute\n              key={dispute._id}\n              dispute={dispute}\n              setDisputes={setDisputes}\n            />\n          ))}\n          {disputes.length === 0 && (\n            <tr className=\"placeholder\">\n              <td>No Dispute yet.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      <Pagination\n        total={total}\n        btns={5}\n        currentPage={page}\n        perPage={perPage}\n        setPage={setPage}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\nconst SingleDispute = ({ dispute, setDisputes }) => {\n  const actionsRef = useRef();\n  const checkRef = useRef();\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [edit, setEdit] = useState(false);\n  const [msg, setMsg] = useState(false);\n  const client = dispute.plaintiff._id === user._id ? \"defendant\" : \"plaintiff\";\n  return (\n    <>\n      <tr\n        className={`dispute`}\n        onClick={(e) => {\n          if (\n            e.nativeEvent.path.includes(actionsRef.current) ||\n            e.nativeEvent.path.includes(checkRef.current)\n          ) {\n          } else {\n            history.push(`${history.location.pathname}/${dispute._id}`);\n          }\n        }}\n      >\n        <td className=\"date\">\n          <Moment format=\"DD MMM YYYY\">{dispute.createdAt}</Moment>\n        </td>\n        <td>\n          <User user={dispute[client]} />\n        </td>\n        <td>{dispute.issue}</td>\n        <td>{dispute.status}</td>\n        <td ref={actionsRef}>\n          <Actions icon={<Chev_down_svg />}>\n            <Link to={`${history.location.pathname}/${dispute._id}`}>\n              View Detail\n            </Link>\n          </Actions>\n        </td>\n      </tr>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport const FullDispute = ({ history, location, match }) => {\n  const [data, setData] = useState(null);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    fetch(`/api/singleDispute?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setData(data.dispute);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get Dispute. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  if (data) {\n    return (\n      <div className={`singleDispute ${data.status}`}>\n        <div className=\"disputeSummery\">\n          <div className=\"benner\">Dispute Summery</div>\n          <ul className=\"disputeDetail\">\n            <li>\n              <label>Dispute ID:</label>\n              <div className=\"data\">{data._id}</div>\n            </li>\n            <li>\n              <label>Status:</label>\n              <div className=\"data\">{data.status}</div>\n            </li>\n            <li>\n              <label>Issue:</label>\n              <div className=\"data\">{data.issue}</div>\n            </li>\n            <li>\n              <label>Issued by:</label>\n              <div className=\"data\">{data.plaintiff.role}</div>\n            </li>\n            <li>\n              <label>Dispute filed:</label>\n              <div className=\"data\">\n                <Moment format=\"hh:mm a, DD MMM, YYYY\">{data.createdAt}</Moment>\n              </div>\n            </li>\n            <li>\n              <label>Milestone amount:</label>\n              <div className=\"data\"> {data.milestone.amount}</div>\n            </li>\n            <li>\n              <label>Milestone description:</label>\n              <div className=\"data\">{data.milestone.dscr}</div>\n            </li>\n            <li>\n              <label>Milestone products:</label>\n              <div className=\"data\">\n                {data.milestone.products?.map((item, i) => (\n                  <li key={i}>{item.name}</li>\n                ))}\n                {data.milestone.products?.length ? null : \"No product selected\"}\n              </div>\n            </li>\n            <li>\n              <label>Milestone created:</label>\n              <div className=\"data\">\n                <Moment format=\"hh:mm a, DD MMM, YYYY\">\n                  {data.milestone.createdAt}\n                </Moment>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <Case role=\"plaintiff\" dispute={data} setData={setData} />\n        <Case role=\"defendant\" dispute={data} setData={setData} />\n        <Modal open={msg} className=\"msg\">\n          {msg}\n        </Modal>\n      </div>\n    );\n  }\n  return (\n    <div className=\"singleDispute loading\">\n      <div className=\"disputeSummery\">\n        <div className=\"benner\">Dispute Summery</div>\n        <ul>\n          <li>\n            <div />\n            <div />\n          </li>\n          <li>\n            <div />\n            <div />\n          </li>\n          <li>\n            <div />\n            <div />\n          </li>\n        </ul>\n      </div>\n      <div className=\"plaintiff\">\n        <div className=\"benner\">Plaintiff</div>\n        <div className=\"user\">\n          <div className=\"img\" />\n          <div className=\"name\" />\n        </div>\n        <ul className=\"detail\">\n          <li>\n            <div />\n            <div />\n          </li>\n          <li>\n            <div />\n            <div />\n          </li>\n          <li>\n            <div />\n            <div />\n          </li>\n        </ul>\n      </div>\n      <div className=\"defendant\">\n        <div className=\"benner\">Defendant</div>\n        <div className=\"user\">\n          <div className=\"img\" />\n          <div className=\"name\" />\n        </div>\n        <ul className=\"detail\">\n          <li>\n            <div />\n            <div />\n          </li>\n          <li>\n            <div />\n            <div />\n          </li>\n          <li>\n            <div />\n            <div />\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst Case = ({ role, dispute, setData }) => {\n  const [msg, setMsg] = useState(null);\n  const resolveDispute = (winner) => {\n    fetch(\"/api/resolveDispute\", {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        _id: dispute._id,\n        winner,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Succ_svg />\n                <h4>Dispute Successfully resolved.</h4>\n              </div>\n            </>\n          );\n          setData((prev) => ({\n            ...prev,\n            winner: data.dispute.winner,\n            status: data.dispute.status,\n          }));\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>{data.message}</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>\n                Dispute Could not be resolved. Make sure you' a're online.\n              </h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <div\n      className={`${role} ${dispute[role].role} ${\n        dispute.winner === dispute[role]._id ? \"winner\" : \"\"\n      }`}\n    >\n      <div className=\"benner\">\n        {role}\n        {dispute.status === \"pendingVerdict\" && dispute.defendant.case?.dscr && (\n          <button\n            onClick={() =>\n              Confirm({\n                className: \"disputeResolveConfirm\",\n                label: \"Dispute resolve\",\n                question: (\n                  <>\n                    Are you sure{\" \"}\n                    <span className=\"name\">\n                      {dispute[role].firstName + \" \" + dispute[role].lastName}\n                    </span>{\" \"}\n                    <span className=\"role\">({role})</span> is the winner of this\n                    dispute?\n                  </>\n                ),\n                callback: () => resolveDispute(dispute[role]._id),\n              })\n            }\n          >\n            Winner\n          </button>\n        )}\n        {dispute.winner === dispute[role]._id && (\n          <p className=\"winnerTag\">Winner</p>\n        )}\n      </div>\n      <div className=\"content\">\n        <div className=\"user\">\n          <Img src={dispute[role].profileImg || \"/profile-user.jpg\"} />\n          <p className=\"name\">\n            {dispute[role].firstName + \" \" + dispute[role].lastName}\n            <span className=\"phone\">{dispute[role].phone}</span>\n          </p>\n        </div>\n        {dispute[role].case?.dscr ? (\n          <ul className=\"detail\">\n            <li>\n              <label>Role:</label> <div>{dispute[role].role}</div>\n            </li>\n            <li>\n              <label>Current Balance:</label>{\" \"}\n              <div> {dispute[role].balance?.fix()}</div>\n            </li>\n            <li>\n              <label>Case:</label>{\" \"}\n              <div>{dispute[role].case?.dscr || \"N/A\"}</div>\n            </li>\n            <li>\n              <label>Evidence:</label>{\" \"}\n              <div className=\"thumbs\">\n                {dispute[role].case?.files?.length ? (\n                  <Media links={dispute[role].case?.files} />\n                ) : (\n                  \"N/A\"\n                )}\n              </div>\n            </li>\n          </ul>\n        ) : (\n          <p className=\"noRes\">Has not responded yet.</p>\n        )}\n      </div>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst MyShopping = () => {\n  const { userType } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    fetch(\"/api/categories\")\n      .then((res) => res.json())\n      .then((data) => {\n        setCategories(data.categories);\n      });\n  }, []);\n  return (\n    <>\n      {userType === \"seller\" && <Redirect to=\"/account/orders/current\" />}\n      <div className=\"productContainer\">\n        <div style={{ display: \"none\" }}>\n          <X_svg />\n        </div>\n        {\n          //   <Tabs\n          //   basepath=\"/account/myShopping/\"\n          //   tabs={[\n          //     { label: \"Orders\", path: \"orders\" },\n          //     { label: \"Refunds\", path: \"refunds\" },\n          //   ]}\n          // />\n        }\n        <Switch>\n          <Route path=\"/account/myShopping/orders/:_id\" component={FullOrder} />\n          <Route path=\"/account/myShopping/orders\" component={Orders} />\n          <Route\n            path=\"/account/myShopping/refunds/:_id\"\n            component={FullRefund}\n          />\n          <Route path=\"/account/myShopping/Refunds\" component={Refunds} />\n        </Switch>\n        {\n          // <Route path=\"/account/myShop/settings\">\n          //   <Settings categories={categories} setCategories={setCategories} />\n          // </Route>\n        }\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n    </>\n  );\n};\nexport default MyShopping;\n","import {\n  useState,\n  useEffect,\n  useContext,\n  useCallback,\n  useRef,\n  lazy,\n} from \"react\";\nimport { SiteContext, ChatContext, socket } from \"../SiteContext\";\nimport { Route, Switch, useHistory, Link, useLocation } from \"react-router-dom\";\nimport { Modal } from \"./Modal.js\";\nimport {\n  Combobox,\n  NumberInput,\n  Err_svg,\n  Succ_svg,\n  X_svg,\n  Plus_svg,\n  Minus_svg,\n  Footer,\n  Actions,\n  Cart_svg,\n  calculatePrice,\n  Img,\n  Moment,\n  Chev_down_svg,\n} from \"./Elements\";\nimport { AddressForm } from \"./Forms\";\nimport Hold from \"./Hold.js\";\nimport Transactions, { StartTransaction } from \"./Transactions\";\nimport Wallet from \"./Wallet\";\nimport MyShop from \"./MyShop\";\nimport Support, { SingleTicket } from \"./Support\";\nimport Profile from \"./Profile\";\nimport Marketplace, { SingleProduct, Cart, CartItem } from \"./Marketplace\";\nimport Deals from \"./Deals\";\nimport MyShopping, {\n  Orders,\n  FullOrder,\n  Disputes,\n  FullDispute,\n} from \"./myShopping\";\nimport OrderManagement from \"./OrderManagement\";\nimport { GoogleLogout } from \"react-google-login\";\nimport {\n  EmailShareButton,\n  FacebookShareButton,\n  HatenaShareButton,\n  InstapaperShareButton,\n  LineShareButton,\n  LinkedinShareButton,\n  LivejournalShareButton,\n  MailruShareButton,\n  OKShareButton,\n  PinterestShareButton,\n  PocketShareButton,\n  RedditShareButton,\n  TelegramShareButton,\n  TumblrShareButton,\n  TwitterShareButton,\n  ViberShareButton,\n  VKShareButton,\n  WhatsappShareButton,\n  WorkplaceShareButton,\n  EmailIcon,\n  FacebookIcon,\n  FacebookMessengerIcon,\n  HatenaIcon,\n  InstapaperIcon,\n  LineIcon,\n  LinkedinIcon,\n  LivejournalIcon,\n  MailruIcon,\n  OKIcon,\n  PinterestIcon,\n  PocketIcon,\n  RedditIcon,\n  TelegramIcon,\n  TumblrIcon,\n  TwitterIcon,\n  ViberIcon,\n  VKIcon,\n  WeiboIcon,\n  WhatsappIcon,\n  WorkplaceIcon,\n} from \"react-share\";\nimport \"react-date-range/dist/styles.css\";\nimport \"react-date-range/dist/theme/default.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nconst QRCode = lazy(() => import(\"qrcode.react\"));\nrequire(\"./styles/account.scss\");\nrequire(\"./styles/generic.scss\");\n\nconst Home = () => {\n  const { userType, setUserType } = useContext(SiteContext);\n  const history = useHistory();\n  const [value, setValue] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [recentPayments, setRecentPayments] = useState([]);\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [client, setClient] = useState(null);\n  const [msg, setMsg] = useState(null);\n  const milestoneTimeout = useRef();\n  useEffect(() => {\n    fetch(\"/api/recentPayments\")\n      .then((res) => res.json())\n      .then((data) => {\n        setRecentPayments(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    fetch(\n      `/api/getOrders?${new URLSearchParams({\n        user: \"buyer\",\n        perPage: 5,\n      })}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setRecentOrders(data.orders);\n        }\n      });\n  }, []);\n  useEffect(() => {\n    if (history.location.pathname === \"/account/home/pay\" && !client) {\n      history.push(\"/account/home\");\n    }\n  }, []);\n  return (\n    <div className=\"homeContainer\">\n      <div className=\"benner\">\n        <h4>Start transactions with Delivery pay</h4>\n        <p>Connect with new buyers/sellers.</p>\n        {\n          // <p>Let us help you make the safest transaction</p>\n        }\n      </div>\n      <div className=\"userType\">\n        <div className={`option buyer ${userType === \"buyer\" && \"active\"}`}>\n          <Img src=\"/buyer.png\" />\n          <div className=\"btn\" onClick={(e) => setUserType(\"buyer\")}>\n            <p>I am a Buyer </p>\n            <div className=\"radial\">\n              {userType === \"buyer\" && <div className=\"fill\" />}\n            </div>\n          </div>\n        </div>\n        <div className={`option seller ${userType === \"seller\" && \"active\"}`}>\n          <Img src=\"/seller.png\" />\n          <div className=\"btn\" onClick={(e) => setUserType(\"seller\")}>\n            <p>I am a Seller </p>\n            <div className=\"radial\">\n              {userType === \"seller\" && <div className=\"fill\" />}\n            </div>\n          </div>\n        </div>\n      </div>\n      <UserSearch setClient={setClient} />\n      <div className=\"recentPayments\">\n        <p className=\"label\">\n          Recently Contacted\n          <span className=\"note\">\n            {userType === \"buyer\"\n              ? \"Click to start chatting.\"\n              : \"Click to request a milestone.\"}\n          </span>\n        </p>\n        <ul className=\"payments\">\n          {recentPayments.map((user) => (\n            <li key={user._id}>\n              <Link\n                // target={userType === \"buyer\" ? \"_blank\" : \"\"}\n                // to={`/account/marketplace?seller=${user._id}`}\n                to={\n                  userType === \"buyer\"\n                    ? `/account/deals/${user._id}`\n                    : \"/account/home/requestMilestone\"\n                }\n                onClick={() => {\n                  setClient(user);\n                }}\n              >\n                <Img src={user.profileImg} />\n                <p className=\"name\">{user.firstName + \" \" + user.lastName}</p>\n              </Link>\n            </li>\n          ))}\n          {recentPayments.length === 0 && <p>Nothing for now.</p>}\n        </ul>\n      </div>\n      <div className=\"recentOrders\">\n        <p className=\"label\">\n          Recent Orders\n          <span className=\"note\">Click to view order details.</span>\n        </p>\n        <ul className=\"orders\">\n          {recentOrders.map((order) => (\n            <Link\n              key={order._id}\n              to={`/account/orders/${\n                order.status === \"pending\" ? \"pending\" : \"current\"\n              }/${order._id}`}\n            >\n              <li>\n                <ul>\n                  <li>\n                    <label>Seller</label>\n                    <p>\n                      {order.seller.firstName + \" \" + order.seller.lastName}\n                    </p>\n                  </li>\n                  <li>\n                    <label>QTY</label>\n                    <p>{order.products.length}</p>\n                  </li>\n                  <li>\n                    <label>Total</label>\n                    <h3>{order.total}</h3>\n                  </li>\n                </ul>\n              </li>\n            </Link>\n          ))}\n          {recentOrders.length === 0 && <p>Nothing for now.</p>}\n        </ul>\n      </div>\n      <Footer />\n      <Route path={\"/account/home/createMilestone\"}>\n        <Modal\n          open={true}\n          head={true}\n          label=\"Create Milestone\"\n          setOpen={() => {\n            history.push(\"/account/home\");\n            setClient(null);\n          }}\n          className=\"milestoneRequest\"\n        >\n          <MilestoneForm\n            action=\"create\"\n            client={client}\n            onSuccess={(milestone) => {\n              history.push(\"/account/home\");\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been created</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </Route>\n      <Route path={\"/account/home/requestMilestone\"}>\n        <Modal\n          open={true}\n          head={true}\n          label=\"Request Milestone\"\n          setOpen={() => {\n            history.push(\"/account/home\");\n            setClient(null);\n          }}\n          className=\"milestoneRequest\"\n        >\n          <MilestoneForm\n            action=\"request\"\n            client={client}\n            onSuccess={(milestone) => {\n              history.push(\"/account/home\");\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4 className=\"amount\">{milestone?.amount}</h4>\n                    <h4>Milestone has been requested</h4>\n                  </div>\n                  <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                    Check your Delivery pay Hold\n                  </Link>\n                </>\n              );\n            }}\n          />\n        </Modal>\n      </Route>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nexport const UserSearch = ({ setClient }) => {\n  const { userType } = useContext(SiteContext);\n  const history = useHistory();\n  const [msg, setMsg] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [showUsers, setShowUsers] = useState(false);\n  const formRef = useRef();\n  const inviteUser = useCallback(() => {\n    const phoneReg = new RegExp(/^(\\+91|91|1|)(?=\\d{10}$)/gi);\n    if (phoneReg.test(value.toLowerCase())) {\n      fetch(\n        `/api/inviteUser?${new URLSearchParams({\n          q: \"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\"),\n          origin: window.location.origin,\n        }).toString()}`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data);\n          if (data.code === \"ok\") {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  {\n                    // <h4>Invitation sent.</h4>\n                  }\n                  <h4>\n                    An invitaion has been sent to{\" \"}\n                    {\"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\")}.\n                  </h4>\n                </div>\n              </>\n            );\n          } else {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Err_svg />\n                  <h4>Invitation could not be sent. Please try again.</h4>\n                </div>\n              </>\n            );\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Invitation could not be sent. Make sure you're online.</h4>\n              </div>\n            </>\n          );\n        });\n    } else {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Enter a valid phone number to send invitation.</h4>\n          </div>\n        </>\n      );\n    }\n  }, [value]);\n  const fetchUsers = () => {\n    fetch(`/api/getUsers?q=${encodeURIComponent(value)}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data) {\n          setUsers(data);\n        }\n      });\n    if (value === \"\") {\n      setUsers([]);\n    }\n  };\n  const documentClickHandler = (e) => {\n    if (e.path.includes(formRef.current)) {\n    } else {\n      setShowUsers(false);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"click\", documentClickHandler);\n    return () => {\n      document.removeEventListener(\"click\", documentClickHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (value) {\n      fetchUsers();\n    } else {\n      setUsers([]);\n    }\n  }, [value]);\n  return (\n    <div className=\"search\">\n      <form onSubmit={(e) => e.preventDefault()} ref={formRef}>\n        <section>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"17.9\"\n            height=\"17.9\"\n            viewBox=\"0 0 17.9 17.9\"\n          >\n            <path\n              id=\"Path_208\"\n              data-name=\"Path 208\"\n              d=\"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z\"\n              transform=\"translate(0)\"\n              fill=\"#b9b9b9\"\n            />\n          </svg>\n          <input\n            label=\"search\"\n            required={true}\n            placeholder=\"Search with Phone Number or Delivery pay ID\"\n            onFocus={() => setShowUsers(true)}\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n          />\n          <Link\n            className={`sendReq ${\n              users.length > 0 || !value ? \"disabled\" : \"\"\n            }`}\n            onClick={inviteUser}\n            to=\"#\"\n          >\n            Invite\n          </Link>\n        </section>\n        {showUsers && users.length ? (\n          <ul className=\"searchResult\">\n            {users.map((user, i) => (\n              <Link\n                key={i}\n                target={userType === \"buyer\" ? \"_blank\" : \"\"}\n                onClick={() => setClient(user)}\n                to={{\n                  pathname:\n                    userType === \"seller\"\n                      ? \"/account/home/createMilestone\"\n                      : `/marketplace?seller=${user._id}`,\n                }}\n              >\n                <li key={i}>\n                  <div className=\"profile\">\n                    <Img src={user.profileImg} />\n                    <p className=\"name\">\n                      {user.firstName + \" \" + user.lastName}\n                      <span className=\"phone\">{user.phone}</span>\n                    </p>\n                  </div>\n                  <span className=\"sendReq\">\n                    {userType === \"seller\"\n                      ? \"Request milestone\"\n                      : \"Show Products & Services\"}\n                  </span>\n                </li>\n              </Link>\n            ))}\n          </ul>\n        ) : null}\n      </form>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nfunction Account() {\n  const { user, userType } = useContext(SiteContext);\n  const { unread } = useContext(ChatContext);\n  const history = useHistory();\n  const location = useLocation();\n  useEffect(() => {\n    if (!socket.connected) {\n      socket.connect();\n    }\n  }, []);\n  return (\n    <div\n      className={`account ${\n        location.pathname.startsWith(\"/account/deals/\") ? \"chatSection\" : \"\"\n      }`}\n    >\n      <header>\n        <Link to=\"/\">\n          <Img className=\"logo\" src=\"/logo_land.jpg\" alt=\"Delivery pay logo\" />\n          <Img\n            className=\"logo_small\"\n            src=\"/logo_sqr.jpg\"\n            alt=\"Delivery pay logo\"\n          />\n        </Link>\n        <div className=\"links\">\n          <Link to=\"/\" className=\"home\">\n            Home\n          </Link>\n        </div>\n        <UserTypeSwitch />\n        <ProfileAvatar />\n      </header>\n      <div className=\"content\">\n        <ul className=\"sidebar\">\n          <li\n            className={\n              location.pathname === \"/account\" ||\n              location.pathname.startsWith(\"/account/home\")\n                ? \"active\"\n                : undefined\n            }\n          >\n            <Link to=\"/account/home\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"21.648\"\n                  height=\"21.513\"\n                  viewBox=\"0 0 21.648 21.513\"\n                >\n                  <path\n                    id=\"Path_287\"\n                    data-name=\"Path 287\"\n                    d=\"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z\"\n                    transform=\"translate(-0.008 0.011)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </div>\n              Home\n            </Link>\n          </li>\n          {\n            //   <li\n            //   className={\n            //     location.pathname.startsWith(\"/account/wallet\")\n            //       ? \"active\"\n            //       : undefined\n            //   }\n            // >\n            //   <Link to=\"/account/wallet\">\n            //     <div className=\"icon\">\n            //       <svg\n            //         xmlns=\"http://www.w3.org/2000/svg\"\n            //         width=\"20.886\"\n            //         height=\"22.948\"\n            //         viewBox=\"0 0 20.886 22.948\"\n            //       >\n            //         <g\n            //           id=\"Rectangle_2\"\n            //           data-name=\"Rectangle 2\"\n            //           fill=\"none\"\n            //           stroke=\"#fff\"\n            //           strokeWidth=\"2\"\n            //         >\n            //           <rect width=\"20.886\" height=\"16.244\" rx=\"2\" stroke=\"none\" />\n            //           <rect\n            //             x=\"1\"\n            //             y=\"1\"\n            //             width=\"18.886\"\n            //             height=\"14.244\"\n            //             rx=\"1\"\n            //             fill=\"none\"\n            //           />\n            //         </g>\n            //         <g\n            //           id=\"Rectangle_3\"\n            //           data-name=\"Rectangle 3\"\n            //           transform=\"translate(0 9.283)\"\n            //           fill=\"none\"\n            //           stroke=\"#fff\"\n            //           strokeWidth=\"2\"\n            //         >\n            //           <rect width=\"20.886\" height=\"6.962\" rx=\"2\" stroke=\"none\" />\n            //           <rect\n            //             x=\"1\"\n            //             y=\"1\"\n            //             width=\"18.886\"\n            //             height=\"4.962\"\n            //             rx=\"1\"\n            //             fill=\"none\"\n            //           />\n            //         </g>\n            //         <path\n            //           id=\"Path_2\"\n            //           data-name=\"Path 2\"\n            //           d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n            //           transform=\"translate(186.6 197.025)\"\n            //           fill=\"#fff\"\n            //         />\n            //       </svg>\n            //     </div>\n            //     Wallet\n            //   </Link>\n            // </li>\n          }\n          <Accordion\n            className={`${\n              location.pathname.startsWith(\"/account/transaction\")\n                ? \"active\"\n                : \"\"\n            }`}\n            location={location}\n            label={\n              <>\n                <div className=\"icon\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"20.886\"\n                    height=\"22.948\"\n                    viewBox=\"0 0 20.886 22.948\"\n                  >\n                    <g\n                      id=\"Rectangle_2\"\n                      data-name=\"Rectangle 2\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect\n                        width=\"20.886\"\n                        height=\"16.244\"\n                        rx=\"2\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"18.886\"\n                        height=\"14.244\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                    <g\n                      id=\"Rectangle_3\"\n                      data-name=\"Rectangle 3\"\n                      transform=\"translate(0 9.283)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect\n                        width=\"20.886\"\n                        height=\"6.962\"\n                        rx=\"2\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"18.886\"\n                        height=\"4.962\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                    <path\n                      id=\"Path_2\"\n                      data-name=\"Path 2\"\n                      d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n                      transform=\"translate(186.6 197.025)\"\n                      fill=\"#fff\"\n                    />\n                  </svg>\n                </div>\n                <p className=\"label\">Start Transaction</p>\n              </>\n            }\n            link=\"/account/transaction\"\n            path=\"/account/transaction/new\"\n          >\n            <li\n              className={\n                location.pathname.startsWith(\"/account/transaction/new\")\n                  ? \"active\"\n                  : undefined\n              }\n            >\n              <Link to=\"/account/transaction/new\">Start New</Link>\n            </li>\n            <li\n              className={\n                location.pathname.startsWith(\"/account/transaction/history\")\n                  ? \"active\"\n                  : undefined\n              }\n            >\n              <Link to=\"/account/transaction/history\">Transaction History</Link>\n            </li>\n          </Accordion>\n          {userType === \"buyer\" && (\n            <Accordion\n              className={`${\n                location.pathname.startsWith(\"/account/orders\") ? \"active\" : \"\"\n              }`}\n              location={location}\n              label={\n                <>\n                  <div className=\"icon\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"20.886\"\n                      height=\"22.948\"\n                      viewBox=\"0 0 20.886 22.948\"\n                    >\n                      <g\n                        id=\"Rectangle_2\"\n                        data-name=\"Rectangle 2\"\n                        fill=\"none\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                      >\n                        <rect\n                          width=\"20.886\"\n                          height=\"16.244\"\n                          rx=\"2\"\n                          stroke=\"none\"\n                        />\n                        <rect\n                          x=\"1\"\n                          y=\"1\"\n                          width=\"18.886\"\n                          height=\"14.244\"\n                          rx=\"1\"\n                          fill=\"none\"\n                        />\n                      </g>\n                      <g\n                        id=\"Rectangle_3\"\n                        data-name=\"Rectangle 3\"\n                        transform=\"translate(0 9.283)\"\n                        fill=\"none\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                      >\n                        <rect\n                          width=\"20.886\"\n                          height=\"6.962\"\n                          rx=\"2\"\n                          stroke=\"none\"\n                        />\n                        <rect\n                          x=\"1\"\n                          y=\"1\"\n                          width=\"18.886\"\n                          height=\"4.962\"\n                          rx=\"1\"\n                          fill=\"none\"\n                        />\n                      </g>\n                      <path\n                        id=\"Path_2\"\n                        data-name=\"Path 2\"\n                        d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n                        transform=\"translate(186.6 197.025)\"\n                        fill=\"#fff\"\n                      />\n                    </svg>\n                  </div>\n                  <p className=\"label\">My Orders</p>\n                </>\n              }\n              link=\"/account/orders\"\n              path=\"/account/orders/current\"\n            >\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/current\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/current\">Current Order</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/pending\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/pending\">Pending Order</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/history\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/history\">Order History</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/orders/dispute\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/orders/dispute\">Dispute Resolution</Link>\n              </li>\n              {\n                //   <li\n                //   className={\n                //     location.pathname.startsWith(\"/account/orders/track\")\n                //       ? \"active\"\n                //       : undefined\n                //   }\n                // >\n                //   <Link to=\"/account/orders/track\">Track Order</Link>\n                // </li>\n              }\n            </Accordion>\n          )}\n          <li\n            className={`hold ${\n              location.pathname.startsWith(\"/account/hold\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/hold\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"22\"\n                  height=\"27\"\n                  viewBox=\"0 0 22 27\"\n                >\n                  <text\n                    id=\"_3\"\n                    data-name=\"3\"\n                    transform=\"translate(14 14) rotate(180)\"\n                    fill=\"#fff\"\n                    fontSize=\"10\"\n                    fontFamily=\"Ebrima-Bold, Ebrima\"\n                    fontWeight=\"700\"\n                  >\n                    <tspan x=\"0\" y=\"0\">\n                      3\n                    </tspan>\n                  </text>\n                  <g\n                    id=\"Group_166\"\n                    data-name=\"Group 166\"\n                    transform=\"translate(-534.967 -611.816)\"\n                  >\n                    <g\n                      id=\"Rectangle_1132\"\n                      data-name=\"Rectangle 1132\"\n                      transform=\"translate(534.967 620.816)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect width=\"22\" height=\"18\" rx=\"4\" stroke=\"none\" />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"20\"\n                        height=\"16\"\n                        rx=\"3\"\n                        fill=\"none\"\n                      />\n                    </g>\n                    <g\n                      id=\"Rectangle_1133\"\n                      data-name=\"Rectangle 1133\"\n                      transform=\"translate(539.967 611.816)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <path\n                        d=\"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z\"\n                        stroke=\"none\"\n                      />\n                      <path\n                        d=\"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z\"\n                        fill=\"none\"\n                      />\n                    </g>\n                  </g>\n                </svg>\n              </div>\n              Milestones\n            </Link>\n          </li>\n          {userType === \"seller\" && (\n            <li\n              className={`products ${\n                location.pathname.startsWith(\"/account/myShop\")\n                  ? \"active\"\n                  : undefined\n              }`}\n            >\n              <Link to=\"/account/myShop/products\">\n                <div className=\"icon\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"19.872\"\n                    height=\"21.086\"\n                    viewBox=\"0 0 19.872 21.086\"\n                  >\n                    <g\n                      id=\"Group_4\"\n                      data-name=\"Group 4\"\n                      transform=\"translate(0 5.63)\"\n                    >\n                      <g id=\"Path_288\" data-name=\"Path 288\" fill=\"none\">\n                        <path\n                          d=\"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z\"\n                          stroke=\"none\"\n                        />\n                        <path\n                          d=\"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z\"\n                          stroke=\"none\"\n                          fill=\"#fff\"\n                        />\n                      </g>\n                      <g\n                        id=\"Rectangle_3\"\n                        data-name=\"Rectangle 3\"\n                        transform=\"translate(0 8.832)\"\n                        fill=\"none\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                      >\n                        <rect\n                          width=\"19.872\"\n                          height=\"6.624\"\n                          rx=\"2\"\n                          stroke=\"none\"\n                        />\n                        <rect\n                          x=\"1\"\n                          y=\"1\"\n                          width=\"17.872\"\n                          height=\"4.624\"\n                          rx=\"1\"\n                          fill=\"none\"\n                        />\n                      </g>\n                    </g>\n                    <g\n                      id=\"Rectangle_1134\"\n                      data-name=\"Rectangle 1134\"\n                      transform=\"translate(4)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <path\n                        d=\"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"10\"\n                        height=\"5\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                  </svg>\n                </div>\n                My Shop\n              </Link>\n            </li>\n          )}\n          {\n            //   <li\n            //   className={`trans ${\n            //     location.pathname.startsWith(\"/account/transactions\")\n            //       ? \"active\"\n            //       : undefined\n            //   }`}\n            // >\n            //   <Link to=\"/account/transactions\">\n            //     <div className=\"icon\">\n            //       <svg\n            //         id=\"Group_283\"\n            //         data-name=\"Group 283\"\n            //         xmlns=\"http://www.w3.org/2000/svg\"\n            //         width=\"28.407\"\n            //         height=\"25.407\"\n            //         viewBox=\"0 0 28.407 25.407\"\n            //       >\n            //         <g\n            //           id=\"Path_4\"\n            //           data-name=\"Path 4\"\n            //           transform=\"translate(3)\"\n            //           fill=\"none\"\n            //         >\n            //           <path\n            //             d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n            //             stroke=\"none\"\n            //           />\n            //           <path\n            //             d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n            //             stroke=\"none\"\n            //             fill=\"#fff\"\n            //           />\n            //         </g>\n            //         <g\n            //           id=\"Polygon_1\"\n            //           data-name=\"Polygon 1\"\n            //           transform=\"translate(6.001 12.353) rotate(-150)\"\n            //           fill=\"#fff\"\n            //         >\n            //           <path\n            //             d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n            //             stroke=\"none\"\n            //           />\n            //           <path\n            //             d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n            //             stroke=\"none\"\n            //             fill=\"#fff\"\n            //           />\n            //         </g>\n            //         <g\n            //           id=\"Rectangle_4\"\n            //           data-name=\"Rectangle 4\"\n            //           transform=\"translate(0 11.86) rotate(-22)\"\n            //           fill=\"#3b2ab4\"\n            //           stroke=\"#3b2ab4\"\n            //           strokeWidth=\"1\"\n            //         >\n            //           <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n            //           <rect\n            //             x=\"0.5\"\n            //             y=\"0.5\"\n            //             width=\"5.929\"\n            //             height=\"3.619\"\n            //             fill=\"none\"\n            //           />\n            //         </g>\n            //         <g\n            //           id=\"Group_5\"\n            //           data-name=\"Group 5\"\n            //           transform=\"translate(15.704 4.888)\"\n            //         >\n            //           <line\n            //             id=\"Line_3\"\n            //             data-name=\"Line 3\"\n            //             y2=\"9.239\"\n            //             transform=\"translate(0 0)\"\n            //             fill=\"none\"\n            //             stroke=\"#fff\"\n            //             strokeWidth=\"2\"\n            //           />\n            //           <line\n            //             id=\"Line_4\"\n            //             data-name=\"Line 4\"\n            //             x2=\"6.929\"\n            //             y2=\"2.31\"\n            //             transform=\"translate(0 9.239)\"\n            //             fill=\"none\"\n            //             stroke=\"#fff\"\n            //             strokeWidth=\"2\"\n            //           />\n            //         </g>\n            //       </svg>\n            //     </div>\n            //     Delivery pay Transactions\n            //   </Link>\n            // </li>\n          }\n          {\n            //     <li\n            //       className={`products ${\n            //         location.pathname.startsWith(\"/account/orderManagement\")\n            //           ? \"active\"\n            //           : undefined\n            //       }`}\n            //     >\n            //       <Link to=\"/account/orderManagement\">\n            //         <div className=\"icon\">\n            //           <svg\n            //             xmlns=\"http://www.w3.org/2000/svg\"\n            //             width=\"19.872\"\n            //             height=\"21.086\"\n            //             viewBox=\"0 0 19.872 21.086\"\n            //           >\n            //             <g\n            //               id=\"Group_4\"\n            //               data-name=\"Group 4\"\n            //               transform=\"translate(0 5.63)\"\n            //             >\n            //               <g id=\"Path_288\" data-name=\"Path 288\" fill=\"none\">\n            //                 <path\n            //                   d=\"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z\"\n            //                   stroke=\"none\"\n            //                 />\n            //                 <path\n            //                   d=\"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z\"\n            //                   stroke=\"none\"\n            //                   fill=\"#fff\"\n            //                 />\n            //               </g>\n            //               <g\n            //                 id=\"Rectangle_3\"\n            //                 data-name=\"Rectangle 3\"\n            //                 transform=\"translate(0 8.832)\"\n            //                 fill=\"none\"\n            //                 stroke=\"#fff\"\n            //                 strokeWidth=\"2\"\n            //               >\n            //                 <rect\n            //                   width=\"19.872\"\n            //                   height=\"6.624\"\n            //                   rx=\"2\"\n            //                   stroke=\"none\"\n            //                 />\n            //                 <rect\n            //                   x=\"1\"\n            //                   y=\"1\"\n            //                   width=\"17.872\"\n            //                   height=\"4.624\"\n            //                   rx=\"1\"\n            //                   fill=\"none\"\n            //                 />\n            //               </g>\n            //             </g>\n            //             <g\n            //               id=\"Rectangle_1134\"\n            //               data-name=\"Rectangle 1134\"\n            //               transform=\"translate(4)\"\n            //               fill=\"none\"\n            //               stroke=\"#fff\"\n            //               strokeWidth=\"2\"\n            //             >\n            //               <path\n            //                 d=\"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z\"\n            //                 stroke=\"none\"\n            //               />\n            //               <rect\n            //                 x=\"1\"\n            //                 y=\"1\"\n            //                 width=\"10\"\n            //                 height=\"5\"\n            //                 rx=\"1\"\n            //                 fill=\"none\"\n            //               />\n            //             </g>\n            //           </svg>\n            //         </div>\n            //         Order Management\n            //       </Link>\n            //     </li>\n            //   </>\n            // )\n          }\n          <li\n            className={`deals ${\n              location.pathname.startsWith(\"/account/deals\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/deals\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"26.55\"\n                  height=\"25.219\"\n                  viewBox=\"0 0 26.55 25.219\"\n                >\n                  <path\n                    id=\"Path_1\"\n                    data-name=\"Path 1\"\n                    d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n                    transform=\"translate(255.198 195.071)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </div>\n              My Chat\n            </Link>\n            {unread ? <span className=\"unred\">{unread}</span> : null}\n          </li>\n          {\n            //   <li\n            //   className={\n            //     location.pathname.startsWith(\"/account/profile\")\n            //       ? \"active\"\n            //       : undefined\n            //   }\n            // >\n            //   <Link to=\"/account/profile\">\n            //     <div className=\"icon acc\">\n            //       <Img src={user?.profileImg || \"/profile-user.jpg\"} />\n            //     </div>\n            //     Account\n            //   </Link>\n            // </li>\n          }\n          <Accordion\n            className={`profile ${\n              location.pathname.startsWith(\"/account/profile\") ? \"active\" : \"\"\n            }`}\n            location={location}\n            label={\n              <>\n                <div className=\"icon acc\">\n                  <Img src={user?.profileImg || \"/profile-user.jpg\"} />\n                </div>\n                <p className=\"label\">Account</p>\n              </>\n            }\n            link=\"/account/profile\"\n            path=\"/account/profile/edit\"\n          >\n            <>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/profile/edit\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/profile/edit\">Edit Profile</Link>\n              </li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/profile/kyc\")\n                    ? \"active\"\n                    : undefined\n                }\n              ></li>\n              <li\n                className={\n                  location.pathname.startsWith(\"/account/profile/wallet\")\n                    ? \"active\"\n                    : undefined\n                }\n              >\n                <Link to=\"/account/profile/wallet\">Wallet</Link>\n              </li>\n            </>\n          </Accordion>\n          <li\n            className={`support ${\n              location.pathname.startsWith(\"/account/support\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/support\">\n              <div className=\"icon\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"19.872\"\n                  height=\"21.086\"\n                  viewBox=\"0 0 19.872 21.086\"\n                >\n                  <g\n                    id=\"Group_4\"\n                    data-name=\"Group 4\"\n                    transform=\"translate(0 5.63)\"\n                  >\n                    <g id=\"Path_288\" data-name=\"Path 288\" fill=\"none\">\n                      <path\n                        d=\"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z\"\n                        stroke=\"none\"\n                      />\n                      <path\n                        d=\"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z\"\n                        stroke=\"none\"\n                        fill=\"#fff\"\n                      />\n                    </g>\n                    <g\n                      id=\"Rectangle_3\"\n                      data-name=\"Rectangle 3\"\n                      transform=\"translate(0 8.832)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    >\n                      <rect\n                        width=\"19.872\"\n                        height=\"6.624\"\n                        rx=\"2\"\n                        stroke=\"none\"\n                      />\n                      <rect\n                        x=\"1\"\n                        y=\"1\"\n                        width=\"17.872\"\n                        height=\"4.624\"\n                        rx=\"1\"\n                        fill=\"none\"\n                      />\n                    </g>\n                  </g>\n                  <g\n                    id=\"Rectangle_1134\"\n                    data-name=\"Rectangle 1134\"\n                    transform=\"translate(4)\"\n                    fill=\"none\"\n                    stroke=\"#fff\"\n                    strokeWidth=\"2\"\n                  >\n                    <path\n                      d=\"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z\"\n                      stroke=\"none\"\n                    />\n                    <rect\n                      x=\"1\"\n                      y=\"1\"\n                      width=\"10\"\n                      height=\"5\"\n                      rx=\"1\"\n                      fill=\"none\"\n                    />\n                  </g>\n                </svg>\n              </div>\n              Customer Support\n            </Link>\n          </li>\n        </ul>\n        <main>\n          <Switch>\n            <Route path=\"/account/deals/:_id?\" component={Deals} />\n            <Route\n              path=\"/account/transaction/history\"\n              component={Transactions}\n            />\n            <Route path=\"/account/transaction\" component={StartTransaction} />\n            <Route path=\"/account/orders/current/:_id\" component={FullOrder} />\n            <Route path=\"/account/orders/current\">\n              <Orders\n                status=\"approved|shipped|refundPending\"\n                onClick={(_id) =>\n                  history.push(`/account/orders/current/${_id}`)\n                }\n              />\n            </Route>\n            <Route path=\"/account/orders/pending/:_id\" component={FullOrder} />\n            <Route path=\"/account/orders/pending\">\n              <Orders\n                status=\"pending\"\n                onClick={(_id) =>\n                  history.push(`/account/orders/pending/${_id}`)\n                }\n              />\n            </Route>\n            <Route path=\"/account/orders/history/:_id\" component={FullOrder} />\n            <Route path=\"/account/orders/history\">\n              <Orders\n                status=\"delivered|cancelled|declined|refunded\"\n                onClick={(_id) =>\n                  history.push(`/account/orders/history/${_id}`)\n                }\n              />\n            </Route>\n            <Route\n              path=\"/account/orders/dispute/:_id\"\n              component={FullDispute}\n            />\n            <Route path=\"/account/orders/dispute\" component={Disputes} />\n            <Route path=\"/account/wallet\" component={Wallet} />\n            <Route path=\"/account/hold\" component={Hold} />\n            {\n              // <Route exact path=\"/account/marketplace\" component={Marketplace} />\n              // <Route path=\"/account/marketplace/:_id\" component={SingleProduct} />\n            }\n            <Route path=\"/account/transactions\" component={Transactions} />\n            <Route path=\"/account/myShop\" component={MyShop} />\n            <Route path=\"/account/cart\" component={Cart} />\n            <Route path=\"/account/myShopping\" component={MyShopping} />\n            <Route\n              path=\"/account/orderManagement\"\n              component={OrderManagement}\n            />\n            <Route\n              path=\"/account/support/ticket/:_id\"\n              component={SingleTicket}\n            />\n            <Route path=\"/account/support\" component={Support} />\n            <Route path=\"/account/profile/edit\" component={Profile} />\n            <Route path=\"/account/profile/kyc\" component={Profile} />\n            <Route path=\"/account/profile/wallet\" component={Wallet} />\n            <Route path=\"/account/profile/customerCare\" component={Profile} />\n            <Route path=\"/\" component={Home} />\n          </Switch>\n        </main>\n      </div>\n      <ul className=\"mobileMenu\">\n        <li\n          className={\n            location.pathname === \"/account\" ||\n            location.pathname.startsWith(\"/account/home\")\n              ? \"active\"\n              : undefined\n          }\n        >\n          <Link to=\"/account/home\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"21.648\"\n                height=\"21.513\"\n                viewBox=\"0 0 21.648 21.513\"\n              >\n                <path\n                  id=\"Path_287\"\n                  data-name=\"Path 287\"\n                  d=\"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z\"\n                  transform=\"translate(-0.008 0.011)\"\n                  fill=\"#fff\"\n                />\n              </svg>\n            </div>\n            Home\n          </Link>\n        </li>\n        <li\n          className={`deals ${\n            location.pathname.startsWith(\"/account/deals\")\n              ? \"active\"\n              : undefined\n          }`}\n        >\n          <Link to=\"/account/deals\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"26.55\"\n                height=\"25.219\"\n                viewBox=\"0 0 26.55 25.219\"\n              >\n                <path\n                  id=\"Path_1\"\n                  data-name=\"Path 1\"\n                  d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n                  transform=\"translate(255.198 195.071)\"\n                  fill=\"#fff\"\n                />\n              </svg>\n            </div>\n            Deals\n          </Link>\n        </li>\n        <li\n          className={\n            location.pathname.startsWith(\"/account/wallet\")\n              ? \"active\"\n              : undefined\n          }\n        >\n          <Link to=\"/account/wallet\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"20.886\"\n                height=\"22.948\"\n                viewBox=\"0 0 20.886 22.948\"\n              >\n                <g\n                  id=\"Rectangle_2\"\n                  data-name=\"Rectangle 2\"\n                  fill=\"none\"\n                  stroke=\"#fff\"\n                  strokeWidth=\"2\"\n                >\n                  <rect width=\"20.886\" height=\"16.244\" rx=\"2\" stroke=\"none\" />\n                  <rect\n                    x=\"1\"\n                    y=\"1\"\n                    width=\"18.886\"\n                    height=\"14.244\"\n                    rx=\"1\"\n                    fill=\"none\"\n                  />\n                </g>\n                <g\n                  id=\"Rectangle_3\"\n                  data-name=\"Rectangle 3\"\n                  transform=\"translate(0 9.283)\"\n                  fill=\"none\"\n                  stroke=\"#fff\"\n                  strokeWidth=\"2\"\n                >\n                  <rect width=\"20.886\" height=\"6.962\" rx=\"2\" stroke=\"none\" />\n                  <rect\n                    x=\"1\"\n                    y=\"1\"\n                    width=\"18.886\"\n                    height=\"4.962\"\n                    rx=\"1\"\n                    fill=\"none\"\n                  />\n                </g>\n                <path\n                  id=\"Path_2\"\n                  data-name=\"Path 2\"\n                  d=\"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z\"\n                  transform=\"translate(186.6 197.025)\"\n                  fill=\"#fff\"\n                />\n              </svg>\n            </div>\n            Wallet\n          </Link>\n        </li>\n        <li\n          className={`hold ${\n            location.pathname.startsWith(\"/account/hold\") ? \"active\" : undefined\n          }`}\n        >\n          <Link to=\"/account/hold\">\n            <div className=\"icon\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"22\"\n                height=\"27\"\n                viewBox=\"0 0 22 27\"\n              >\n                <text\n                  id=\"_3\"\n                  data-name=\"3\"\n                  transform=\"translate(14 14) rotate(180)\"\n                  fill=\"#fff\"\n                  fontSize=\"10\"\n                  fontFamily=\"Ebrima-Bold, Ebrima\"\n                  fontWeight=\"700\"\n                >\n                  <tspan x=\"0\" y=\"0\">\n                    3\n                  </tspan>\n                </text>\n                <g\n                  id=\"Group_166\"\n                  data-name=\"Group 166\"\n                  transform=\"translate(-534.967 -611.816)\"\n                >\n                  <g\n                    id=\"Rectangle_1132\"\n                    data-name=\"Rectangle 1132\"\n                    transform=\"translate(534.967 620.816)\"\n                    fill=\"none\"\n                    stroke=\"#fff\"\n                    strokeWidth=\"2\"\n                  >\n                    <rect width=\"22\" height=\"18\" rx=\"4\" stroke=\"none\" />\n                    <rect\n                      x=\"1\"\n                      y=\"1\"\n                      width=\"20\"\n                      height=\"16\"\n                      rx=\"3\"\n                      fill=\"none\"\n                    />\n                  </g>\n                  <g\n                    id=\"Rectangle_1133\"\n                    data-name=\"Rectangle 1133\"\n                    transform=\"translate(539.967 611.816)\"\n                    fill=\"none\"\n                    stroke=\"#fff\"\n                    strokeWidth=\"2\"\n                  >\n                    <path\n                      d=\"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z\"\n                      fill=\"none\"\n                    />\n                  </g>\n                </g>\n              </svg>\n            </div>\n            Hold\n          </Link>\n        </li>\n        {userType === \"seller\" ? (\n          <li\n            className={`trans ${\n              location.pathname.startsWith(\"/account/myShop\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/myShop/products\">\n              <div className=\"icon\">\n                <svg\n                  id=\"Group_283\"\n                  data-name=\"Group 283\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"28.407\"\n                  height=\"25.407\"\n                  viewBox=\"0 0 28.407 25.407\"\n                >\n                  <g\n                    id=\"Path_4\"\n                    data-name=\"Path 4\"\n                    transform=\"translate(3)\"\n                    fill=\"none\"\n                  >\n                    <path\n                      d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Polygon_1\"\n                    data-name=\"Polygon 1\"\n                    transform=\"translate(6.001 12.353) rotate(-150)\"\n                    fill=\"#fff\"\n                  >\n                    <path\n                      d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Rectangle_4\"\n                    data-name=\"Rectangle 4\"\n                    transform=\"translate(0 11.86) rotate(-22)\"\n                    fill=\"#336cf9\"\n                    stroke=\"#336cf9\"\n                    strokeWidth=\"1\"\n                  >\n                    <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n                    <rect\n                      x=\"0.5\"\n                      y=\"0.5\"\n                      width=\"5.929\"\n                      height=\"3.619\"\n                      fill=\"none\"\n                    />\n                  </g>\n                  <g\n                    id=\"Group_5\"\n                    data-name=\"Group 5\"\n                    transform=\"translate(15.704 4.888)\"\n                  >\n                    <line\n                      id=\"Line_3\"\n                      data-name=\"Line 3\"\n                      y2=\"9.239\"\n                      transform=\"translate(0 0)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                    <line\n                      id=\"Line_4\"\n                      data-name=\"Line 4\"\n                      x2=\"6.929\"\n                      y2=\"2.31\"\n                      transform=\"translate(0 9.239)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                  </g>\n                </svg>\n              </div>\n              My Shop\n            </Link>\n          </li>\n        ) : (\n          <li\n            className={`trans ${\n              location.pathname.startsWith(\"/account/myShopping\")\n                ? \"active\"\n                : undefined\n            }`}\n          >\n            <Link to=\"/account/myShopping/orders\">\n              <div className=\"icon\">\n                <svg\n                  id=\"Group_283\"\n                  data-name=\"Group 283\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"28.407\"\n                  height=\"25.407\"\n                  viewBox=\"0 0 28.407 25.407\"\n                >\n                  <g\n                    id=\"Path_4\"\n                    data-name=\"Path 4\"\n                    transform=\"translate(3)\"\n                    fill=\"none\"\n                  >\n                    <path\n                      d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Polygon_1\"\n                    data-name=\"Polygon 1\"\n                    transform=\"translate(6.001 12.353) rotate(-150)\"\n                    fill=\"#fff\"\n                  >\n                    <path\n                      d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n                      stroke=\"none\"\n                    />\n                    <path\n                      d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n                      stroke=\"none\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <g\n                    id=\"Rectangle_4\"\n                    data-name=\"Rectangle 4\"\n                    transform=\"translate(0 11.86) rotate(-22)\"\n                    fill=\"#336cf9\"\n                    stroke=\"#336cf9\"\n                    strokeWidth=\"1\"\n                  >\n                    <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n                    <rect\n                      x=\"0.5\"\n                      y=\"0.5\"\n                      width=\"5.929\"\n                      height=\"3.619\"\n                      fill=\"none\"\n                    />\n                  </g>\n                  <g\n                    id=\"Group_5\"\n                    data-name=\"Group 5\"\n                    transform=\"translate(15.704 4.888)\"\n                  >\n                    <line\n                      id=\"Line_3\"\n                      data-name=\"Line 3\"\n                      y2=\"9.239\"\n                      transform=\"translate(0 0)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                    <line\n                      id=\"Line_4\"\n                      data-name=\"Line 4\"\n                      x2=\"6.929\"\n                      y2=\"2.31\"\n                      transform=\"translate(0 9.239)\"\n                      fill=\"none\"\n                      stroke=\"#fff\"\n                      strokeWidth=\"2\"\n                    />\n                  </g>\n                </svg>\n              </div>\n              My Orders\n            </Link>\n          </li>\n        )}\n        {\n          //   <li\n          //   className={`trans ${\n          //     location.pathname.startsWith(\"/account/transactions\")\n          //       ? \"active\"\n          //       : undefined\n          //   }`}\n          // >\n          //   <Link to=\"/account/transactions\">\n          //     <div className=\"icon\">\n          //       <svg\n          //         id=\"Group_283\"\n          //         data-name=\"Group 283\"\n          //         xmlns=\"http://www.w3.org/2000/svg\"\n          //         width=\"28.407\"\n          //         height=\"25.407\"\n          //         viewBox=\"0 0 28.407 25.407\"\n          //       >\n          //         <g\n          //           id=\"Path_4\"\n          //           data-name=\"Path 4\"\n          //           transform=\"translate(3)\"\n          //           fill=\"none\"\n          //         >\n          //           <path\n          //             d=\"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z\"\n          //             stroke=\"none\"\n          //           />\n          //           <path\n          //             d=\"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z\"\n          //             stroke=\"none\"\n          //             fill=\"#fff\"\n          //           />\n          //         </g>\n          //         <g\n          //           id=\"Polygon_1\"\n          //           data-name=\"Polygon 1\"\n          //           transform=\"translate(6.001 12.353) rotate(-150)\"\n          //           fill=\"#fff\"\n          //         >\n          //           <path\n          //             d=\"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z\"\n          //             stroke=\"none\"\n          //           />\n          //           <path\n          //             d=\"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z\"\n          //             stroke=\"none\"\n          //             fill=\"#fff\"\n          //           />\n          //         </g>\n          //         <g\n          //           id=\"Rectangle_4\"\n          //           data-name=\"Rectangle 4\"\n          //           transform=\"translate(0 11.86) rotate(-22)\"\n          //           fill=\"#336cf9\"\n          //           stroke=\"#336cf9\"\n          //           strokeWidth=\"1\"\n          //         >\n          //           <rect width=\"6.929\" height=\"4.619\" stroke=\"none\" />\n          //           <rect\n          //             x=\"0.5\"\n          //             y=\"0.5\"\n          //             width=\"5.929\"\n          //             height=\"3.619\"\n          //             fill=\"none\"\n          //           />\n          //         </g>\n          //         <g\n          //           id=\"Group_5\"\n          //           data-name=\"Group 5\"\n          //           transform=\"translate(15.704 4.888)\"\n          //         >\n          //           <line\n          //             id=\"Line_3\"\n          //             data-name=\"Line 3\"\n          //             y2=\"9.239\"\n          //             transform=\"translate(0 0)\"\n          //             fill=\"none\"\n          //             stroke=\"#fff\"\n          //             strokeWidth=\"2\"\n          //           />\n          //           <line\n          //             id=\"Line_4\"\n          //             data-name=\"Line 4\"\n          //             x2=\"6.929\"\n          //             y2=\"2.31\"\n          //             transform=\"translate(0 9.239)\"\n          //             fill=\"none\"\n          //             stroke=\"#fff\"\n          //             strokeWidth=\"2\"\n          //           />\n          //         </g>\n          //       </svg>\n          //     </div>\n          //     Transactions\n          //   </Link>\n          // </li>\n        }\n      </ul>\n    </div>\n  );\n}\nexport const ProfileAvatar = () => {\n  const { user, setUser, cart, setCart, userType } = useContext(SiteContext);\n  const history = useHistory();\n  const menuRef = useRef(null);\n  const [menu, setMenu] = useState(false);\n  const [invite, setInvite] = useState(false);\n  const [noti, setNoti] = useState(false);\n  const [unread, setUnread] = useState(false);\n  const [showCart, setShowCart] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const logout = (e) => {\n    console.log(e);\n  };\n  // <GoogleLogout\n  // clientId=\"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com\"\n  // buttonText=\"Logout\"\n  // onLogoutSuccess={logout}\n  // >\n  // test\n  // </GoogleLogout>\n  useEffect(() => {\n    if (noti) {\n      fetch(\"/api/editUserProfile\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          notificationLastRead: new Date(),\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.user) {\n            setUser((prev) => ({\n              ...prev,\n              notificationLastRead: data.user.notificationLastRead,\n            }));\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [noti]);\n  useEffect(() => {\n    const newNoti = user.notifications?.find((item) => {\n      return new Date(item.createdAt) > new Date(user.notificationLastRead);\n    });\n    if (newNoti) {\n      setUnread(true);\n    }\n    if (noti) {\n      setUnread(false);\n    }\n  }, [noti, user]);\n  const referLink = `${window.location.origin}/u/join?referer=${user._id}`;\n  return (\n    <>\n      <div className=\"profile\">\n        {\n          // <UserTypeSwitch />\n        }\n        {userType === \"buyer\" && (\n          <Actions\n            className=\"cart\"\n            icon={\n              <>\n                <Cart_svg />\n                {cart.length > 0 && (\n                  <span className=\"itemCount\">\n                    {cart.reduce((a, c) => a + c.qty, 0)}\n                  </span>\n                )}\n              </>\n            }\n            clickable={true}\n            wrapperClassName=\"popupCart\"\n          >\n            {cart.map(({ product, qty }, i) => (\n              <CartItem key={i} product={product} qty={qty} />\n            ))}\n            {cart.length > 0 && (\n              <li className=\"actions\">\n                <Link to=\"/account/cart\">View Cart</Link>\n                {\n                  // <Link to=\"/account/checkout\">Place order</Link>\n                }\n              </li>\n            )}\n            {cart.length === 0 && <p className=\"placeholder\">cart is empty</p>}\n          </Actions>\n        )}\n        <Actions\n          icon={\n            <svg\n              id=\"bell\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"15.918\"\n              height=\"16\"\n              viewBox=\"0 0 15.918 16\"\n            >\n              <path\n                id=\"Path_1\"\n                data-name=\"Path 1\"\n                d=\"M15,14H10a2,2,0,0,1-4,0H1a.961.961,0,0,1-.9-.7,1.068,1.068,0,0,1,.3-1.1A4.026,4.026,0,0,0,2,9V6A6,6,0,0,1,14,6V9a4.026,4.026,0,0,0,1.6,3.2.947.947,0,0,1,.3,1.1A.961.961,0,0,1,15,14Z\"\n                transform=\"translate(-0.063)\"\n                fill=\"#fff\"\n                fillRule=\"evenodd\"\n              />\n            </svg>\n          }\n          wrapperClassName=\"notiWrapper\"\n          onClick={() => setNoti(true)}\n        >\n          {[...user.notifications].reverse().map((item, i) => {\n            return (\n              <li key={i}>\n                <Moment format=\"hh:mm\">{item.createdAt}</Moment>\n                <p className=\"title\">{item.title}</p>\n                <p className=\"body\">{item.body}</p>\n              </li>\n            );\n          })}\n        </Actions>\n        {\n          //   <p className=\"name\">\n          //   {user?.firstName + \" \" + user?.lastName || user.phone}\n          // </p>\n        }\n        <Actions\n          wrapperClassName=\"menu\"\n          className=\"avatar\"\n          icon={\n            <>\n              <Img\n                src={user?.profileImg || \"/profile-user.jpg\"}\n                onClick={() => setMenu(!menu)}\n              />\n              {userType && <p className=\"userTypeTag\">{userType}</p>}\n            </>\n          }\n        >\n          <p className=\"name\">\n            {user?.firstName + \" \" + user?.lastName || user.phone}\n          </p>\n          <UserTypeSwitch tip={true} />\n          <Link className=\"link\" to=\"/account\">\n            Dashboard\n          </Link>\n          <Link className=\"link trans\" to=\"/account/transactions\">\n            Transactions\n          </Link>\n          <Link className=\"link settings\" to=\"/account/profile\">\n            Settings\n          </Link>\n          <Link className=\"link\" to=\"/aboutUs\">\n            More about us\n          </Link>\n          <div className=\"referral\">\n            <button\n              onClick={() => {\n                setInvite(true);\n              }}\n            >\n              Invite now\n            </button>\n            <p>Refer and earn flat 50/- cashback to your wallet</p>\n          </div>\n          <button\n            className=\"logout\"\n            onClick={() => {\n              fetch(\"/api/logout\")\n                .then((res) => res.json())\n                .then((data) => {\n                  setUser(null);\n                  history.push(\"/\");\n                })\n                .catch((err) => {\n                  console.log(err);\n                  setMsg(\n                    <>\n                      <button onClick={() => setMsg(null)}>Okay</button>\n                      <div>\n                        <Err_svg />\n                        <h4>Could not logout.</h4>\n                      </div>\n                    </>\n                  );\n                });\n            }}\n          >\n            Logout\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"31.702\"\n              height=\"31.702\"\n              viewBox=\"0 0 31.702 31.702\"\n            >\n              <path\n                id=\"Path_1758\"\n                data-name=\"Path 1758\"\n                d=\"M15.487,25.174l2.483,2.483,8.806-8.806L17.97,10.045l-2.483,2.483,4.544,4.562H3v3.522H20.031ZM31.18,3H6.522A3.521,3.521,0,0,0,3,6.522v7.045H6.522V6.522H31.18V31.18H6.522V24.135H3V31.18A3.521,3.521,0,0,0,6.522,34.7H31.18A3.533,3.533,0,0,0,34.7,31.18V6.522A3.533,3.533,0,0,0,31.18,3Z\"\n                transform=\"translate(-3 -3)\"\n                fill=\"#fc0660\"\n              />\n            </svg>\n          </button>\n        </Actions>\n      </div>\n      <Modal\n        className=\"invite\"\n        open={invite}\n        onBackdropClick={() => setInvite(false)}\n      >\n        <div className=\"imgWrapper\" onClick={() => setInvite(false)}>\n          <QRCode value={referLink} size={250} renderAs=\"svg\" />\n        </div>\n        <div className=\"shareBtns\">\n          <EmailShareButton url={referLink}>\n            <EmailIcon />\n          </EmailShareButton>\n          <FacebookShareButton url={referLink}>\n            <FacebookIcon />\n          </FacebookShareButton>\n          <HatenaShareButton url={referLink}>\n            <HatenaIcon />\n          </HatenaShareButton>\n          <InstapaperShareButton url={referLink}>\n            <InstapaperIcon />\n          </InstapaperShareButton>\n          <LineShareButton url={referLink}>\n            <LineIcon />\n          </LineShareButton>\n          <LinkedinShareButton url={referLink}>\n            <LinkedinIcon />\n          </LinkedinShareButton>\n          <LivejournalShareButton url={referLink}>\n            <LivejournalIcon />\n          </LivejournalShareButton>\n          <MailruShareButton url={referLink}>\n            <MailruIcon />\n          </MailruShareButton>\n          <OKShareButton url={referLink}>\n            <OKIcon />\n          </OKShareButton>\n          <PinterestShareButton url={referLink}>\n            <PinterestIcon />\n          </PinterestShareButton>\n          <PocketShareButton url={referLink}>\n            <PocketIcon />\n          </PocketShareButton>\n          <RedditShareButton url={referLink}>\n            <RedditIcon />\n          </RedditShareButton>\n          <TelegramShareButton url={referLink}>\n            <TelegramIcon />\n          </TelegramShareButton>\n          <TumblrShareButton url={referLink}>\n            <TumblrIcon />\n          </TumblrShareButton>\n          <TwitterShareButton url={referLink}>\n            <TwitterIcon />\n          </TwitterShareButton>\n          <ViberShareButton url={referLink}>\n            <ViberIcon />\n          </ViberShareButton>\n          <VKShareButton url={referLink}>\n            <VKIcon />\n          </VKShareButton>\n          <WhatsappShareButton url={referLink}>\n            <WhatsappIcon />\n          </WhatsappShareButton>\n          <WorkplaceShareButton url={referLink}>\n            <WorkplaceIcon />\n          </WorkplaceShareButton>\n        </div>\n      </Modal>\n    </>\n  );\n};\nconst Accordion = ({ label, className, location, link, path, children }) => {\n  return (\n    <li\n      className={`accordion ${className || \"\"} ${\n        location.pathname.startsWith(link) && \"open\"\n      }`}\n    >\n      <Link to={path}>{label}</Link>\n      {location.pathname.startsWith(link) && (\n        <ul>\n          <li>\n            <Chev_down_svg />\n          </li>\n          {children}\n        </ul>\n      )}\n    </li>\n  );\n};\n\nconst UserTypeSwitch = ({ tip }) => {\n  const { userType, setUserType } = useContext(SiteContext);\n  return (\n    <div className=\"userTypeSwitch\">\n      <label>Browse as</label>\n      <ul className=\"options\">\n        <li\n          className={userType === \"buyer\" ? \"active\" : \"\"}\n          onClick={() => setUserType(\"buyer\")}\n        >\n          Buyer\n        </li>\n        <li\n          className={userType === \"seller\" ? \"active\" : \"\"}\n          onClick={() => setUserType(\"seller\")}\n        >\n          Seller\n        </li>\n      </ul>\n      {tip && (\n        <>\n          <div className=\"break\" />\n          {userType === \"seller\" ? (\n            <p className=\"note\">\n              As a seller, you can manage your\n              <br /> product listing, order, refunds and general shop settings.\n            </p>\n          ) : (\n            <p className=\"note\">\n              As a buyer, you can manage your\n              <br /> perchase orders, payments and deals.\n            </p>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport const MilestoneForm = ({\n  action,\n  client,\n  onSuccess,\n  definedAmount,\n  order,\n  refund,\n  strict,\n}) => {\n  const { user, setUser, config } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  // const [type, setType] = useState(\"product\");\n  const [addressForm, setAddressForm] = useState(false);\n  // const [products, setProducts] = useState([]);\n  const [userDetail, setUserDetail] = useState({ ...user });\n  const [clientDetail, setClientDetail] = useState({ ...client });\n  // const [deliveryTime, setDeliveryTime] = useState(\n  //   new Date().toISOString().substring(0, 16)\n  // );\n  const [dscr, setDscr] = useState(\"\");\n  const [amount, setAmount] = useState(definedAmount || \"\");\n  const [fee, setFee] = useState(0);\n  const [msg, setMsg] = useState(null);\n  // const [productResult, setProductResult] = useState([]);\n  // const [showSelectedProducts, setShowSelectedProducts] = useState(false);\n  // const searchInput = useRef(null);\n  const onTimeout = useRef();\n  const requestMilestone = useCallback(() => {\n    fetch(\"/api/requestMilestone\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        buyer_id: client._id,\n        amount,\n        // products,\n        dscr,\n        order,\n        refund,\n        // deliveryDetail: {\n        //   phone: client.phone,\n        //   name: client.firstName + \" \" + client.lastName,\n        //   ...client.address,\n        //   timeOfDelivery: deliveryTime,\n        // },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.(data.milestone);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not request milestone. Try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not request milestone. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [\n    clientDetail,\n    userDetail,\n    amount,\n    dscr,\n    // type,\n    // deliveryTime,\n  ]);\n  const createMilestone = useCallback(() => {\n    fetch(\"/api/createMilestone\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        seller: { ...clientDetail },\n        amount,\n        dscr,\n        order,\n        refund,\n        // deliveryDetail: {\n        //   phone: client.phone,\n        //   name: client.firstName + \" \" + client.lastName,\n        //   ...client.address,\n        //   timeOfDelivery: deliveryTime,\n        // },\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          onSuccess?.({ ...data });\n        } else if (data.code === 403) {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Insufficient fund</h4>\n                <Link to=\"/account/wallet\">Add Money to your wallet now.</Link>\n              </div>\n            </>\n          );\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not create milestone. Try again</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not create milestone. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [\n    clientDetail,\n    userDetail,\n    amount,\n    dscr,\n    // type,\n    // deliveryTime,\n  ]);\n  useEffect(() => {\n    setFee(() => {\n      return ((+amount / 100) * config.fee).fix();\n    });\n  }, [amount]);\n  // useEffect(() => {\n  //   if (search) {\n  //     fetch(`/api/products?q=${search}&perPage=8`)\n  //       .then((res) => res.json())\n  //       .then((data) => {\n  //         if (data.products) {\n  //           setProductResult(data.products);\n  //         }\n  //       });\n  //   }\n  // }, [search]);\n  // useEffect(() => {\n  //   if (products.length === 0) {\n  //     setShowSelectedProducts(false);\n  //   }\n  // }, [products]);\n  return (\n    <>\n      <form\n        className=\"milestonesForm\"\n        onSubmit={(e) => {\n          setLoading(true);\n          e.preventDefault();\n          toast(\n            <div className=\"toast\">\n              Milestone is being{\" \"}\n              {action === \"create\" ? \"created.\" : \"requested.\"}{\" \"}\n              <button\n                className=\"undo\"\n                onClick={() => {\n                  onTimeout.current = null;\n                }}\n              >\n                Undo\n              </button>\n            </div>,\n            {\n              position: \"bottom-center\",\n              autoClose: 8000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              onClose: () => {\n                onTimeout.current?.();\n                setLoading(false);\n              },\n              draggable: true,\n              progress: undefined,\n            }\n          );\n          if (action === \"create\") {\n            onTimeout.current = createMilestone;\n          } else {\n            onTimeout.current = requestMilestone;\n          }\n        }}\n      >\n        <section className=\"transactionDetail\">\n          {\n            // userType === \"seller\"\n            //  && (\n            //   <>\n            //     <section className=\"products\">\n            //       <label>Products</label>\n            //       <div className=\"count\">\n            //         <p className=\"totalProduct\">\n            //           {products.length} items selected.\n            //         </p>\n            //         {products.length > 0 && (\n            //           <button\n            //             type=\"button\"\n            //             className={showSelectedProducts ? \"open\" : undefined}\n            //             onClick={() =>\n            //               setShowSelectedProducts(!showSelectedProducts)\n            //             }\n            //           >\n            //             <svg\n            //               xmlns=\"http://www.w3.org/2000/svg\"\n            //               width=\"11.872\"\n            //               height=\"18\"\n            //               viewBox=\"0 0 11.872 18\"\n            //             >\n            //               <path\n            //                 id=\"Path_36\"\n            //                 data-name=\"Path 36\"\n            //                 d=\"M9,11.872,0,2.725,2.681,0,9,6.423,15.319,0,18,2.725Z\"\n            //                 transform=\"translate(11.872) rotate(90)\"\n            //                 fill=\"rgba(0, 0, 0, 0.5)\"\n            //               />\n            //             </svg>\n            //           </button>\n            //         )}\n            //       </div>\n            //       {showSelectedProducts && (\n            //         <ul>\n            //           {products.map((product) => (\n            //             <li key={product._id}>\n            //               <Img src={product.images[0]} />\n            //               <div className=\"productDetail\">\n            //                 <p className=\"name\">{product.name}</p>\n            //                 <p className=\"price\"> {product.price}</p>\n            //               </div>\n            //               <button\n            //                 type=\"button\"\n            //                 className=\"btn\"\n            //                 onClick={() =>\n            //                   setProducts((prev) =>\n            //                     prev.filter((item) => item._id !== product._id)\n            //                   )\n            //                 }\n            //               >\n            //                 <Minus_svg />\n            //               </button>\n            //             </li>\n            //           ))}\n            //         </ul>\n            //       )}\n            //     </section>\n            //     <section className=\"productSearch\">\n            //       <label>Search products</label>\n            //       <input\n            //         ref={searchInput}\n            //         type=\"text\"\n            //         value={search}\n            //         onChange={(e) => setSearch(e.target.value)}\n            //       />\n            //       {search && productResult.length > 0 && (\n            //         <ul className=\"productSearchList\">\n            //           {productResult.map((product) => (\n            //             <li key={product._id}>\n            //               <Img src={product.images[0]} />\n            //               <div className=\"productDetail\">\n            //                 <p className=\"name\">{product.name}</p>\n            //                 <p className=\"price\"> {product.price}</p>\n            //               </div>\n            //               {!products.some(\n            //                 (item) => item._id === product._id\n            //               ) ? (\n            //                 <button\n            //                   type=\"button\"\n            //                   className=\"btn\"\n            //                   onClick={() => {\n            //                     setProducts((prev) => [...prev, product]);\n            //                     searchInput.current.focus();\n            //                   }}\n            //                 >\n            //                   <Plus_svg />\n            //                 </button>\n            //               ) : (\n            //                 <p className=\"addedLabel\">Added</p>\n            //               )}\n            //             </li>\n            //           ))}\n            //         </ul>\n            //       )}\n            //     </section>{\" \"}\n            //   </>\n            // )\n          }\n          <section className=\"amount\">\n            <label>Amount</label>\n            <NumberInput\n              readOnly={strict}\n              min={10}\n              defaultValue={definedAmount || 0}\n              required={true}\n              onChange={(e) => setAmount((+e.target.value).toString())}\n            />\n          </section>\n          {amount && (\n            <>\n              {action === \"create\" && (\n                <label className=\"receivable\">\n                  {client.firstName} {client.lastName} will recieve \n                  {(amount - fee).fix()}\n                </label>\n              )}\n              {action === \"request\" && (\n                <label className=\"receivable\">\n                  You will recieve {(amount - fee).fix()}\n                </label>\n              )}\n            </>\n          )}\n          <section>\n            <label>Detail</label>\n            <input\n              value={dscr}\n              required={true}\n              onChange={(e) => setDscr(e.target.value)}\n            />\n          </section>\n          <button type=\"submit\">\n            {action === \"create\" ? \"Create Milestone\" : \"Request Milestone\"}\n          </button>\n        </section>\n        <section className=\"clientDetail\">\n          {action === \"request\" && (\n            <>\n              <Img src={client?.profileImg || \"/profile-user.jpg\"} />\n              <label>Buyer Information</label>\n              <div\n                className=\"detail\"\n                onClick={() => {\n                  // setAddressForm(true)\n                }}\n              >\n                {\n                  // <button type=\"button\">+ Add/Edit Address</button>\n                }\n                <section className=\"profileDetail\">\n                  <p className=\"name\">\n                    {client?.firstName + \" \" + client?.lastName}\n                  </p>\n                  <p className=\"phone\">{client?.phone}</p>\n                  <p className=\"email\">{client?.email}</p>\n                </section>\n                {client?.address?.street && (\n                  <section className=\"address\">\n                    <p className=\"street\">\n                      {client.address?.street}, {client.address?.city},{\" \"}\n                      {client.address?.zip}\n                    </p>\n                  </section>\n                )}\n              </div>\n            </>\n          )}\n          {action === \"request\" ? null : (\n            <div className=\"sellerInfo\">\n              <Img src={clientDetail?.profileImg || \"/profile-user.jpg\"} />\n              <label>Seller Information</label>\n              <div className=\"detail\">\n                <section className=\"profileDetail\">\n                  <p className=\"name\">\n                    {clientDetail?.firstName} {clientDetail?.lastName}\n                  </p>\n                  <p className=\"phone\">{clientDetail?.phone}</p>\n                  <p className=\"email\">{clientDetail?.email}</p>\n                </section>\n              </div>\n            </div>\n          )}\n          {\n            //   <div className=\"deliveryTime\">\n            //   <p>Delivery Time</p>\n            //   <input\n            //     value={deliveryTime}\n            //     type=\"datetime-local\"\n            //     onChange={(e) => setDeliveryTime(e.target.value)}\n            //   />\n            // </div>\n          }\n        </section>\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      {\n        //   <Modal\n        //   open={addressForm}\n        //   head={true}\n        //   label=\"Add/Edit Address\"\n        //   setOpen={setAddressForm}\n        //   className=\"addAddress\"\n        // >\n        //   <AddressForm\n        //     client={client}\n        //     // setClient={setClient}\n        //     onSuccess={(data) => {\n        //       console.log(data);\n        //       // setClient((prev) => ({ ...prev, ...data }));\n        //       setAddressForm(false);\n        //     }}\n        //     onCancel={() => setAddressForm(false)}\n        //   />\n        // </Modal>\n      }\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\nexport default Account;\n","import React, { useEffect, forwardRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createPortal } from \"react-dom\";\nimport { X_svg } from \"./Elements\";\n\nexport const Modal = forwardRef(\n  (\n    {\n      containerClass,\n      open,\n      setOpen,\n      children,\n      className,\n      onBackdropClick,\n      backdropClass,\n      style,\n      head,\n      label,\n    },\n    ref\n  ) => {\n    useEffect(() => {\n      if (!containerClass) return;\n      const portal = document.querySelector(\"#portal\");\n      portal.classList.add(containerClass);\n      return () => portal.classList.remove(containerClass);\n    });\n    if (!open) return null;\n    return createPortal(\n      <>\n        <div\n          className={`modalBackdrop ${backdropClass}`}\n          onClick={(e) => {\n            e.stopPropagation();\n            onBackdropClick?.();\n          }}\n        />\n        <div\n          style={{ ...style }}\n          ref={ref}\n          className={`modal ${className || \"\"}`}\n        >\n          {head && (\n            <div className=\"head\">\n              <p className=\"modalName\">{label}</p>\n              <button onClick={() => setOpen?.(false)}>\n                <X_svg />\n              </button>\n            </div>\n          )}\n          {children}\n        </div>\n      </>,\n      document.querySelector(\"#portal\")\n    );\n  }\n);\n\nexport const Confirm = ({ className, label, question, callback }) => {\n  const cleanup = () =>\n    ReactDOM.render(<></>, document.querySelector(\"#confirm\"));\n  const confirm = () => {\n    callback();\n    cleanup();\n  };\n  const decline = () => cleanup();\n  ReactDOM.render(\n    <>\n      <div className={`modalBackdrop`} />\n      <div className={`modal confirm ${className || \"\"}`}>\n        <div className=\"head\">\n          <p className=\"modalName\">{label}</p>\n          <button onClick={decline}>\n            <X_svg />\n          </button>\n        </div>\n        <div className=\"content\">\n          <p className=\"question\">{question}</p>\n          <div className=\"actions\">\n            <button className=\"yes\" onClick={confirm}>\n              Confirm\n            </button>\n            <button className=\"no\" onClick={decline}>\n              Decline\n            </button>\n          </div>\n        </div>\n      </div>\n    </>,\n    document.querySelector(\"#confirm\")\n  );\n};\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n  useContext,\n  lazy,\n} from \"react\";\nimport {\n  X_svg,\n  Combobox,\n  Err_svg,\n  Succ_svg,\n  calculatePrice,\n  calculateDiscount,\n  Minus_svg,\n  Plus_svg,\n  addToCart,\n  Header,\n  Footer,\n  Tip,\n  Cart_svg,\n  Img,\n  Moment,\n  useOnScreen,\n  Arrow_left_svg,\n} from \"./Elements\";\nimport { AddressForm } from \"./Forms\";\nimport { SiteContext, ChatContext, socket } from \"../SiteContext\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Modal, Confirm } from \"./Modal\";\nimport { MilestoneForm } from \"./Account\";\nimport { Chat } from \"./Deals\";\nimport queryString from \"query-string\";\nimport { toast } from \"react-toastify\";\n\nrequire(\"./styles/marketplace.scss\");\n\nconst Marketplace = ({ history, location, match }) => {\n  const { userType } = useContext(SiteContext);\n  const [loadingRef, loadingVisible] = useOnScreen({ rootMargin: \"100px\" });\n  const sortOptions = useRef([\n    {\n      label: \"Newest first\",\n      value: { column: \"createdAt\", order: \"dsc\" },\n    },\n    {\n      label: \"Oldest first\",\n      value: { column: \"createdAt\", order: \"asc\" },\n    },\n    {\n      label: \"Price high-low\",\n      value: { column: \"price\", order: \"dsc\" },\n    },\n    {\n      label: \"Price low-high\",\n      value: { column: \"price\", order: \"asc\" },\n    },\n  ]);\n  const [categories, setCategories] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [type, setType] = useState(\n    queryString.parse(location.search).type || \"\"\n  );\n  const [perPage, setPerPage] = useState(\n    queryString.parse(location.search).perPage || 20\n  );\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState(\n    queryString.parse(location.search).q || \"\"\n  );\n  const [sort, setSort] = useState({\n    column: queryString.parse(location.search).sort || \"createdAt\",\n    order: queryString.parse(location.search).order || \"dsc\",\n  });\n  const [products, setProducts] = useState([]);\n  const [msg, setMsg] = useState(null);\n  const [category, setCategory] = useState(\"\");\n  const [seller, setSeller] = useState(\n    queryString.parse(location.search).seller\n  );\n  const [sellerDetail, setSellerDetail] = useState(null);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [chatOpen, setChatOpen] = useState(false);\n  const loadMore = () => {\n    setLoadingMore(true);\n    fetch(`/api/getProducts${location.search}&page=${page + 1}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setLoadingMore(false);\n        if (data.code === \"ok\") {\n          if (data.products.length) {\n            setProducts((prev) => [...prev, ...data.products]);\n            setPage((prev) => prev + 1);\n          } else {\n          }\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not get products. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        setLoadingMore(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get products. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    fetch(`/api/getProducts${location.search}&page=${1}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setTotal(data.total);\n          setProducts(data.products);\n          if (data.seller) {\n            setSellerDetail(data.seller);\n            if (data.categories) {\n              setCategories(data.categories);\n            }\n          } else {\n            setSellerDetail(null);\n          }\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Could not get products. Please try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get products. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [location.search]);\n  useEffect(() => {\n    history.replace({\n      pathname: history.location.pathname,\n      search:\n        \"?\" +\n        new URLSearchParams({\n          ...(seller && { seller }),\n          ...(search.length >= 4 && { q: search }),\n          perPage,\n          sort: sort.column,\n          order: sort.order,\n          ...(type && { type }),\n          ...(category && { category }),\n        }).toString(),\n    });\n  }, [page, search, sort, seller, type, category]);\n  useEffect(() => {\n    if (loadingVisible && total > products.length) {\n      loadMore();\n    }\n  }, [loadingVisible]);\n  useEffect(() => {}, []);\n  return (\n    <div className={`generic marketplace ${chatOpen ? \"chatOpen\" : \"\"}`}>\n      <Header />\n      {userType === \"seller\" && <Redirect to=\"/account/myShop/products\" />}\n      <div style={{ display: \"none\" }}>\n        <X_svg />\n      </div>\n      <div className=\"benner\">\n        <h1>Delivery Pay Marketplace</h1>\n      </div>\n      <div className=\"content\">\n        <div className=\"mainContent\">\n          {sellerDetail && (\n            <div className=\"sellerDetail\">\n              {sellerDetail.profileImg && (\n                <Img className=\"logo\" src={\"/profile-user.jpg\"} />\n              )}\n              <p>\n                {seller.shopInfo?.shopName ||\n                  sellerDetail.firstName + \" \" + sellerDetail.lastName}\n              </p>\n            </div>\n          )}\n          <div className=\"filters\">\n            <section className=\"categories\">\n              <label>Category</label>\n              <Combobox\n                defaultValue={0}\n                options={[\n                  { label: \"All\", value: \"\" },\n                  ...categories.map((item) => ({ label: item, value: item })),\n                ]}\n                onChange={(e) => {\n                  setCategory(e.value);\n                }}\n              />\n            </section>\n            <section className=\"search\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"23\"\n                height=\"23\"\n                viewBox=\"0 0 23 23\"\n              >\n                <path\n                  id=\"Icon_ionic-ios-search\"\n                  data-name=\"Icon ionic-ios-search\"\n                  d=\"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z\"\n                  transform=\"translate(-4.5 -4.493)\"\n                  fill=\"#707070\"\n                  opacity=\"0.74\"\n                />\n              </svg>\n              <input\n                value={search}\n                onChange={(e) => {\n                  setSearch(e.target.value);\n                }}\n                placeholder=\"Search for products or services\"\n              />\n              {search && (\n                <button onClick={() => setSearch(\"\")}>\n                  <X_svg />\n                </button>\n              )}\n            </section>\n            <section className=\"sort\">\n              <label>Sort by:</label>\n              <Combobox\n                defaultValue={sortOptions.current.find(\n                  (item) =>\n                    item.value.column === sort.column &&\n                    item.value.order === sort.order\n                )}\n                options={sortOptions.current}\n                onChange={(e) => setSort(e.value)}\n              />\n            </section>\n          </div>\n          <div className={`products ${products.length === 0 ? \"empty\" : \"\"}`}>\n            {products.map((item) => (\n              <Product key={item._id} data={item} />\n            ))}\n            {total > products.length && (\n              <div className=\"placeholder\">Loading</div>\n            )}\n            {products.length === 0 && (\n              <div className=\"placeholder\">\n                <Img src=\"/open_box.png\" />\n                <p>No Product Found</p>\n              </div>\n            )}\n          </div>\n        </div>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n      <div ref={loadingRef} />\n      {sellerDetail && (\n        <MiniChat client={sellerDetail} onToggle={setChatOpen} />\n      )}\n      <Footer />\n    </div>\n  );\n};\n\nconst MiniChat = ({ client, onToggle }) => {\n  const { user } = useContext(SiteContext);\n  const { contacts, setContacts } = useContext(ChatContext);\n  const [open, setOpen] = useState(false);\n  const [userCard, setUserCard] = useState(null);\n  const [chat, setChat] = useState(null);\n  useEffect(() => {\n    const clientChat = contacts.find(\n      (contact) => contact.client._id === client._id\n    );\n    if (clientChat) {\n      setUserCard({\n        ...clientChat.client,\n        status: clientChat.userBlock ? \"blocked\" : \"\",\n      });\n      setChat(clientChat.messages);\n      socket.emit(\"initiateChat\", {\n        client_id: client._id,\n        ...(clientChat.messages === undefined && { newChat: true }),\n      });\n    }\n  }, [client, contacts]);\n  useEffect(() => {\n    onToggle?.(open);\n  }, [open]);\n  if (!open) {\n    return (\n      <button className=\"chatBtn\" onClick={() => setOpen(true)}>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"26.55\"\n          height=\"25.219\"\n          viewBox=\"0 0 26.55 25.219\"\n        >\n          <path\n            id=\"Path_1\"\n            data-name=\"Path 1\"\n            d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n            transform=\"translate(255.198 195.071)\"\n            fill=\"#fff\"\n          />\n        </svg>\n      </button>\n    );\n  }\n  return (\n    <div className=\"chatWrapper\">\n      <button className=\"closeChat\" onClick={() => setOpen(false)}>\n        <Arrow_left_svg />\n      </button>\n      <Chat\n        chat={chat}\n        setContacts={setContacts}\n        userCard={userCard}\n        setUserCard={setUserCard}\n        user={user}\n        setChat={setChat}\n      />\n    </div>\n  );\n};\n\nconst Product = ({ data }) => {\n  const { user, userType, setCart } = useContext(SiteContext);\n  let finalPrice = calculatePrice({ product: data, gst: data.user?.gst });\n  return (\n    <div className=\"product\">\n      <Link to={`/marketplace/${data._id}`}>\n        <div className={`thumb ${data.images[0] ? \"\" : \"noThumb\"}`}>\n          <Img src={data.images[0] || \"/open_box.png\"} />\n        </div>\n      </Link>\n      <div className=\"detail\">\n        <h3>{data.name}</h3>\n        <p className=\"dscr\">{data.dscr}</p>\n        <div className=\"price\">\n          <span className=\"symbol\"> </span>\n          {finalPrice}{\" \"}\n          {finalPrice !==\n            calculatePrice({\n              product: data,\n              gst: data.user.gst,\n              discount: false,\n            }) && (\n            <span className=\"originalPrice\">\n              {calculatePrice({\n                product: data,\n                gst: data.user?.gst,\n                discount: false,\n              })}\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"actions\">\n        {userType === \"buyer\" && data?.user._id === user?._id && (\n          <p className=\"note\">Can't buy product from self.</p>\n        )}\n        <button\n          disabled={!data.available || data?.user._id === user?._id}\n          onClick={() => {\n            setCart((prev) => addToCart(prev, data));\n          }}\n        >\n          Add to Cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport const SingleProduct = ({ match }) => {\n  const { user, setCart, userType } = useContext(SiteContext);\n  const [product, setProduct] = useState(null);\n  const [msg, setMsg] = useState(null);\n  const [chatOpen, setChatOpen] = useState(false);\n  useEffect(() => {\n    fetch(`/api/singleProduct?_id=${match.params._id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setProduct(data.product);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Product does not exists.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get product. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, []);\n  if (product) {\n    return (\n      <div className={`generic singleProduct ${chatOpen ? \"chatOpen\" : \"\"}`}>\n        <Header />\n        <div className=\"content\">\n          <Gallery images={product.images} />\n          <div className=\"detail\">\n            <h1>{product.name}</h1>\n            <p>{product.dscr}</p>\n            <p>\n              {product.type === \"product\" && (\n                <>\n                  Available: {product.available && product.available}{\" \"}\n                  {product.available === 0 && <>Out of stock</>}\n                  {product.available < 7 && product.available > 0 && (\n                    <>Low stock</>\n                  )}\n                </>\n              )}\n              {product.type !== \"product\" && (\n                <>\n                  Availability:{\" \"}\n                  {product.available ? \"Available\" : \"Unavailable\"}\n                </>\n              )}\n            </p>\n            <p className=\"price\">\n              <label>Price: </label> <span className=\"symbol\"></span>\n              {calculatePrice({ product, gst: product.user?.gst })}{\" \"}\n              {calculatePrice({ product, gst: product.user?.gst }) !==\n                calculatePrice({\n                  product,\n                  gst: product.user?.gst,\n                  discount: false,\n                }) && (\n                <span className=\"originalPrice\">\n                  {calculatePrice({\n                    product,\n                    gst: product.user?.gst,\n                    discount: false,\n                  })}\n                </span>\n              )}\n            </p>\n            {\n              //   product.user?.gst?.verified && (\n              //   <p className=\"gst\">\n              //     Including {product.gst || product.user.gst.amount}% GST\n              //   </p>\n              // )\n            }\n            <div className=\"seller\">\n              <label>Being sold by:</label>\n              <Link to={`/marketplace?seller=${product.user?._id}`}>\n                <div className=\"profile\">\n                  <Img src={product.user.profileImg || \"/profile-user.jpg\"} />\n                  <p className=\"name\">\n                    {product.user.firstName} {product.user.lastName}{\" \"}\n                    <span className=\"contact\">{product.user.phone}</span>\n                  </p>\n                </div>\n              </Link>\n            </div>\n            <div className=\"actions\">\n              <button\n                disabled={\n                  !product.available ||\n                  userType === \"seller\" ||\n                  product.user?._id === user?._id\n                }\n                onClick={() => {\n                  setCart((prev) => addToCart(prev, product));\n                }}\n              >\n                Add to Cart\n              </button>\n              {userType === \"seller\" && product?.user._id !== user?._id && (\n                <p className=\"note\">\n                  Switch to buyer profile to buy this product.\n                </p>\n              )}\n              {userType === \"buyer\" && product?.user._id === user?._id && (\n                <p className=\"note\">Can't buy product from self.</p>\n              )}\n            </div>\n          </div>\n          <Modal className=\"msg\" open={msg}>\n            {msg}\n          </Modal>\n        </div>\n        {product && <MiniChat client={product.user} onToggle={setChatOpen} />}\n        <Footer />\n      </div>\n    );\n  }\n  return (\n    <div className={`generic singleProduct ${chatOpen ? \"chatOpen\" : \"\"}`}>\n      <Header />\n      loading\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n      <Footer />\n    </div>\n  );\n};\n\nconst Gallery = ({ images }) => {\n  const [view, setView] = useState(images[0]);\n  return (\n    <div className=\"gallery\">\n      <ImageView img={view} />\n      <div className=\"thumbs\">\n        {images.map((item, i) => (\n          <Img key={i} src={item} onClick={() => setView(item)} />\n        ))}\n        {images.length === 0 && <p>No image was provided by the seller.</p>}\n      </div>\n    </div>\n  );\n};\n\nconst ImageView = ({ img }) => {\n  const [src, setSrc] = useState(img || \"/open_box.png\");\n  const [boundingBody, setBoundingBody] = useState(null);\n  const [applyStyle, setApplyStyle] = useState(false);\n  const [style, setStyle] = useState({});\n  const container = useRef();\n  useLayoutEffect(() => {\n    setBoundingBody(container.current?.getBoundingClientRect());\n  }, []);\n  useEffect(() => {\n    setSrc(img || \"/open_box.png\");\n  }, [img]);\n  return (\n    <div\n      ref={container}\n      className={`mainView ${!img ? \"noImg\" : \"\"}`}\n      onMouseMove={(e) => {\n        if (img) {\n          const x =\n            Math.abs(\n              Math.round(\n                (e.clientX - boundingBody.x) / (boundingBody.width / 100)\n              )\n            ) * 0.65;\n          const y =\n            Math.round(\n              (e.clientY - boundingBody.y) / (boundingBody.height / 100)\n            ) * 0.65;\n          setStyle({\n            transform: `scale(2) translateY(${Math.max(\n              30 + -y,\n              -30\n            )}%) translateX(${Math.max(30 + -x, -30)}%)`,\n          });\n        }\n      }}\n      onTouchStart={(e) => {\n        document.querySelector(\"body\").style.overflow = \"hidden\";\n        setApplyStyle(true);\n      }}\n      onTouchEnd={(e) => {\n        document.querySelector(\"body\").style.overflow = \"auto\";\n        setApplyStyle(false);\n      }}\n      onTouchMove={(e) => {\n        if (img) {\n          const x =\n            Math.abs(\n              Math.round(\n                (e.touches[0].clientX - boundingBody.x) /\n                  (boundingBody.width / 100)\n              )\n            ) * 0.65;\n          const y =\n            Math.round(\n              (e.touches[0].clientY - boundingBody.y) /\n                (boundingBody.height / 100)\n            ) * 0.65;\n          setStyle({\n            transform: `scale(2) translateY(${Math.max(\n              30 + -y,\n              -30\n            )}%) translateX(${Math.max(30 + -x, -30)}%)`,\n            transition: \"none\",\n          });\n        }\n      }}\n      onMouseEnter={() => setApplyStyle(true)}\n      onMouseLeave={() => setApplyStyle(false)}\n    >\n      <img\n        className={applyStyle ? \"scale\" : \"\"}\n        style={applyStyle ? style : {}}\n        src={src}\n        onError={() => setSrc(\"/img_err.png\")}\n      />\n    </div>\n  );\n};\n\nexport const Cart = () => {\n  const { setCart, cart } = useContext(SiteContext);\n  const [loading, setLoading] = useState(true);\n  const [carts, setCarts] = useState(null);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"/api/getCartDetail\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        cart,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          setCarts(data.carts);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get cart detail. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  }, [cart]);\n  if (carts) {\n    return (\n      <div className=\"fullCart\">\n        <div className=\"head\">\n          <h1>Cart</h1>\n        </div>\n        <div className=\"allCarts\">\n          {carts.map(({ seller, products }) =>\n            products?.length ? (\n              <Shop\n                key={seller._id}\n                seller={seller}\n                products={products}\n                loading={loading}\n              />\n            ) : null\n          )}\n          {carts?.length === 0 && <p>Cart is empty</p>}\n        </div>\n        <Modal open={msg} className=\"msg\">\n          {msg}\n        </Modal>\n      </div>\n    );\n  }\n  return (\n    <div className=\"fullCart\">\n      <div className=\"head\">\n        <h1>Cart</h1>\n      </div>\n      <div className=\"allCarts\">Cart is empty.</div>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Shop = ({ seller, products, loading }) => {\n  const { user, setCart, config } = useContext(SiteContext);\n  const [msg, setMsg] = useState(null);\n  const [deliveryDetail, setDeliveryDetail] = useState({\n    name: user.firstName + \" \" + user.lastName,\n    phone: user.phone,\n  });\n  const [addressForm, setAddressForm] = useState(false);\n  const [milestoneForm, setMilestoneForm] = useState(false);\n  const [showTerms, setShowTerms] = useState(false);\n  const total = +(\n    products.reduce(\n      (a, c) =>\n        (\n          a +\n          calculatePrice({ product: c.product, gst: seller.gst }) * c.qty\n        ).fix(),\n      0\n    ) + (seller.shopInfo?.shippingCost || 0)\n  ).fix();\n  const fee = (total * ((100 + config.fee) / 100) - total).fix();\n  return (\n    <>\n      <div className=\"shop\">\n        <div className=\"seller\">\n          <div className=\"profile\">\n            <Img src={seller.profileImg || \"/profile-user.jpg\"} />\n            <p className=\"name\">\n              {seller.firstName} {seller.lastName} {\" \"}\n              <span className=\"role\">Seller</span>\n              <span className=\"contact\">{seller.phone}</span>\n            </p>\n          </div>\n        </div>\n        <div className=\"cart\">\n          <ul className=\"items\">\n            {products.map(({ product, qty }, i) => (\n              <CartItem key={i} gst={seller.gst} product={product} qty={qty} />\n            ))}\n            <div className=\"total\">\n              <p>\n                <label>Shipping</label>{seller.shopInfo?.shippingCost}\n              </p>\n              <p>\n                <label>Delivery Pay Fee {config.fee}%</label>{fee}\n              </p>\n              <hr />\n              <p>\n                <label>Total</label>{total + fee}\n              </p>\n              {\n                //   <span className=\"note\">\n                //   All tax and fee inclued.\n                //   <Tip>\n                //     Seller specified GST TAX and 10% Delivery Pay Fee applies to\n                //     all orders.\n                //   </Tip>\n                // </span>\n              }\n            </div>\n            <div className=\"terms\">\n              <p>\n                <label>Refundable: </label>\n                {seller.shopInfo?.refundable || \"N/A\"}\n              </p>\n              <p>\n                By proceeding, I agree to seller's all{\" \"}\n                <span className=\"btn\" onClick={() => setShowTerms(true)}>\n                  Terms\n                </span>\n              </p>\n            </div>\n          </ul>\n          <span className=\"devider\" />\n          <div className=\"deliveryDetail\">\n            <div className=\"head\">\n              <h3>Delivery Information</h3>\n              <button onClick={() => setAddressForm(true)}>Edit</button>\n            </div>\n            <ul>\n              {Object.entries(deliveryDetail).map(([key, value], i) => (\n                <li key={i}>\n                  <label>{key}</label>\n                  {value}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className=\"actions\">\n          <button onClick={() => setMilestoneForm(true)}>Place order</button>\n        </div>\n        <Modal\n          open={addressForm}\n          head={true}\n          label=\"Delivery Address\"\n          setOpen={setAddressForm}\n          className=\"addAddress\"\n        >\n          <AddressForm\n            client={{\n              name: deliveryDetail.name,\n              phone: deliveryDetail.phone,\n              address: deliveryDetail,\n            }}\n            onSuccess={(data) => {\n              setDeliveryDetail((prev) => ({ ...prev, ...data.address }));\n              setAddressForm(false);\n            }}\n            onCancel={() => setAddressForm(false)}\n          />\n        </Modal>\n        <Modal\n          className=\"milestoneRequest\"\n          head={true}\n          label=\"Checkout\"\n          open={milestoneForm}\n          setOpen={setMilestoneForm}\n        >\n          <MilestoneForm\n            action=\"create\"\n            client={seller}\n            definedAmount={total + fee}\n            order={{\n              products,\n              deliveryDetail: {\n                ...deliveryDetail,\n                deliveryWithin: seller.shopInfo?.deliveryWithin,\n              },\n              total,\n              refundable: seller.shopInfo?.refundable,\n              terms: seller.shopInfo?.terms,\n              shippingCost: seller.shopInfo?.shippingCost,\n            }}\n            onSuccess={({ milestone, order }) => {\n              setCart((prev) =>\n                prev.filter(({ product }) => {\n                  return !order.products.some(\n                    (order) => order.product._id === product._id\n                  );\n                })\n              );\n              setMilestoneForm(false);\n              setMsg(\n                <>\n                  <button onClick={() => setMsg(null)}>Okay</button>\n                  <div>\n                    <Succ_svg />\n                    <h4>Order successfully submitted.</h4>\n                    <Link to=\"/account/myShopping/orders\">View All orders</Link>\n                  </div>\n                </>\n              );\n            }}\n          />\n        </Modal>\n        <Modal\n          open={showTerms}\n          setOpen={setShowTerms}\n          head={true}\n          label=\"Seller's Terms\"\n          className=\"shopTerms\"\n        >\n          <ul>\n            {seller.shopInfo?.terms?.map((item, i) => (\n              <li key={i}>{item}</li>\n            ))}\n          </ul>\n        </Modal>\n        <Modal className=\"msg\" open={msg}>\n          {msg}\n        </Modal>\n      </div>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport const CartItem = ({ product, gst, qty }) => {\n  const { setCart } = useContext(SiteContext);\n  const price = calculatePrice({ product, gst: gst || product.user?.gst });\n  return (\n    <li className={`item ${!product.images.length && \"noImg\"}`}>\n      <Img src={product.images[0] || \"/open_box.png\"} />\n      <div className=\"detail\">\n        <p className=\"name\">{product.name}</p>\n        <div className=\"qty\">\n          QTY:{\" \"}\n          <div className=\"addRemove\">\n            <button\n              onClick={() => {\n                setCart((prev) =>\n                  prev\n                    .map((item) => {\n                      if (item.product._id === product._id) {\n                        return {\n                          ...item,\n                          qty: item.qty - 1,\n                        };\n                      } else {\n                        return item;\n                      }\n                    })\n                    .filter((item) => item.qty > 0)\n                );\n              }}\n            >\n              <Minus_svg />\n            </button>\n            {qty}\n            <button\n              onClick={() => {\n                setCart((prev) =>\n                  prev.map((item) => {\n                    if (item.product._id === product._id) {\n                      return {\n                        ...item,\n                        qty: item.qty + 1,\n                      };\n                    } else {\n                      return item;\n                    }\n                  })\n                );\n              }}\n            >\n              <Plus_svg />\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"price\">\n        <span className=\"qty\">\n          {price} x {qty}\n        </span>\n        {(price * qty).fix()}\n      </div>\n      {gst?.verified && <Tip>Including {product.gst}% GST.</Tip>}\n    </li>\n  );\n};\n\nexport default Marketplace;\n","import {\n  useState,\n  useEffect,\n  useContext,\n  useRef,\n  useCallback,\n  useLayoutEffect,\n  lazy,\n} from \"react\";\nimport { Link, useHistory, Route } from \"react-router-dom\";\nimport { SiteContext, socket, ChatContext } from \"../SiteContext\";\nimport { Modal, Confirm } from \"./Modal\";\nimport {\n  Succ_svg,\n  Err_svg,\n  X_svg,\n  UploadFiles,\n  Actions,\n  Img,\n  Moment,\n  moment,\n} from \"./Elements\";\nimport { MilestoneForm } from \"./Account\";\nimport TextareaAutosize from \"react-textarea-autosize\";\n\nrequire(\"./styles/deals.scss\");\n\nconst Deals = ({ history, location, match }) => {\n  const { user, setUser } = useContext(SiteContext);\n  const { contacts, setContacts } = useContext(ChatContext);\n  const user_id = useRef();\n  const [userCard, setUserCard] = useState(null);\n  const [chat, setChat] = useState(null);\n  useEffect(() => {\n    if (userCard?._id !== user_id.current) {\n      socket.emit(\"initiateChat\", {\n        client_id: userCard?._id,\n        ...(userCard.messages === undefined && { newChat: true }),\n      });\n      user_id.current = userCard._id;\n    }\n    if (userCard) {\n      setChat(userCard?.messages);\n    }\n  }, [userCard]);\n  useEffect(() => {\n    if (match.params._id) {\n      const person = contacts.find(\n        (chat) => chat.client._id.toString() === match.params._id\n      );\n      if (person) {\n        const { client, messages, status, lastSeen } = person;\n        setUserCard({ ...client, status, messages });\n      }\n    }\n  }, [match.params, contacts]);\n  return (\n    <div className={`chatContainer ${userCard ? \"chatOpen\" : \"\"}`}>\n      <div className=\"contactsContainer\">\n        <UserSearch setUserCard={setUserCard} setContacts={setContacts} />\n        {\n          //   <div className=\"userCard\">\n          //   {userCard ? (\n          //     <>\n          //       <div className=\"profile\">\n          //         <Img src={userCard.profileImg || \"/profile-user.jpg\"} />\n          //         <div className=\"details\">\n          //           <p className=\"name\">\n          //             {userCard.firstName\n          //               ? userCard.firstName + \" \" + userCard.lastName\n          //               : \"Deleted user\"}\n          //           </p>\n          //           <a className=\"phone\">{userCard.phone}</a>\n          //           <a href={`mailto:${userCard.email}`} className=\"email\">\n          //             {userCard.email}\n          //           </a>\n          //           <p className=\"add\">\n          //             {`${userCard.address?.city || \"\"} ${\n          //               userCard.address?.country || \"\"\n          //             }`}\n          //           </p>\n          //         </div>\n          //       </div>\n          //       <div className=\"clas\">\n          //         <p className=\"status\">{userCard.status}</p>\n          //         <button>Chat</button>\n          //       </div>\n          //     </>\n          //   ) : (\n          //     <p className=\"userCard placeholder\">Select a user</p>\n          //   )}\n          // </div>\n        }\n        <p className=\"label\">Messages</p>\n        <div className=\"peopleWrapper\">\n          <ul className=\"people\">\n            {contacts.map(({ client, messages, status, lastSeen, unread }) => (\n              <Person\n                key={client._id}\n                client={client}\n                messages={messages}\n                status={status}\n                lastSeen={lastSeen}\n                userCard={userCard}\n                unread={unread}\n              />\n            ))}\n            {contacts.length === 0 && (\n              <p className=\"placeholder\">Start making payments now.</p>\n            )}\n          </ul>\n        </div>\n      </div>\n      <Chat\n        chat={chat}\n        setContacts={setContacts}\n        userCard={userCard}\n        setUserCard={setUserCard}\n        user={user}\n        setChat={setChat}\n      />\n    </div>\n  );\n};\n\nconst UserSearch = ({ setUserCard, setContacts }) => {\n  const history = useHistory();\n  const [msg, setMsg] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [showUsers, setShowUsers] = useState(false);\n  const formRef = useRef();\n  const inviteUser = useCallback(() => {\n    const phoneReg = new RegExp(\n      /^(\\+91|91|1|)(?=\\d{10}$)/gi\n      // /((\\+*)((0[ -]+)*|(91 )*)(\\d{12}|\\d{10}))|\\d{5}([- ]*)\\d{6}/\n    );\n    if (phoneReg.test(value.toLowerCase())) {\n      fetch(\n        `/api/inviteUser?${new URLSearchParams({\n          q: \"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\"),\n          origin: window.location.origin,\n        }).toString()}`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.code === \"ok\") {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  {\n                    // <h4>Invitation sent.</h4>\n                  }\n                  <h4>\n                    An invitaion has been sent to{\" \"}\n                    {\"+91\" + value.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\")}.\n                  </h4>\n                </div>\n              </>\n            );\n          } else {\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Err_svg />\n                  <h4>Invitation could not be sent. Please try again.</h4>\n                </div>\n              </>\n            );\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Invitation could not be sent. Make sure you're online.</h4>\n              </div>\n            </>\n          );\n        });\n    } else {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Enter a valid phone number to send invitation.</h4>\n          </div>\n        </>\n      );\n    }\n  }, [value]);\n  const fetchUsers = () => {\n    fetch(`/api/getUsers?q=${encodeURIComponent(value)}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data) {\n          setUsers(data);\n        }\n      });\n    if (value === \"\") {\n      setUsers([]);\n    }\n  };\n  const documentClickHandler = (e) => {\n    if (e.path.includes(formRef.current)) {\n    } else {\n      setShowUsers(false);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"click\", documentClickHandler);\n    return () => {\n      document.removeEventListener(\"click\", documentClickHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (value) {\n      fetchUsers();\n    } else {\n      setUsers([]);\n    }\n  }, [value]);\n  return (\n    <div className=\"search\">\n      <form onSubmit={(e) => e.preventDefault()} ref={formRef}>\n        <section>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"17.9\"\n            height=\"17.9\"\n            viewBox=\"0 0 17.9 17.9\"\n          >\n            <path\n              id=\"Path_208\"\n              data-name=\"Path 208\"\n              d=\"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z\"\n              transform=\"translate(0)\"\n              fill=\"#b9b9b9\"\n            />\n          </svg>\n          <input\n            label=\"search\"\n            required={true}\n            placeholder=\"Phone Number\"\n            onFocus={() => setShowUsers(true)}\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n          />\n          <Link\n            className={`sendReq ${\n              users.length > 0 || !value ? \"disabled\" : \"\"\n            }`}\n            onClick={inviteUser}\n            to=\"#\"\n          >\n            Invite\n          </Link>\n        </section>\n        {showUsers && users.length ? (\n          <ul className=\"searchResult\">\n            {users.map((user, i) => (\n              <a\n                key={i}\n                onClick={() => {\n                  setUserCard(user);\n                  setContacts((prev) => [\n                    ...prev,\n                    { client: user, messages: [], status: \"\" },\n                  ]);\n                  history.push(`/account/deals/${user._id}`);\n                  setShowUsers(false);\n                }}\n              >\n                <li key={i}>\n                  <div className=\"profile\">\n                    <Img src={user.profileImg} />\n                    <p className=\"name\">\n                      {user.firstName + \" \" + user.lastName}\n                      <span className=\"phone\">{user.phone}</span>\n                    </p>\n                  </div>\n                </li>\n              </a>\n            ))}\n          </ul>\n        ) : null}\n      </form>\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Person = ({ client, messages, lastSeen, userCard, unread }) => {\n  const { setContacts } = useContext(ChatContext);\n  const history = useHistory();\n  return (\n    <li\n      className={client._id === userCard?._id ? \"active\" : undefined}\n      onClick={() => {\n        history.push(`/account/deals/${client._id}`);\n        setContacts((prev) =>\n          prev.map((chat) => {\n            if (client?._id === chat.client?._id) {\n              return {\n                ...chat,\n                lastSeen: new Date().toISOString(),\n                unread: null,\n              };\n            }\n            return chat;\n          })\n        );\n      }}\n    >\n      {\n        <>\n          <Img src={client.profileImg || \"/profile-user.jpg\"} />\n          <div>\n            <p className=\"name\">\n              {client.firstName\n                ? client.firstName + \" \" + client.lastName\n                : \"Deleted User\"}\n            </p>\n            {messages.length > 0 && (\n              <p className=\"lastMessage\">\n                {messages[messages.length - 1].text}\n              </p>\n            )}\n            {unread ? <p className=\"unread\">{unread}</p> : null}\n          </div>\n        </>\n      }\n    </li>\n  );\n};\n\nexport const Chat = ({\n  chat,\n  setChat,\n  userCard,\n  setUserCard,\n  user,\n  setContacts,\n}) => {\n  const { setUser, userType } = useContext(SiteContext);\n  const { rooms, setRooms } = useContext(ChatContext);\n  const chatWrapper = useRef(null);\n  const loading = useRef(null);\n  const history = useHistory();\n  const [msgLoading, setMsgLoading] = useState(false);\n  const [allMessages, setAllMessages] = useState(\n    chat?.length >= 50 ? false : true\n  );\n  const [page, setPage] = useState(2);\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    if (rooms.length) {\n      fetch(\"/api/updateLastSeen\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ rooms }),\n      });\n    }\n    return () => {\n      if (rooms.length) {\n        fetch(\"/api/updateLastSeen\", {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ rooms }),\n        });\n      }\n    };\n  }, [rooms]);\n  const loadChat = () => {\n    fetch(`/api/getMessages?client=${userCard._id}&page=${page}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setMsgLoading(false);\n        if (data.code === \"ok\") {\n          setContacts((prev) =>\n            prev.map((chat) => {\n              if (chat._id === data.contact?._id) {\n                return {\n                  ...chat,\n                  messages: data.contact.messages,\n                };\n              }\n              return chat;\n            })\n          );\n          setPage((prev) => prev + 1);\n          if (data.contact.total === data.contact.messages.length) {\n            setAllMessages(true);\n          }\n        }\n      })\n      .catch((err) => {\n        setMsgLoading(false);\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Could not get messages. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  useEffect(() => {\n    if (chat?.length >= 50) {\n      setAllMessages(false);\n    } else {\n      setAllMessages(true);\n    }\n  }, [chat]);\n  return (\n    <div className=\"chat\">\n      {chat ? (\n        <>\n          <div className=\"chatHead\">\n            <div className=\"profile\">\n              <button\n                className=\"back\"\n                onClick={() => {\n                  history.push(\"/account/deals\");\n                  setChat(null);\n                  setUserCard(null);\n                }}\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                >\n                  <path\n                    id=\"Path_10\"\n                    data-name=\"Path 10\"\n                    d=\"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z\"\n                    transform=\"translate(16 16) rotate(180)\"\n                    fill=\"#2699fb\"\n                  />\n                </svg>\n              </button>\n              <Img src={userCard.profileImg || \"/profile-user.jpg\"} />\n              <p className=\"name\">\n                {userCard.firstName\n                  ? userCard.firstName + \" \" + userCard.lastName\n                  : \"Deleted user\"}\n                {userCard.lastSeen && (\n                  <span className=\"lastSeen\">\n                    <Moment format=\"hh:mma, MMM DD\">{userCard.lastSeen}</Moment>\n                  </span>\n                )}\n              </p>\n            </div>\n            {(userCard.status === \"\" || userCard.status === \"blocked\") && (\n              <>\n                {userType === \"seller\" ? (\n                  <Link\n                    className=\"pay\"\n                    to={`/account/deals/${userCard._id}/payment`}\n                  >\n                    Request Milestone\n                  </Link>\n                ) : (\n                  <>\n                    <Link\n                      className=\"pay\"\n                      to={`/account/deals/${userCard._id}/payment`}\n                    >\n                      Pay\n                    </Link>\n                    <Link\n                      className=\"viewShop\"\n                      to={`/marketplace?seller=${userCard._id}`}\n                    >\n                      View Shop\n                    </Link>\n                  </>\n                )}\n                <Actions>\n                  {\n                    userCard.status === \"\" && null\n                    // <Link\n                    //   className=\"pay\"\n                    //   to={`/account/deals/${userCard._id}/pay`}\n                    // >\n                    //   Pay\n                    // </Link>\n                  }\n                  <Link to={`/account/deals/${userCard._id}/report`}>\n                    Report\n                  </Link>\n                  <button\n                    onClick={() => {\n                      Confirm({\n                        label: ` ${\n                          userCard.status === \"blocked\" ? \"Unblock\" : \"Block\"\n                        } User`,\n                        question: `You sure want to ${\n                          userCard.status === \"blocked\" ? \"un\" : \"\"\n                        }block this user?`,\n                        callback: () => {\n                          const blocked = userCard.status === \"blocked\";\n                          fetch(\n                            `/api/${blocked ? \"unblockUser\" : \"blockUser\"}`,\n                            {\n                              method: \"PATCH\",\n                              headers: { \"Content-Type\": \"application/json\" },\n                              body: JSON.stringify({\n                                _id: userCard._id,\n                              }),\n                            }\n                          )\n                            .then((res) => res.json())\n                            .then((data) => {\n                              if (data.code === \"ok\") {\n                                setUser((prev) => ({\n                                  ...prev,\n                                  blockList: data.blockList,\n                                }));\n                                setContacts((prev) =>\n                                  prev.map((item) => {\n                                    if (item.client._id === userCard._id) {\n                                      return {\n                                        ...item,\n                                        status: blocked ? \"\" : \"blocked\",\n                                      };\n                                    } else {\n                                      return item;\n                                    }\n                                  })\n                                );\n                                setMsg(\n                                  <>\n                                    <button onClick={() => setMsg(null)}>\n                                      Okay\n                                    </button>\n                                    <div>\n                                      <Succ_svg />\n                                      <h4>\n                                        User successfully {blocked && \"un\"}\n                                        blocked.\n                                      </h4>\n                                    </div>\n                                  </>\n                                );\n                              } else {\n                                setMsg(\n                                  <>\n                                    <button onClick={() => setMsg(null)}>\n                                      Okay\n                                    </button>\n                                    <div>\n                                      <Err_svg />\n                                      <h4>\n                                        Could not {blocked && \"un\"}block user.\n                                        try again.\n                                      </h4>\n                                    </div>\n                                  </>\n                                );\n                              }\n                            })\n                            .catch((err) => {\n                              console.log(err);\n                              setMsg(\n                                <>\n                                  <button onClick={() => setMsg(null)}>\n                                    Okay\n                                  </button>\n                                  <div>\n                                    <Err_svg />\n                                    <h4>\n                                      Could not {blocked && \"un\"}block user.\n                                      Make sure you're online.\n                                    </h4>\n                                  </div>\n                                </>\n                              );\n                            });\n                        },\n                      });\n                    }}\n                  >\n                    {userCard.status === \"blocked\" ? \"Unblock\" : \"Block\"}\n                  </button>\n                </Actions>\n              </>\n            )}\n          </div>\n          <ul\n            className=\"chats\"\n            ref={chatWrapper}\n            onScroll={(e) => {\n              const { y } = loading.current?.getBoundingClientRect() || {};\n              if (y > 0 && !msgLoading) {\n                setMsgLoading(true);\n                loadChat();\n              }\n            }}\n          >\n            {[\n              ...chat.map((msg, i) => (\n                <Bubble chat={chat} key={msg._id} msg={msg} i={i} user={user} />\n              )),\n            ].reverse()}\n            {!allMessages && (\n              <li className=\"loading\" ref={loading}>\n                Loading\n              </li>\n            )}\n          </ul>\n          {userCard.status === \"\" && (\n            <ChatForm\n              onSuccess={() => {\n                chatWrapper.current?.scrollBy(\n                  0,\n                  chatWrapper.current.scrollHeight * 2\n                );\n              }}\n              rooms={rooms}\n              user={userCard._id}\n              newChat={!userCard.lastSeen}\n            />\n          )}\n        </>\n      ) : (\n        <div className=\"startChat\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"26.55\"\n            height=\"25.219\"\n            viewBox=\"0 0 26.55 25.219\"\n          >\n            <path\n              id=\"Path_1\"\n              data-name=\"Path 1\"\n              d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n              transform=\"translate(255.198 195.071)\"\n              fill=\"#707070\"\n            />\n          </svg>\n          <p>start a chat</p>\n        </div>\n      )}\n      <Modal\n        className=\"milestoneRequest\"\n        head={true}\n        label={userType === \"seller\" ? \"Request Milestone\" : \"Create Milestone\"}\n        open={\n          userCard &&\n          history.location.pathname.match(/^\\/account\\/deals\\/.+\\/payment$/)\n        }\n        setOpen={() => history.push(`/account/deals/${userCard._id}`)}\n      >\n        <MilestoneForm\n          action={userType === \"seller\" ? \"request\" : \"create\"}\n          client={userCard}\n          onSuccess={(milestone) => {\n            history.push(`/account/deals/${userCard._id}`);\n            setMsg(\n              <>\n                <button onClick={() => setMsg(null)}>Okay</button>\n                <div>\n                  <Succ_svg />\n                  <h4 className=\"amount\">{milestone.milestone?.amount}</h4>\n                  <h4>Milestone has been created</h4>\n                </div>\n                <Link to=\"/account/hold\" onClick={() => setMsg(null)}>\n                  Check your Delivery pay Hold\n                </Link>\n              </>\n            );\n          }}\n        />\n      </Modal>\n      <Route\n        path=\"/account/deals/:_id/report\"\n        component={({ location }) => (\n          <Modal\n            open={true}\n            head={true}\n            label=\"Report User\"\n            className=\"userReport\"\n            setOpen={() =>\n              history.push(location.pathname.replace(/\\/report/, \"\"))\n            }\n          >\n            <div className=\"content\">\n              <ReportForm\n                user={userCard}\n                onSuccess={() => {\n                  history.push(\n                    history.location.pathname.replace(/\\/report/, \"\")\n                  );\n                  setMsg(\n                    <>\n                      <button onClick={() => setMsg(null)}>Okay</button>\n                      <div>\n                        <Succ_svg />\n                        <h4>User has been reported.</h4>\n                      </div>\n                    </>\n                  );\n                }}\n              />\n            </div>\n          </Modal>\n        )}\n      />\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </div>\n  );\n};\n\nconst Bubble = ({ chat, msg, i, user }) => {\n  const history = useHistory();\n  const [milestone, setMilestone] = useState(null);\n  useEffect(() => {\n    if (msg.milestoneId) {\n      fetch(`/api/milestone?q=${msg.milestoneId}`)\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.milestones.length) {\n            setMilestone(data.milestones[0]);\n          }\n        });\n    }\n  }, []);\n  if (!msg) {\n    return null;\n  }\n  const timestamp =\n    Math.abs(\n      new Date(msg.createdAt).getTime() -\n        new Date(chat[i + 1]?.createdAt).getTime()\n    ) > 120000;\n  const dateStamp =\n    moment({\n      time: msg.createdAt,\n      format: \"YYYY-MM-DD\",\n    }) !== moment({ time: chat[i - 1]?.createdAt, format: \"YYYY-MM-DD\" }) ||\n    i === 0;\n  return (\n    <li\n      className={`bubble ${msg.from === user._id ? \"user\" : \"client\"} ${\n        milestone ? \"milestone\" : \"\"\n      }`}\n    >\n      {dateStamp && (\n        <Moment className=\"dateStamp\" format=\"MMM DD, YYYY\">\n          {msg.createdAt}\n        </Moment>\n      )}\n      {msg.text && (\n        <p\n          className=\"text\"\n          onClick={() => {\n            if (milestone) {\n              history.push(`/account/hold?q=${milestone._id}`);\n            }\n          }}\n        >\n          {milestone && <span className=\"amount\">{milestone.amount}</span>}\n          {msg.text}\n        </p>\n      )}\n      {msg.media && <MediaBubble link={msg.media} />}\n      {(timestamp || i === chat.length - 1) && (\n        <Moment className=\"timestamp\" format=\"hh:mm a\">\n          {msg.createdAt}\n        </Moment>\n      )}\n    </li>\n  );\n};\nconst MediaBubble = ({ link }) => {\n  let view = null;\n  let fullView = null;\n  const [open, setOpen] = useState(false);\n  if (link.match(/(\\.gif|\\.png|\\.jpg|\\.jpeg|\\.webp)$/i)) {\n    view = <Img src={link} onClick={() => setOpen(true)} />;\n  } else if (link.match(/(\\.mp3|\\.ogg|\\.amr|\\.m4a|\\.flac|\\.wav|\\.aac)$/i)) {\n    view = <audio src={link} controls=\"on\" />;\n  } else if (link.match(/(\\.mp4|\\.mov|\\.avi|\\.flv|\\.wmv|\\.webm)$/i)) {\n    view = (\n      <div className={`videoThumb`}>\n        <video src={link} onClick={() => setOpen(true)} />\n        <Img src=\"/play_btn.png\" />\n      </div>\n    );\n    fullView = <video src={link} controls=\"on\" autoPlay=\"on\" />;\n  } else {\n    view = (\n      <a href={link} target=\"_blank\" className=\"link\">\n        <Img src=\"/file_icon.png\" />\n        {link}\n      </a>\n    );\n  }\n  return (\n    <div className=\"file\">\n      {view}\n      <Modal open={open} className=\"chatMediaView\">\n        <button className=\"close\" onClick={() => setOpen(false)}>\n          <X_svg />\n        </button>\n        {fullView || view}\n      </Modal>\n    </div>\n  );\n};\n\nconst ChatForm = ({ rooms, user, newChat }) => {\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const [msg, setMsg] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [files, setFiles] = useState([]);\n  const submit = async (e) => {\n    e.preventDefault();\n    if (!socket.connected) {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Could not connect to server. Make sure you're online.</h4>\n          </div>\n        </>\n      );\n      return;\n    }\n    const cdn = process.env.REACT_APP_CDN_HOST;\n    const media = files.length\n      ? await UploadFiles({\n          files,\n          setMsg,\n        })\n      : [];\n    if (files.length && !media.length) {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>Could not send files. please try again.</h4>\n          </div>\n        </>\n      );\n      return;\n    }\n    if (media.length) {\n      media.forEach((link, i) => {\n        socket.emit(\"messageToServer\", {\n          rooms,\n          ...(newChat && { newChat }),\n          message: {\n            to: user,\n            media: link,\n          },\n        });\n      });\n      setFiles([]);\n    }\n    if (value && rooms.length) {\n      socket.emit(\"messageToServer\", {\n        rooms,\n        ...(newChat && { newChat }),\n        message: {\n          to: user,\n          text: value,\n        },\n      });\n      inputRef.current.focus();\n      setValue(\"\");\n    }\n  };\n  useEffect(() => {\n    socket.on(\"sendFail\", ({ err }) => {\n      setMsg(\n        <>\n          <button onClick={() => setMsg(null)}>Okay</button>\n          <div>\n            <Err_svg />\n            <h4>{err}</h4>\n          </div>\n        </>\n      );\n    });\n  }, []);\n  useEffect(() => {\n    if (!socket.connected) {\n      socket.connect();\n    }\n  }, [value, files]);\n  return (\n    <>\n      <form\n        onSubmit={submit}\n        ref={formRef}\n        className={loading ? \"loading\" : \"\"}\n      >\n        <Preview files={files} setFiles={setFiles} />\n        <section>\n          <TextareaAutosize\n            autoFocus={true}\n            ref={inputRef}\n            type=\"text\"\n            value={value}\n            style={{ height: \"100px\" }}\n            onChange={(e) => setValue(e.target.value)}\n            onKeyDown={(e) => {\n              if (e.keyCode === 13 && !e.altKey) {\n                submit(e);\n              } else if (e.keyCode === 13 && e.altKey) {\n                setValue(value + \"\\n\");\n              }\n            }}\n          />\n          <div className=\"fileUpload\">\n            <input\n              type=\"file\"\n              multiple={true}\n              onChange={(e) => {\n                setFiles((prev) => [\n                  ...prev,\n                  ...[...e.target.files].filter(\n                    (item) => !files.some((file) => file.name === item.name)\n                  ),\n                ]);\n              }}\n            />\n            <Img src=\"/paperclip.svg\" />\n          </div>\n        </section>\n        <button type=\"submit\" disabled={loading}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"26.55\"\n            height=\"25.219\"\n            viewBox=\"0 0 26.55 25.219\"\n          >\n            <path\n              id=\"Path_1\"\n              data-name=\"Path 1\"\n              d=\"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34\"\n              transform=\"translate(255.198 195.071)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </button>\n      </form>\n      <Modal open={msg} className=\"msg\">\n        {msg}\n      </Modal>\n    </>\n  );\n};\nconst ReportForm = ({ user, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [msg, setMsg] = useState(null);\n  const submit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    fetch(\"/api/reportUser\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user: user._id,\n        message,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          onSuccess?.(data);\n        } else {\n          setMsg(\n            <>\n              <button onClick={() => setMsg(null)}>Okay</button>\n              <div>\n                <Err_svg />\n                <h4>Report could not be submitted. try again.</h4>\n              </div>\n            </>\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMsg(\n          <>\n            <button onClick={() => setMsg(null)}>Okay</button>\n            <div>\n              <Err_svg />\n              <h4>Report could not be submitted. Make sure you're online.</h4>\n            </div>\n          </>\n        );\n      });\n  };\n  return (\n    <>\n      <form onSubmit={submit}>\n        <section>\n          <label>Messag</label>\n          <TextareaAutosize\n            required={true}\n            onChange={(e) => setMessage(e.target.value)}\n          />\n        </section>\n        <section className=\"btns\">\n          <button className=\"submit\">Submit</button>\n        </section>\n      </form>\n      {loading && (\n        <div className=\"spinnerContainer\">\n          <div className=\"spinner\" />\n        </div>\n      )}\n      <Modal className=\"msg\" open={msg}>\n        {msg}\n      </Modal>\n    </>\n  );\n};\n\nconst Preview = ({ files, setFiles }) => {\n  if (files.length === 0) {\n    return null;\n  }\n  return (\n    <div className=\"preview\">\n      {files.map((item) => {\n        const file = {\n          type: item.type,\n          name: item.name,\n          url: URL.createObjectURL(item),\n        };\n        const img = file.type.startsWith(\"image\");\n        return (\n          <div key={item.name} className={`file ${img ? \"thumb\" : \"any\"}`}>\n            <button\n              className=\"close\"\n              type=\"button\"\n              onClick={() =>\n                setFiles((prev) =>\n                  prev.filter((item) => file.name !== item.name)\n                )\n              }\n            >\n              <X_svg />\n            </button>\n            <Img\n              className={img ? \"thumb\" : \"\"}\n              src={img ? file.url : \"/file_icon.png\"}\n            />\n            {!img && <p className=\"filename\">{item.name}</p>}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Deals;\n","import React, {\n  createContext,\n  useState,\n  useEffect,\n  useContext,\n  useRef,\n} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { LS } from \"./components/Elements\";\nimport { io } from \"socket.io-client\";\nexport const socket = io();\n\nexport const SiteContext = createContext();\nexport const Provider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userType, setUserType] = useState(LS.get(\"userType\") || \"\");\n  const [cart, setCart] = useState(JSON.parse(LS.get(\"localCart\")) || []);\n  const [config, setConfig] = useState({});\n  useEffect(() => {\n    LS.set(\"localCart\", JSON.stringify(cart));\n  }, [cart]);\n  useEffect(() => {\n    if (userType === \"seller\") {\n      document.body.style.setProperty(\"--blue\", `#2598b6`);\n    } else {\n      document.body.style.setProperty(\"--blue\", `#3b2ab4`);\n    }\n    LS.set(\"userType\", userType);\n  }, [userType]);\n  useEffect(() => {\n    fetch(\"/api/siteConfig\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.code === \"ok\") {\n          setConfig(data.config || {});\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  return (\n    <SiteContext.Provider\n      value={{\n        user,\n        setUser,\n        isAuthenticated,\n        setIsAuthenticated,\n        cart,\n        setCart,\n        userType,\n        setUserType,\n        config,\n      }}\n    >\n      {children}\n    </SiteContext.Provider>\n  );\n};\n\nexport const ChatContext = createContext();\nexport const ChatProvider = ({ children }) => {\n  const history = useHistory();\n  const { user } = useContext(SiteContext);\n  const [windowFocus, setWindowFocus] = useState(true);\n  const [connectedRooms, setConnectedRooms] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [unread, setUnread] = useState(0);\n  const effectRan = useRef(false);\n  useEffect(() => {\n    if (user && contacts.length === 0) {\n      fetch(\"/api/getChat\")\n        .then((res) => res.json())\n        .then((data) => {\n          setContacts(() =>\n            data\n              .map((chat) => {\n                const status = user.blockList?.some(\n                  (item) => item === chat.client._id\n                )\n                  ? \"blocked\"\n                  : chat.clientBlock\n                  ? \"blockedByClient\"\n                  : \"\";\n                return {\n                  ...chat,\n                  ...(chat.client.phone && { status }),\n                  unread: chat.messages.filter((msg) => {\n                    return new Date(msg.createdAt) > new Date(chat.lastSeen);\n                  }).length,\n                };\n              })\n              .sort((a, b) => {\n                if (\n                  new Date(a.messages[a.messages.length - 1]?.createdAt) >\n                  new Date(b.messages[b.messages.length - 1]?.createdAt)\n                ) {\n                  return -1;\n                } else {\n                  return 1;\n                }\n              })\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [user]);\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      console.log(\"connected\");\n    });\n    socket.on(\"disconnect\", () => {\n      console.log(\"disconnected from socket\");\n    });\n    socket.on(\n      \"connectedToRoom\",\n      ({ rooms, newChat, client, clientRoom_id }) => {\n        if (newChat) {\n          setContacts((prev) =>\n            prev.map((chat) => {\n              if (chat.client._id === client) {\n                return {\n                  ...chat,\n                  _id: clientRoom_id,\n                };\n              } else {\n                return chat;\n              }\n            })\n          );\n        }\n        setRooms(rooms);\n      }\n    );\n    const focusHandler = (e) => setWindowFocus(true);\n    const blurHandler = (e) => setWindowFocus(false);\n    window.addEventListener(\"focus\", focusHandler);\n    window.addEventListener(\"blur\", blurHandler);\n    return () => {\n      window.removeEventListener(\"focus\", focusHandler);\n      window.removeEventListener(\"blur\", blurHandler);\n    };\n  }, []);\n  useEffect(() => {\n    if (!effectRan.current && user) {\n      socket.on(\"messageToUser\", (payload) => {\n        const focus =\n          setWindowFocus &&\n          history.location.pathname.replace(\"/account/deals/\", \"\") ===\n            payload.from;\n        if (payload.from) {\n          setContacts((prev) => {\n            const newContacts = prev\n              .map((chat) => {\n                const newMessages = [\n                  ...chat.messages,\n                  { ...payload, createdAt: new Date(), updatedAt: new Date() },\n                ];\n                if (payload.from === user?._id) {\n                  if (chat.client._id === payload.to) {\n                    return {\n                      ...chat,\n                      messages: newMessages,\n                    };\n                  }\n                } else {\n                  if (chat.client._id === payload.from) {\n                    return {\n                      ...chat,\n                      messages: newMessages,\n                      unread: newMessages.filter(\n                        (msg) =>\n                          new Date(msg.createdAt) > new Date(chat.lastSeen)\n                      ).length,\n                    };\n                  }\n                }\n                return chat;\n              })\n              .sort((a, b) =>\n                new Date(a.messages[a.messages.length - 1]?.createdAt) >\n                new Date(b.messages[b.messages.length - 1]?.createdAt)\n                  ? -1\n                  : 1\n              );\n            return newContacts;\n          });\n          if (!focus) {\n            socket.emit(\"clientAway\", payload);\n          }\n        }\n      });\n      socket.on(\"newChat\", (payload) => {\n        setContacts((prev) => [\n          { ...payload.chat },\n          ...prev.filter(({ _id }) => _id !== payload.chat?._id),\n        ]);\n      });\n      effectRan.current = true;\n    }\n  }, [user]);\n  useEffect(() => {\n    if (contacts.map((room) => room._id).join(\"\") !== connectedRooms.join(\"\")) {\n      socket.emit(\"joinRooms\", { rooms: contacts.map((room) => room._id) });\n      setConnectedRooms(contacts.map((room) => room._id));\n    }\n  }, [contacts]);\n  useEffect(() => {\n    setUnread(contacts.reduce((a, c) => a + c.unread, 0));\n  }, [contacts]);\n  return (\n    <ChatContext.Provider\n      value={{\n        contacts,\n        setContacts,\n        unread,\n        rooms,\n        setRooms,\n      }}\n    >\n      {children}\n    </ChatContext.Provider>\n  );\n};\n"],"sourceRoot":""}