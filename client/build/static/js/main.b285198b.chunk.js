(this["webpackJsonpdeliveryPay-react"]=this["webpackJsonpdeliveryPay-react"]||[]).push([[0],{119:function(e,t,n){},121:function(e,t,n){},129:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var c=n(106),s=n(107),a=n(114),i=n(113),l=n(1),r=n.n(l),o=n(32),j=n.n(o),d=(n(119),n(2)),h=n(0),u=Object(l.createContext)(),b=function(e){var t=e.children,n=Object(l.useState)(null),c=Object(d.a)(n,2),s=c[0],a=c[1],i=Object(l.useState)(!1),r=Object(d.a)(i,2),o=r[0],j=r[1];return Object(h.jsx)(u.Provider,{value:{user:s,setUser:a,isAuthenticated:o,setIsAuthenticated:j},children:t})},O=n(13),x=n(5),m=n(6),f=function(e){var t=e.containerClass,n=e.open,c=e.setOpen,s=e.children,a=e.className,i=e.onBackdropClick,r=e.backdropClass,j=e.style;return Object(l.useEffect)((function(){if(t){var e=document.querySelector("#portal");return e.classList.add(t),function(){return e.classList.remove(t)}}})),n?Object(o.createPortal)(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"modalBackdrop ".concat(r),onClick:function(){null===c||void 0===c||c(!1),null===i||void 0===i||i()}}),Object(h.jsx)("div",{style:Object(m.a)({},j),className:"modal ".concat(a||""),children:s})]}),document.querySelector("#portal")):null},p=function(e){var t=e.label,n=e.question,c=e.callback,s=function(){return j.a.render(Object(h.jsx)(h.Fragment,{}),document.querySelector("#confirm"))},a=function(){return s()};j.a.render(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"modalBackdrop"}),Object(h.jsxs)("div",{className:"modal confirm ",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:t}),Object(h.jsx)("button",{onClick:a,children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("p",{className:"question",children:n}),Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("button",{className:"yes",onClick:function(){c(),s()},children:"Confirm"}),Object(h.jsx)("button",{className:"no",onClick:a,children:"Decline"})]})]})]})]}),document.querySelector("#confirm"))};n(121);var g=function(e){e.history;var t=Object(l.useContext)(u),n=t.user,c=t.setUser;return Object(l.useEffect)((function(){fetch("/api/authUser").then((function(e){return e.json()})).then((function(e){e.user&&c(e.user)}))}),[]),Object(h.jsxs)("div",{className:"landingPage",children:[Object(h.jsx)("header",{children:Object(h.jsxs)("div",{className:"innerWrapper",children:[Object(h.jsxs)("div",{className:"links",children:[Object(h.jsx)(x.b,{className:"logoLink",to:"/",children:Object(h.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(h.jsx)(x.b,{to:"#",children:"For Business"}),Object(h.jsx)(x.b,{to:"#",children:"About us"})]}),Object(h.jsx)("div",{className:"path",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"345",height:"185.296",viewBox:"0 0 401.991 185.296",className:"path",children:Object(h.jsx)("path",{id:"Path_1938","data-name":"Path 1938",d:"M-73.783,185.675s177.855-12.2,269.307-64.419S328.208.379,328.208.379H-73.783",transform:"translate(73.783 -0.379)",fill:"#fff"})})}),Object(h.jsx)("div",{className:"clas",children:n?Object(h.jsx)(x.b,{to:"/account/home",children:"Dashboard"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.b,{to:"/u/login",children:"Login"}),Object(h.jsx)(x.b,{to:"/u/join",children:"Join Delivery pay"})]})})]})}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)("div",{className:"innerWrapper",children:[Object(h.jsxs)("div",{className:"text",children:[Object(h.jsxs)("h1",{children:["Never Pay Without",Object(h.jsx)("br",{})," Using Delivery pay"]}),Object(h.jsx)("p",{children:"Delivery pay is a secure transaction platform that completely protects you from being scammed when you want to buy or sell with someone you don't know."}),Object(h.jsxs)("div",{className:"clas",children:[Object(h.jsx)(x.b,{to:"/account/home",children:"I am a Seller"}),Object(h.jsx)(x.b,{to:"/account/home",children:"I am a Buyer"})]})]}),Object(h.jsx)("img",{className:"illustration",src:"/landingPage_illustration.svg",alt:"illustration"})]})})]})},v=n(12),N=n.p+"static/media/tick.71f1b4df.svg",y=n.p+"static/media/tick_border.30a56233.svg";n(129);var w=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"linear-gradient-red",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient-red)"}),Object(h.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]})},C=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(h.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(h.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(h.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(h.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(h.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]})},k=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})},P=function(e){var t=e.className;return Object(h.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#fff",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#336cf9"})]})},S=function(e){var t=e.className;return Object(h.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:Object(h.jsxs)("g",{id:"Ellipse_229","data-name":"Ellipse 229",fill:"#fff",stroke:"#707070",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]})})},_=function(e){var t=e.className;return Object(h.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#fff"})]})},M=function(){return Object(h.jsx)("svg",{className:"done",xmlns:"http://www.w3.org/2000/svg",width:"214.5",height:"2",viewBox:"0 0 214.5 2",children:Object(h.jsx)("line",{id:"Line_22","data-name":"Line 22",x2:"214.5",transform:"translate(0 1)",fill:"none",stroke:"#1be6d6",strokeWidth:"2"})})},D=function(){return Object(h.jsx)("svg",{className:"running",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"16.55",viewBox:"0 0 200 16.55",children:Object(h.jsxs)("g",{id:"Group_203","data-name":"Group 203",transform:"translate(-5063.943 -1197)",children:[Object(h.jsx)("path",{id:"Path_301","data-name":"Path 301",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5063.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_302","data-name":"Path 302",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5073.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_303","data-name":"Path 303",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5083.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_304","data-name":"Path 304",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5093.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_305","data-name":"Path 305",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5103.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_306","data-name":"Path 306",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5113.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_307","data-name":"Path 307",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5123.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_308","data-name":"Path 308",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5133.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_309","data-name":"Path 309",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5143.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_310","data-name":"Path 310",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5153.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_311","data-name":"Path 311",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5163.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_312","data-name":"Path 312",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5173.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_313","data-name":"Path 313",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5183.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_314","data-name":"Path 314",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5193.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_315","data-name":"Path 315",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5203.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_316","data-name":"Path 316",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5213.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_317","data-name":"Path 317",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5223.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_318","data-name":"Path 318",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5233.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_319","data-name":"Path 319",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5243.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_320","data-name":"Path 320",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5253.943 1213.55) rotate(-90)",fill:"#1be6d6"})]})})},F=function(){return Object(h.jsx)("svg",{className:"runningBack",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"16.55",viewBox:"0 0 200 16.55",children:Object(h.jsxs)("g",{id:"Group_226","data-name":"Group 226",transform:"translate(5263.943 1213.55) rotate(-180)",children:[Object(h.jsx)("path",{id:"Path_301","data-name":"Path 301",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5063.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_302","data-name":"Path 302",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5073.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_303","data-name":"Path 303",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5083.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_304","data-name":"Path 304",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5093.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_305","data-name":"Path 305",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5103.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_306","data-name":"Path 306",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5113.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_307","data-name":"Path 307",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5123.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_308","data-name":"Path 308",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5133.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_309","data-name":"Path 309",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5143.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_310","data-name":"Path 310",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5153.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_311","data-name":"Path 311",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5163.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_312","data-name":"Path 312",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5173.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_313","data-name":"Path 313",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5183.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_314","data-name":"Path 314",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5193.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_315","data-name":"Path 315",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5203.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_316","data-name":"Path 316",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5213.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_317","data-name":"Path 317",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5223.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_318","data-name":"Path 318",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5233.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_319","data-name":"Path 319",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5243.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_320","data-name":"Path 320",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5253.943 1213.55) rotate(-90)",fill:"#f6577c"})]})})},L=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:[Object(h.jsx)("line",{id:"Line_29","data-name":"Line 29",y2:"20",transform:"translate(10)",fill:"none",stroke:"#006dff",strokeWidth:"2"}),Object(h.jsx)("line",{id:"Line_30","data-name":"Line 30",x2:"20",transform:"translate(0 10)",fill:"none",stroke:"#006dff",strokeWidth:"2"})]})},A=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:Object(h.jsx)("line",{id:"Line_30","data-name":"Line 30",x2:"20",transform:"translate(0 10)",fill:"none",stroke:"#006dff",strokeWidth:"2"})})},R=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(h.jsx)("g",{id:"Symbol_82","data-name":"Symbol 82",transform:"translate(-507 1272) rotate(-90)",children:Object(h.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z",transform:"translate(1254 507)",fill:"#336cf9"})})})},B=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(h.jsx)("g",{id:"_1","data-name":" 1",transform:"translate(525 -1254) rotate(90)",children:Object(h.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z",transform:"translate(1254 507)",fill:"#ff0080"})})})},T=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z",transform:"translate(16 16) rotate(180)",fill:"#2699fb"})})},q=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23.616",height:"13.503",viewBox:"0 0 23.616 13.503",children:Object(h.jsx)("path",{id:"Icon_ionic-ios-arrow-down","data-name":"Icon ionic-ios-arrow-down",d:"M18,20.679l8.93-8.937a1.681,1.681,0,0,1,2.384,0,1.7,1.7,0,0,1,0,2.391L19.2,24.258a1.685,1.685,0,0,1-2.327.049L6.68,14.14a1.688,1.688,0,0,1,2.384-2.391Z",transform:"translate(-6.188 -11.246)",fill:"#53aefc"})})},Z=function(e){var t=e.defaultValue,n=e.required,c=e.onChange,s=Object(l.useState)(t),a=Object(d.a)(s,2),i=a[0],r=a[1];return Object(h.jsx)("section",{className:"checkbox",children:Object(h.jsxs)("div",{className:"ticks",onClick:function(){return r(!i)},children:[Object(h.jsx)("input",{type:"checkbox",value:i,required:n,onChange:function(e){r(!i),null===c||void 0===c||c(e)}}),Object(h.jsx)("img",{src:y}),i&&Object(h.jsx)("img",{src:N})]})})},E=function(e){var t=e.options,n=e.defaultValue,c=e.onChange,s=e.maxHeight,a=e.required,i=(e.disabled,e.dataId,e.validationMessage,e.className,e.placeholder),r=Object(l.useState)((function(){return n>-1&&t[n]?t[n].label:"object"===typeof n?n:""})),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)(!1),O=Object(d.a)(b,2),x=O[0],m=O[1],p=Object(l.useState)(""),g=Object(d.a)(p,2),v=g[0],N=g[1],y=Object(l.useState)({}),w=Object(d.a)(y,2),C=w[0],k=w[1],P=Object(l.useRef)(),S=Object(l.useRef)();return Object(l.useLayoutEffect)((function(){var e=S.current.getBoundingClientRect(),n=e.width,c=e.height,s=e.x,a=e.y;k({position:"absolute",left:s,top:a+c,width:n,height:37*t.length,maxHeight:window.innerHeight-(a+c)-16})}),[x]),Object(h.jsxs)("section",{className:"combobox ".concat(x?"open":""),ref:S,onClick:function(){return m(!x)},children:[i&&!j&&Object(h.jsx)("label",{children:i}),Object(h.jsx)("input",{ref:P,required:a,data:v,value:j,onFocus:function(e){return e.target.blur()},onChange:function(){}}),Object(h.jsx)("button",{type:"button",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(h.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(h.jsx)(f,{className:"sectionOptions",open:x,setOpen:m,backdropClass:"selectionOptionBack",onBackdropClick:function(){return m(!1)},style:C,children:Object(h.jsx)("ul",{style:{width:"100%",maxHeight:x?s:0,zIndex:100},className:"options",children:t.map((function(e){return Object(h.jsx)("li",{onClick:function(t){N(e.value),u(e.label),c&&c(e),m(!1),P.current.setCustomValidity("")},className:"option".concat(" ",j===e.label?"selected":""),children:e.label},e.label)}))})})]})},I=function(e){var t=e.defaultValue,n=e.min,c=e.max,s=e.required,a=e.onChange,i=Object(l.useState)(t||0),r=Object(d.a)(i,2),o=r[0],j=r[1];return Object(h.jsxs)("section",{className:"number",children:[Object(h.jsx)("input",{type:"number",step:"0.01",required:s,value:o,onChange:function(e){j((+e.target.value).toString()),null===a||void 0===a||a(e)},placeholder:"0.00",min:n,max:c}),Object(h.jsxs)("div",{className:"ticker",children:[Object(h.jsx)("button",{type:"button",onClick:function(){return j(+o+1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(h.jsx)("g",{id:"Component_47_8","data-name":"Component 47 \u2013 8",transform:"translate(13) rotate(90)",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(h.jsx)("button",{type:"button",onClick:function(){return j(+o-1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(h.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})})]})]})},U=function(e){var t=e.total,n=e.btns,c=e.perPage,s=e.currentPage,a=(e.setCurrentPage,e.setPage),i=Object(l.useState)([]),r=Object(d.a)(i,2),o=r[0],j=r[1],u=Object(l.useState)([]),b=Object(d.a)(u,2),O=b[0],x=b[1];return Object(l.useEffect)((function(){j(Object(v.a)(Array(Math.ceil(t/c)).keys()).map((function(e){return e+1}))),x(Object(v.a)(Array(n).keys()).map((function(e){return e+1})))}),[t,c]),t<=c?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{className:"paginaiton",children:[Object(h.jsx)("button",{disabled:s<=1,onClick:function(){return a((function(e){return e-1}))},children:"<"}),Object(h.jsxs)("ul",{className:"pages",children:[o.length<=n&&o.map((function(e){return Object(h.jsx)("li",{className:e===s?"active":"",children:Object(h.jsx)("button",{onClick:function(){return a(e)},children:e})},e)})),o.length>n&&O.map((function(e){var t=o.length-n,c=Math.ceil(n/2),i=0;s>c&&(i=s-c+n<=o.length?s-c:t);var l=e+i;return Object(h.jsx)("li",{className:l===s?"active":"",children:Object(h.jsx)("button",{onClick:function(){return a(e)},children:l})},l)}))]}),Object(h.jsx)("button",{disabled:s>=o.length,onClick:function(){return a((function(e){return e+1}))},children:">"})]})},V=n(34),H=n.n(V);n(76);var W=function(){var e=Object(l.useContext)(u),t=e.user,n=e.setUser,c=Object(O.g)(),s=new URLSearchParams(Object(O.h)().search),a=Object(l.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1],j=Object(l.useState)(""),b=Object(d.a)(j,2),f=b[0],p=b[1],g=Object(l.useState)(""),v=Object(d.a)(g,2),N=v[0],y=v[1],w=Object(l.useState)("+91"),C=Object(d.a)(w,2),k=C[0],P=C[1],S=Object(l.useState)(""),_=Object(d.a)(S,2),M=_[0],D=_[1],F=Object(l.useState)(""),L=Object(d.a)(F,2),A=L[0],R=L[1],B=Object(l.useState)(null),T=Object(d.a)(B,2),q=T[0],E=T[1];return Object(l.useEffect)((function(){E(null)}),[A]),Object(h.jsxs)("div",{className:"formWrapper",children:[Object(h.jsx)("img",{className:"logo",onClick:function(){return c.push("")},src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Create your Delivery pay account"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M===A?k.match(/^\+91\d{10}$/)?q||fetch("/api/registerUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(m.a)({firstName:r,lastName:f,phone:k,email:N,password:M},s.get("referer")&&{referer:s.get("referer")}))}).then((function(e){return e.json()})).then((function(e){e.user?(n(t),c.push("/account/home")):11e3===e.code&&E("Email/Phone already exists.")})):E("Enter valid phone number"):E("Password did not match.")},children:[Object(h.jsx)("input",{type:"text",name:"firstName",required:!0,placeholder:"First name",value:r,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("input",{type:"text",name:"lastName",required:!0,placeholder:"Last name",value:f,onChange:function(e){return p(e.target.value)}}),Object(h.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:N,onChange:function(e){E(null),y(e.target.value)}}),Object(h.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"Phone number",value:k,onChange:function(e){E(null),e.target.value.match(/^\+91\d{0,10}$/)&&P(e.target.value)}}),Object(h.jsx)("section",{className:"pass",children:Object(h.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){return D(e.target.value)}})}),Object(h.jsx)("section",{className:"repeatPass",children:Object(h.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){return R(e.target.value)}})}),Object(h.jsxs)("section",{className:"checkbox",children:[Object(h.jsx)(Z,{required:!0}),Object(h.jsx)("label",{children:"I accept to the Terms and Conditions and Privacy Policy"})]}),Object(h.jsx)("button",{disabled:q,type:"submit",children:"Register"})]}),q&&Object(h.jsx)("p",{className:"errMsg",children:q}),Object(h.jsxs)("p",{className:"links",children:["Already have an account? ",Object(h.jsx)(x.b,{to:"/u/login",children:"Login"})]})]})},Y=function(){var e=Object(l.useContext)(u),t=e.user,n=e.setUser,c=Object(O.g)(),s=Object(l.useState)(""),a=Object(d.a)(s,2),i=a[0],r=a[1],o=Object(l.useState)(""),j=Object(d.a)(o,2),b=j[0],m=j[1],f=Object(l.useState)(!1),p=Object(d.a)(f,2),g=p[0],v=p[1],N=function(e){e.tokenId&&fetch("/api/userLoginUsingSocial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({googleToken:e.tokenId})}).then((function(e){return e.json()})).then((function(e){e.user?(n(t),c.push("/account/home")):401===e.code&&(v("No account is associated with this Google account."),setTimeout((function(){return v(null)}),2e3))}))};return Object(h.jsxs)("div",{className:"formWrapper login",children:[Object(h.jsx)("img",{className:"logo",onClick:function(){return c.push("")},src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Login to your Delivery pay account"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g||fetch("/api/userLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:b})}).then((function(e){return e.json()})).then((function(e){e.user?(n(t),c.push("/account/home")):401===e.code&&v("Invalid credential!")}))},children:[Object(h.jsx)("input",{type:"text",name:"username",required:!0,placeholder:"Email  or Phone Number",value:i,onChange:function(e){v(!1),r(e.target.value)}}),Object(h.jsxs)("section",{className:"pass",children:[Object(h.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password",value:b,onChange:function(e){v(!1),m(e.target.value)}}),Object(h.jsx)(x.b,{className:"passReset",to:"/u/resetPassword",children:"Forgot password?"})]}),Object(h.jsx)("button",{disabled:g,type:"submit",children:"Login"})]}),Object(h.jsx)("section",{className:"socials",children:Object(h.jsx)(V.GoogleLogin,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:N,onFailure:N,cookiePolicy:"single_host_origin"})}),Object(h.jsxs)("p",{className:"links",children:["Don't have an account? ",Object(h.jsx)(x.b,{to:"/u/join",children:"Register"})]}),g&&Object(h.jsx)("p",{className:"errMsg",children:g})]})},G=function(){var e=Object(l.useContext)(u),t=e.user,n=e.setUser,c=Object(O.g)(),s=Object(l.useState)(1),a=Object(d.a)(s,2),i=a[0],r=a[1],o=Object(l.useState)(""),j=Object(d.a)(o,2),b=j[0],m=j[1],f=Object(l.useState)(!1),p=Object(d.a)(f,2),g=(p[0],p[1],Object(l.useState)(["","","","","",""])),N=Object(d.a)(g,2),y=N[0],w=N[1],C=Object(l.useState)(""),k=Object(d.a)(C,2),P=k[0],S=k[1],_=Object(l.useState)(""),M=Object(d.a)(_,2),D=M[0],F=M[1],L=Object(l.useState)(!1),A=Object(d.a)(L,2),R=A[0],B=A[1],T=Object(l.useRef)(null),q=Object(l.useRef)(null),Z=Object(l.useRef)(null),E=Object(l.useRef)(null),I=Object(l.useRef)(null),U=Object(l.useRef)(null);Object(l.useEffect)((function(){console.log(R)}),[R]);var V=function(e){if(e.preventDefault(),1===i){if(R)return;fetch("/api/sendUserForgotPassOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:b})}).then((function(e){200===e.status?r(2):B("User does does not exists.")}))}else if(2===i)fetch("/api/submitUserForgotPassOTP",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:b,code:y.join("")})}).then((function(e){200===e.status?r(3):400===e.status?(w(["","","","","",""]),B("Wrong code!")):429===e.status?(r(1),m(""),w(["","","","","",""]),B("Too many tries. Start again.")):404===e.status&&(r(1),m(""),w(["","","","","",""]),B("Timeout. Start again"))}));else if(3===i){if(P!==D)return void B("Password did not match");fetch("/api/userResetPass",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:b,code:y.join(""),newPass:P})}).then((function(e){return e.json()})).then((function(e){e.user&&(n(t),c.push("/account/home"))}))}};return Object(l.useEffect)((function(){y.join("")&&B(null)}),[y]),Object(h.jsxs)("div",{className:"formWrapper resetPass",children:[Object(h.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Password reset"}),1===i&&Object(h.jsxs)("form",{onSubmit:V,children:[Object(h.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"Phone Number",value:b,onChange:function(e){B(null),m(e.target.value)}}),Object(h.jsx)("button",{disabled:R,type:"submit",children:"Next"})]}),2===i&&Object(h.jsxs)("form",{onSubmit:V,children:[Object(h.jsx)("label",{children:"A 6 digit code has been sent to your phone. Enter the code below."}),Object(h.jsxs)("section",{className:"code",children:[Object(h.jsx)("input",{ref:T,type:"number",value:y[0],required:!0,onChange:function(e){w((function(t){var n=Object(v.a)(t);return n[0]=e.target.value[0]||"",n})),1===e.target.value.length&&q.current.focus()}}),Object(h.jsx)("input",{ref:q,type:"number",value:y[1],required:!0,onChange:function(e){w((function(t){var n=Object(v.a)(t);return n[1]=e.target.value[0]||"",n})),1===e.target.value.length&&Z.current.focus()}}),Object(h.jsx)("input",{ref:Z,type:"number",value:y[2],required:!0,onChange:function(e){w((function(t){var n=Object(v.a)(t);return n[2]=e.target.value[0]||"",n})),1===e.target.value.length&&E.current.focus()}}),Object(h.jsx)("input",{ref:E,type:"number",value:y[3],required:!0,onChange:function(e){w((function(t){var n=Object(v.a)(t);return n[3]=e.target.value[0]||"",n})),1===e.target.value.length&&I.current.focus()}}),Object(h.jsx)("input",{ref:I,type:"number",value:y[4],required:!0,onChange:function(e){w((function(t){var n=Object(v.a)(t);return n[4]=e.target.value[0]||"",n})),1===e.target.value.length&&U.current.focus()}}),Object(h.jsx)("input",{ref:U,type:"number",value:y[5],required:!0,onChange:function(e){w((function(t){var n=Object(v.a)(t);return n[5]=e.target.value[0]||"",n}))}})]}),Object(h.jsx)("button",{disabled:R,type:"submit",children:"Next"})]}),3===i&&Object(h.jsxs)("form",{onSubmit:V,children:[Object(h.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){B(null),S(e.target.value)}}),Object(h.jsx)("section",{className:"pass",children:Object(h.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){B(null),F(e.target.value)}})}),Object(h.jsx)("button",{disabled:R,type:"submit",children:3===i?"Submit":"Next"})]}),R&&Object(h.jsx)("p",{className:"errMsg",children:R}),Object(h.jsxs)("p",{className:"links",children:["Already have an account?",Object(h.jsx)(x.b,{to:"/u/login",children:"Login"})]})]})};var J=function(){var e=Object(l.useContext)(u),t=e.setUser,n=(e.user,Object(O.g)());return Object(l.useEffect)((function(){fetch("/api/authUser").then((function(e){return e.json()})).then((function(e){var c;e.user&&(t(e.user),n.push((null===(c=n.location.state)||void 0===c?void 0:c.from)||"/account/home"))}))}),[]),Object(h.jsxs)("div",{className:"userStart",children:[Object(h.jsxs)("div",{className:"banner",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("h3",{children:"Experience the best and secure Transactions"}),Object(h.jsx)("p",{children:"We ensure buyer and seller happiness"})]}),Object(h.jsx)("img",{className:"illustration",src:"/landingPage_illustration.svg",alt:"illustration"})]}),Object(h.jsx)("div",{className:"forms",children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/u/join",children:Object(h.jsx)(W,{})}),Object(h.jsx)(O.b,{path:"/u/login",children:Object(h.jsx)(Y,{})}),Object(h.jsx)(O.b,{path:"/u/resetPassword",children:Object(h.jsx)(G,{})})]})})]})},z=n(74),$=function(e){var t=e.milestone,n=e.setReleaseForm,c=e.onSuccess,s=Object(l.useState)(t.amount),a=Object(d.a)(s,2),i=a[0],r=a[1],o=Object(l.useState)(null),j=Object(d.a)(o,2),u=j[0],b=j[1];return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/releaseMilestone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t._id,amount:i})}).then((function(e){return e.json()})).then((function(e){var t=e.milestone;t?null===c||void 0===c||c(t):b(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return b(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not release Milestone."})]})]}))})).catch((function(e){console.log(e),h.Fragment}))},children:[Object(h.jsx)("label",{children:"How much money you want to release?"}),Object(h.jsx)(I,{defaultValue:i,onChange:function(e){return r(e.target.value)}}),Object(h.jsxs)("section",{className:"btns",children:[Object(h.jsx)("button",{type:"submit",children:"Confirm"}),Object(h.jsx)("button",{className:"cancel",type:"button",onClick:function(){return n(!1)},children:"Cancel"})]}),Object(h.jsx)(f,{open:u,className:"msg",children:u})]})},K=function(e){var t=e.milestone,n=(e.setDisputeForm,e.onSuccess),c=Object(l.useState)(""),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)(""),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)([]),O=Object(d.a)(b,2),x=O[0],m=O[1],p=Object(l.useState)(null),g=Object(d.a)(p,2),v=g[0],N=g[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"disputeForm",onSubmit:function(e){e.preventDefault();fetch("/api/fileDispute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issue:a,milestoneId:t._id,defendantId:t.client._id,_case:{dscr:j,caseFiles:[]}})}).then((function(e){200===e.status?e.json().then((function(e){var t=e.milestone;null===n||void 0===n||n(t)})):403===e.status?N(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Insufficient fund! you have to have \u20b9500 in your wallet to file a dispute."})]})]})):N(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not file dispute."})]})]}))})).catch((function(e){console.log(e),N(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return N(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not file dispute. make sure you're online."})]})]}))}))},children:[Object(h.jsx)("h4",{children:"You feel like you are getting scammed?"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"issue",children:"Issue"}),Object(h.jsx)(E,{name:"issue",options:"buyer"===t.role?[{label:"Buyer Not Releasing Payments",value:"Buyer Not Releasing Payments"}]:[{label:"Goods Not Received",value:"Goods Not Received"},{label:"Services Not Received",value:"Services Not Received"},{label:"Damaged",value:"Damaged"},{label:"Not As Agreed",value:"Not As Agreed"},{label:"Not As Displayed",value:"Not As Displayed"}],onChange:function(e){i(e.value)}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"description",children:"Description"}),Object(h.jsx)("textarea",{name:"description",value:j,required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(h.jsxs)("section",{className:"fileInput",children:[Object(h.jsx)("label",{htmlFor:"for",children:"Upload images to prove your case. ie: Product of image, proof of delivery."}),x.length>0&&Object(h.jsx)("ul",{children:x.map((function(e,t){return Object(h.jsx)("li",{children:e.name},t)}))}),Object(h.jsx)("input",{type:"file",name:"files",required:!0,accept:"audio/*,video/*,image/*",multiple:!0,onChange:function(e){m(Object.values(e.target.files))}})]}),Object(h.jsxs)("section",{className:"btns",children:[Object(h.jsx)("button",{className:"submit",type:"submit",children:"Submit"}),Object(h.jsx)("button",{className:"cancel",type:"button",children:"Cancel"})]}),Object(h.jsx)("div",{className:"pBtm"})]}),Object(h.jsx)(f,{open:v,className:"msg",children:v})]})},X=function(e){var t=e.onSuccess,n=Object(l.useState)(!1),c=Object(d.a)(n,2),s=c[0],a=c[1],i=Object(l.useState)(""),r=Object(d.a)(i,2),o=r[0],j=r[1],u=Object(l.useState)(""),b=Object(d.a)(u,2),O=b[0],x=b[1],m=Object(l.useState)(""),p=Object(d.a)(m,2),g=p[0],v=p[1],N=Object(l.useState)(""),y=Object(d.a)(N,2),C=y[0],k=y[1],P=Object(l.useState)(""),S=Object(d.a)(P,2),_=S[0],M=S[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"ticketForm",onSubmit:function(e){e.preventDefault();fetch("/api/openTicket",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issue:o,milestone:O,transaction:g,message:{body:_,files:[]}})}).then((function(e){return e.json()})).then((function(e){console.log(e),"ok"===e.code?null===t||void 0===t||t(e.ticket):"milestone ID is invalid"===e.message?a(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Milestone Id is invalid."})]})]})):a(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Ticket could not be submitted."})]})]}))})).catch((function(e){console.log(e),a(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return a(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Ticket could not be submitted. Make sure you're online."})]})]}))}))},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Issue"}),Object(h.jsx)("input",{value:o,required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Milestone ID (optional)"}),Object(h.jsx)("input",{value:O,onChange:function(e){return x(e.target.value)}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Transaction ID (optional)"}),Object(h.jsx)("input",{value:g,onChange:function(e){return v(e.target.value)}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Detail"}),Object(h.jsx)(z.a,{required:!0,value:_,onChange:function(e){return M(e.target.value)}})]}),Object(h.jsxs)("section",{className:"fileInput",children:[Object(h.jsx)("label",{htmlFor:"for",children:"Upload relevant files (optional)"}),C.length>0&&Object(h.jsx)("ul",{children:C.map((function(e,t){return Object(h.jsx)("li",{children:e.name},t)}))}),Object(h.jsx)("input",{type:"file",name:"files",accept:"audio/*,video/*,image/*",multiple:!0,onChange:function(e){k(Object.values(e.target.files))}})]}),Object(h.jsxs)("section",{className:"btns",children:[Object(h.jsx)("button",{className:"submit",type:"submit",children:"Submit"}),Object(h.jsx)("button",{className:"cancel",type:"button",children:"Cancel"})]}),Object(h.jsx)("div",{className:"pBtm"})]}),Object(h.jsx)(f,{open:s,className:"msg",children:s})]})},Q=function(e){var t=e._id,n=e.onSuccess,c=Object(l.useState)(!1),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)(""),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)(""),O=Object(d.a)(b,2),x=O[0],m=O[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"ticketReplyForm",onSubmit:function(e){e.preventDefault();fetch("/api/addTicketReply",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,message:{body:x,files:[]}})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?null===n||void 0===n||n(e.ticket):i(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return i(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Reply could not be submitted."})]})]}))})).catch((function(e){console.log(e),i(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return i(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Reply could not be submitted. Make sure you're online."})]})]}))}))},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Message"}),Object(h.jsx)(z.a,{required:!0,value:x,onChange:function(e){return m(e.target.value)}})]}),Object(h.jsxs)("section",{className:"fileInput",children:[Object(h.jsx)("label",{htmlFor:"for",children:"Upload relevant files (optional)"}),j.length>0&&Object(h.jsx)("ul",{children:j.map((function(e,t){return Object(h.jsx)("li",{children:e.name},t)}))}),Object(h.jsx)("input",{type:"file",name:"files",accept:"audio/*,video/*,image/*",multiple:!0,onChange:function(e){u(Object.values(e.target.files))}})]}),Object(h.jsxs)("section",{className:"btns",children:[Object(h.jsx)("button",{className:"submit",type:"submit",children:"Submit"}),Object(h.jsx)("button",{className:"cancel",type:"button",children:"Cancel"})]}),Object(h.jsx)("div",{className:"pBtm"})]}),Object(h.jsx)(f,{open:a,className:"msg",children:a})]})},ee=function(e){var t,n,c,s,a,i,r=e.milestone,o=e.setMilestones,j=Object(l.useState)(!1),u=Object(d.a)(j,2),b=u[0],O=u[1],g=Object(l.useState)(!1),v=Object(d.a)(g,2),N=v[0],y=v[1],k=Object(l.useState)(null),L=Object(d.a)(k,2),A=L[0],R=L[1],B=null,T=null;(null===(t=r.dispute)||void 0===t?void 0:t.plaintiff._id)===r.client._id?(B=null===(s=r.dispute)||void 0===s||null===(a=s.defendant)||void 0===a||null===(i=a.case)||void 0===i?void 0:i.dscr,T="client"):(null===(n=r.dispute)||void 0===n?void 0:n.defendant._id)===r.client._id&&(T="self");var q=function(){fetch("/api/approveMilestone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({milestone_id:r._id,amount:r.amount})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?o((function(t){return t.map((function(t){return t._id===e.milestone._id?Object(m.a)(Object(m.a)({},e.milestone),{},{client:r.client,role:r.role}):t}))})):403===e.code?R(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return R(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not approve milestone due to low balance."})]})]})):R(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return R(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not approve milestone. Please try again."})]})]}))})).catch((function(e){console.log(e),R(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return R(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not approve milestone. Make sure you're online"})]})]}))}))};return Object(h.jsxs)("li",{className:"milestone ".concat(r.role),children:[Object(h.jsxs)("div",{className:"clientDetail",children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:r.client.profileImg||"/profile-user.jpg"}),Object(h.jsx)("p",{className:"name",children:r.client.firstName+" "+r.client.lastName})]}),Object(h.jsx)("div",{className:"milestoneDetail",children:Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Role"}),"-",Object(h.jsx)("p",{className:"role",children:r.role})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Product Detail"}),"-",Object(h.jsx)("p",{children:r.dscr})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Transaction ID"}),"-",Object(h.jsx)("p",{children:r._id})]}),Object(h.jsxs)("li",{className:"status",children:[Object(h.jsx)("p",{children:"Status"}),"-",Object(h.jsx)("p",{children:r.status})]})]})})]}),Object(h.jsxs)("ul",{className:"steps ".concat(r.status," ").concat(null===(c=r.dispute)||void 0===c?void 0:c.status),children:[Object(h.jsxs)("li",{className:"step pending",children:[Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsx)(P,{className:"default"}),Object(h.jsx)(S,{className:"blank"}),Object(h.jsx)(_,{className:"filled"})]}),Object(h.jsx)("p",{children:"Deposite recieved"})]}),Object(h.jsxs)("li",{className:"progress pending",children:[Object(h.jsx)(M,{}),Object(h.jsx)(D,{}),Object(h.jsx)(F,{})]}),Object(h.jsxs)("li",{className:"step onhold",children:[Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsx)(P,{className:"default"}),Object(h.jsx)(S,{className:"blank"}),Object(h.jsx)(_,{className:"filled"})]}),Object(h.jsx)("p",{children:"Funds on Hold"})]}),Object(h.jsxs)("li",{className:"progress onhold",children:[Object(h.jsx)(M,{}),Object(h.jsx)(D,{}),Object(h.jsx)(F,{})]}),Object(h.jsxs)("li",{className:"step released",children:[Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsx)(P,{className:"default"}),Object(h.jsx)(S,{className:"blank"}),Object(h.jsx)(_,{className:"filled"})]}),Object(h.jsx)("p",{children:"Released"})]})]}),Object(h.jsxs)("div",{className:"clas",children:[Object(h.jsxs)("h4",{children:["\u20b9",r.amount]}),"buyer"===r.role?Object(h.jsxs)("div",{className:"btns",children:[("pending"===r.status||"inProgress"===r.status)&&Object(h.jsx)(x.b,{className:"dispute",to:"#",onClick:function(){return y(!0)},children:"Manual verification"}),"released"===r.status&&Object(h.jsx)(x.b,{className:"released",to:"#",children:"Released"}),("client"===T&&B||"self"===T)&&Object(h.jsx)(x.b,{className:"disputed",to:"#",children:"Dispute"}),"client"===T&&!B&&Object(h.jsx)(x.b,{className:"disputeRes",to:"#",onClick:function(){return y(!0)},children:"Approve Dispute"})]}):Object(h.jsxs)("div",{className:"btns",children:["pending"===r.status&&Object(h.jsx)(x.b,{to:"/account/hold/".concat(r._id,"/approve"),onClick:function(){return p({label:"Milestone Approval",question:"You sure want to approve this milestone?",callback:q})},children:"Approve"}),"inProgress"===r.status&&Object(h.jsx)(x.b,{onClick:function(){return O(!0)},to:"/account/hold/".concat(r._id,"/release"),children:"Release"}),"released"===r.status&&Object(h.jsx)(x.b,{className:"dispute",to:"#",onClick:function(){return y(!0)},children:"Manual verification"}),("client"===T&&B||"self"===T)&&Object(h.jsx)(x.b,{className:"disputed",to:"#",children:"Dispute"}),"client"===T&&!B&&Object(h.jsx)(x.b,{className:"disputeRes",to:"#",onClick:function(){return y(!0)},children:"Approve Dispute"}),Object(h.jsx)(f,{open:A,className:"msg",children:A})]})]}),Object(h.jsxs)(f,{open:b,className:"milestoneReleaseForm",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Release Money"}),Object(h.jsx)("button",{onClick:function(){return O(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)($,{milestone:r,setReleaseForm:O,onSuccess:function(e){o((function(t){return t.map((function(t){return t._id===e._id?Object(m.a)(Object(m.a)({},e),{},{client:t.client,role:t.role}):t}))})),O(!1)}})]}),Object(h.jsxs)(f,{open:N,className:"disputeForm",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Manual Verification"}),Object(h.jsx)("button",{onClick:function(){return y(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(K,{milestone:r,setDisputeForm:y,onSuccess:function(e){o((function(t){return t.map((function(t){return t._id===e._id?Object(m.a)(Object(m.a)({},e),{},{client:t.client,role:t.role}):t}))})),y(!1),R(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return R(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"client"===T?"Case submit success. Dispute pending for verdict.":"Dispute filed succefully."})]})]}))}})]})]},r._id)},te=function(e){e.history,e.location,e.match;var t=Object(l.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(l.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1],j=Object(l.useState)(null),u=Object(d.a)(j,2),b=u[0],O=u[1];return Object(l.useEffect)((function(){fetch("/api/milestone").then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){console.log(e),O(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not update milestones."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"holdContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)("h4",{children:"Secure your transactions"}),Object(h.jsx)("p",{children:"All payments and transactions come here"})]}),Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{children:"Milestone Status"}),Object(h.jsx)("div",{className:"filters",children:Object(h.jsxs)("div",{className:"date",children:[Object(h.jsx)("input",{type:"date",value:r,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(h.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})})]})})]}),Object(h.jsxs)("ul",{className:"milestones",children:[c.map((function(e,t){return Object(h.jsx)(ee,{milestone:e,setMilestones:s},t)})),0===c.length&&Object(h.jsx)("p",{className:"placeholder",children:"No transaction yet."})]}),Object(h.jsx)(f,{className:"msg",open:b,children:b})]})},ne=n(14),ce=n.n(ne),se=function(e){var t,n,c,s,a=e.transaction,i=Object(l.useContext)(u).user;return Object(h.jsxs)("li",{className:"transaction ".concat(a.amount>0?"in":"out"),children:[Object(h.jsx)("div",{className:"transactionDetail",children:Object(h.jsx)("div",{className:"profile",children:a.client?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:null===(t=a.client._id)||void 0===t?void 0:t.profileImg}),Object(h.jsx)("p",{className:"name",children:a.client.firstName+" "+a.client.lastName})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:i.profileImg}),Object(h.jsx)("p",{className:"name",children:i.firstName+" "+i.lastName})]})})}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Role"}),"-",Object(h.jsx)("p",{className:"role",children:a.amount>0?"Seller":"Buyer"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Product detail"}),"-",Object(h.jsx)("p",{children:a.dscr||"-"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Transaction ID"}),"-",Object(h.jsx)("p",{children:a._id})]})]}),Object(h.jsxs)("ul",{className:"amountDate",children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Amount"}),"-",Object(h.jsx)("p",{className:"amount",children:a.amount})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Hold Date"}),"-",Object(h.jsx)("p",{children:Object(h.jsx)(ce.a,{format:"MMM DD, YYYY, hh:mm a",children:a.createdAt})})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Released Date"}),"-",Object(h.jsx)("p",{children:Object(h.jsx)(ce.a,{format:"MMM DD, YYYY, hh:mm a",children:(null===(n=a.milestoneId)||void 0===n?void 0:n.releaseDate)||"--"})})]})]}),Object(h.jsxs)("ul",{className:"statusMethod",children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Status"}),"-",Object(h.jsx)("p",{className:"status",children:(null===(c=a.milestoneId)||void 0===c?void 0:c.status)||"--"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Released to"}),"-",Object(h.jsx)("p",{children:a.amount<0?"Seller":"--"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Verification Method"}),"-",Object(h.jsx)("p",{children:(null===(s=a.milestoneId)||void 0===s?void 0:s.verification)||"--"})]})]})]})},ae=function(e){e.history,e.location,e.match;var t=Object(l.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(l.useState)(null),i=Object(d.a)(a,2),r=i[0],o=i[1];return Object(l.useEffect)((function(){fetch("/api/transactions?type=P2PTransaction").then((function(e){if(200===e.status)return e.json()})).then((function(e){e&&s(e)})).catch((function(e){console.log(e),o(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not get transactions."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"transactionContainer",children:[Object(h.jsx)("p",{className:"benner",children:"Completed Delivery pay Hold Transactions"}),Object(h.jsxs)("ul",{className:"transactions",children:[c.map((function(e){return Object(h.jsx)(se,{transaction:e},e._id)})),0===c.length&&Object(h.jsx)("p",{className:"placeholder",children:"No transaction yet."})]}),Object(h.jsx)(f,{className:"msg",open:r,children:r})]})},ie=n(26),le=n.n(ie);function re(){var e=le()().format("HH");return e>=3&&e<12?"Good Morning":e>=12&&e<15?"Good Afternoon":e>=15&&e<20?"Good Evening":e>=20&&e<3?"Good Night":"Hello"}var oe=function(e){var t,n=e.data,c=null===(t=n.sort((function(e,t){return e.balance<t.balance?1:-1}))[0])||void 0===t?void 0:t.balance;return Object(h.jsxs)("div",{className:"graph",children:[Object(h.jsx)("p",{className:"label",children:"Analytics"}),Object(h.jsx)("ul",{className:"bars","data-max":"\u20b9 ".concat(c||0),children:n.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsx)("div",{className:"bar",style:{height:"".concat(e.balance/(c/100),"%")}}),Object(h.jsx)("label",{className:"month",children:e._id})]},t)}))})]})},je=function(e){var t=e.label,n=e.action,c=Object(l.useContext)(u),s=c.user;c.setUser;return Object(h.jsxs)("div",{className:"paymentOptions",children:[Object(h.jsx)("p",{className:"label",children:t}),Object(h.jsxs)("div",{className:"options",children:[s.paymentMethods.map((function(e,t){return Object(h.jsxs)(l.Fragment,{children:["BankCard"===e.__t&&Object(h.jsx)(Oe,{card:e,onClick:function(e){return n(e)}}),"BankAccount"===e.__t&&Object(h.jsx)(xe,{account:e,onClick:function(e){return n(e)}})]},e._id)})),0===s.paymentMethods.length&&Object(h.jsx)("div",{className:"placeholder",children:"No payment method added."})]}),Object(h.jsx)(x.b,{className:"addMethodLink",to:"addMoney/addPaymentMethod",children:"Add payment method"})]})},de=function(e){var t=e.onSuccess,n=Object(l.useState)("upi"),c=Object(d.a)(n,2),s=c[0],a=c[1];return Object(h.jsxs)("div",{className:"addPaymentMethod",children:[Object(h.jsxs)("section",{className:"paymentOption",children:[Object(h.jsxs)("div",{className:"header",onClick:function(){return a("upi")},children:[Object(h.jsx)("div",{className:"redial ".concat("upi"===s&&"active"),children:Object(h.jsx)("div",{className:"fill"})}),Object(h.jsxs)("label",{children:["UPI ",Object(h.jsx)("img",{src:"/payment_upi.png"})]})]}),"upi"===s&&Object(h.jsx)(he,{})]}),Object(h.jsxs)("section",{className:"paymentOption",children:[Object(h.jsxs)("div",{className:"header",onClick:function(){return a("bankCard")},children:[Object(h.jsx)("div",{className:"redial ".concat("bankCard"===s&&"active"),children:Object(h.jsx)("div",{className:"fill"})}),Object(h.jsxs)("label",{children:["Add Debit/Credit Card ",Object(h.jsx)("img",{src:"/payment_visa.png"})," ",Object(h.jsx)("img",{src:"/payment_mc.png"})]})]}),"bankCard"===s&&Object(h.jsx)(ue,{onSuccess:t})]}),Object(h.jsxs)("section",{className:"paymentOption",children:[Object(h.jsxs)("div",{className:"header",onClick:function(){return a("netBanking")},children:[Object(h.jsx)("div",{className:"redial ".concat("netBanking"===s&&"active"),children:Object(h.jsx)("div",{className:"fill"})}),Object(h.jsx)("label",{children:"Net Banking"})]}),"netBanking"===s&&Object(h.jsx)(be,{onSuccess:t})]})]})},he=function(){var e=Object(l.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(h.jsxs)("form",{className:"paymentMethodForm upi",onSubmit:function(e){e.preventDefault(),c("Coming soon!")},children:[Object(h.jsx)("label",{children:"Please enter your UPI ID"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("input",{type:"text",value:n,required:!0,name:"upiId",onChange:function(e){return c(e.target.value)},placeholder:"Ex: MobileNumber@upi"}),Object(h.jsx)("button",{type:"submit",children:"Verify"})]})]})},ue=function(e){var t=e.prefill,n=e.onSuccess,c=Object(l.useContext)(u).setUser,s=Object(l.useState)((null===t||void 0===t?void 0:t.brand)||null),a=Object(d.a)(s,2),i=a[0],r=a[1],o=Object(l.useState)((null===t||void 0===t?void 0:t.nameOnCard)||""),j=Object(d.a)(o,2),b=j[0],O=j[1],x=Object(l.useState)((null===t||void 0===t?void 0:t.cardNumber)||""),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(l.useState)(""),C=Object(d.a)(y,2),k=C[0],P=C[1],S=Object(l.useState)(""),_=Object(d.a)(S,2),M=_[0],D=_[1],F=Object(l.useState)((null===t||void 0===t?void 0:t.cvv)||""),L=Object(d.a)(F,2),A=L[0],R=L[1],B=Object(l.useState)(!1),T=Object(d.a)(B,2),q=T[0],Z=T[1],I=function(){for(var e=(new Date).getFullYear(),t=[],n=0;n<15;n++)t.push({label:e+n,value:(e+n).toString().substr(2)});return t}(),U=Object(l.useState)(null),V=Object(d.a)(U,2),H=V[0],W=V[1];Object(l.useEffect)((function(){}),[M,k]);return Object(h.jsxs)("form",{className:"paymentMethodForm bankCard",onSubmit:function(e){if(e.preventDefault(),null===i)return Z(!0),void setTimeout((function(){return Z(!1)}),1500);fetch(t?"/api/editPaymentMethod":"/api/addPaymentMethod",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(m.a)({type:"BankCard",brand:i,nameOnCard:b,cardNumber:g,exp:"".concat(k,"/").concat(M),cvv:A},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){var s=e.paymentMethod;s?(c(t?function(e){return Object(m.a)(Object(m.a)({},e),{},{paymentMethods:e.paymentMethods.map((function(e){return e._id===s._id?s:e}))})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{paymentMethods:[].concat(Object(v.a)(e.paymentMethods),[s])})}),null===n||void 0===n||n(s)):W(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return W(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsxs)("h4",{children:["Payment method could not be ",t?"updated":"added",". Please try again."]})]})]}))})).catch((function(e){console.log(e),W(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return W(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Error happaned. Make sure you're online."})]})]}))}))},children:[!t&&Object(h.jsx)("p",{className:"note",children:"We\u2019ll save this card for your convenience. Remove it by going to Your Account section"}),Object(h.jsxs)("section",{className:"inputs",children:[Object(h.jsx)("input",{type:"text",name:"name",placeholder:"Name on your card",value:b,onChange:function(e){return O(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"number",name:"cardNumber",placeholder:"Card Number",value:g,onChange:function(e){e.target.value.match(/^3[47][0-9]{13}$/)?r("amex"):e.target.value.match(/^4[0-9]{12}(?:[0-9]{3})?$$/)?r("visa"):e.target.value.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/)?r("masterCard"):r(null),N(e.target.value)},required:!0}),Object(h.jsxs)("section",{className:"exp",children:[Object(h.jsx)("label",{children:"Expiry Date"}),Object(h.jsx)(E,{placeholder:"Month",options:[{label:"Jan",value:"01"},{label:"Feb",value:"02"},{label:"Mar",value:"03"},{label:"Apr",value:"04"},{label:"May",value:"05"},{label:"Jun",value:"06"},{label:"Jul",value:"07"},{label:"Aug",value:"08"},{label:"Sep",value:"09"},{label:"Oct",value:"10"},{label:"Nov",value:"11"},{label:"Dec",value:"12"}],required:!0,onChange:function(e){return P(e.value)}}),Object(h.jsx)(E,{placeholder:"Year",options:I,required:!0,onChange:function(e){return D(e.value)}})]}),Object(h.jsxs)("section",{className:"cvv",children:[Object(h.jsx)("label",{children:"CVV"}),Object(h.jsx)("input",{type:"number",name:"cvv",required:!0,value:A,onChange:function(e){return R(e.target.value)}})]})]}),Object(h.jsx)("button",{children:"Save"}),q&&Object(h.jsx)("p",{className:"cardErr",children:"Enter valid Visa/MasterCard"}),Object(h.jsx)(f,{className:"msg",open:H,children:H})]})},be=function(e){var t=e.prefill,n=e.onSuccess,c=Object(l.useContext)(u).setUser,s=Object(l.useState)((null===t||void 0===t?void 0:t.bank)||""),a=Object(d.a)(s,2),i=a[0],r=a[1],o=Object(l.useState)((null===t||void 0===t?void 0:t.name)||""),j=Object(d.a)(o,2),b=j[0],O=j[1],x=Object(l.useState)((null===t||void 0===t?void 0:t.ifsc)||""),p=Object(d.a)(x,2),g=p[0],N=p[1],y=Object(l.useState)(null),C=Object(d.a)(y,2),k=C[0],P=C[1],S=Object(l.useState)((null===t||void 0===t?void 0:t.accountNumber)||""),_=Object(d.a)(S,2),M=_[0],D=_[1];return Object(h.jsxs)("form",{className:"paymentMethodForm netBanking",onSubmit:function(e){e.preventDefault(),fetch(t?"/api/editPaymentMethod":"/api/addPaymentMethod",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(m.a)({type:"BankAccount",name:b,bank:i,ifsc:g,accountNumber:M},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){var s=e.paymentMethod;s?(c(t?function(e){return Object(m.a)(Object(m.a)({},e),{},{paymentMethods:e.paymentMethods.map((function(e){return e._id===s._id?s:e}))})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{paymentMethods:[].concat(Object(v.a)(e.paymentMethods),[s])})}),null===n||void 0===n||n(s)):P(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return P(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not update payment method. Please try again."})]})]}))})).catch((function(e){console.log(e),P(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return P(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not updated payment method. Make sure you're online."})]})]}))}))},children:[Object(h.jsxs)("section",{className:"inputs",children:[Object(h.jsx)("input",{type:"text",name:"bank",placeholder:"Bank",value:i,onChange:function(e){return r(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"text",name:"name",placeholder:"Full name",value:b,onChange:function(e){return O(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"text",name:"ifsc",placeholder:"IFSC",value:g,onChange:function(e){return N(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"text",name:"accountNumber",placeholder:"Account Number",value:M,onChange:function(e){return D(e.target.value)},required:!0})]}),Object(h.jsx)("button",{type:"submit",children:"Save"}),Object(h.jsx)(f,{open:k,className:"msg",children:k})]})},Oe=function(e){var t=e.card,n=e.onClick;return Object(h.jsxs)("div",{className:"paymentMethod card",onClick:function(){return null===n||void 0===n?void 0:n(t)},children:[Object(h.jsx)("img",{className:"logo",src:"visa"===t.brand?"/payment_visa.png":"/payment_mc.png"}),Object(h.jsxs)("p",{className:"cardNumber",children:["**** **** **** **** ",t.cardNumber.substr(-4)]}),Object(h.jsx)("p",{className:"cardHolder",children:t.nameOnCard}),Object(h.jsx)("p",{className:"exp",children:t.exp})]})},xe=function(e){var t=e.account,n=e.onClick;return Object(h.jsxs)("div",{className:"paymentMethod bankAccount",onClick:function(){return null===n||void 0===n?void 0:n(t)},children:[Object(h.jsx)("p",{className:"bank",children:t.bank}),Object(h.jsx)("p",{className:"name",children:t.name}),Object(h.jsx)("p",{className:"accountNumber",children:t.accountNumber}),Object(h.jsx)("p",{className:"ifsc",children:t.ifsc})]})},me=function(e){var t=e.paymentMethods,n=Object(l.useRef)(null),c=Object(l.useState)({}),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)({}),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)(0),O=Object(d.a)(b,2),x=O[0],m=O[1],p=Object(l.useState)(!1),g=Object(d.a)(p,2),v=g[0],N=g[1];return Object(l.useLayoutEffect)((function(){var e=n.current.getBoundingClientRect().width;i({width:e,height:.55*e}),u({transform:"translateX(".concat(-e*x,"px)")})}),[x]),Object(h.jsxs)("div",{className:"savedCards",children:[Object(h.jsxs)("div",{className:"wrapper",ref:n,children:[Object(h.jsxs)("ul",{className:"cards",style:j,children:[t.map((function(e,t){return Object(h.jsxs)("li",{style:a,children:[e._id&&"BankCard"===e.__t&&Object(h.jsx)(Oe,{card:e}),e._id&&"BankAccount"===e.__t&&Object(h.jsx)(xe,{account:e})]},t)})),0===t.length&&Object(h.jsx)("li",{style:a,children:Object(h.jsx)("p",{className:"placeholder",children:"No payment method added."})})]}),Object(h.jsx)("button",{className:"addPaymentMethod",onClick:function(){return N(!0)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15.999",viewBox:"0 0 16 15.999",children:Object(h.jsx)("path",{id:"Union_1","data-name":"Union 1",d:"M-4613,16V9h-7V7h7V0h2V7h7V9h-7v7Z",transform:"translate(4620)",fill:"#2699fb"})})})]}),x>0&&Object(h.jsx)("button",{className:"prev",onClick:function(){return m((function(e){return e-1}))},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.818",height:"44.147",viewBox:"0 0 31.818 44.147",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("filter",{id:"Path_217",x:"0",y:"0",width:"31.818",height:"44.147",filterUnits:"userSpaceOnUse",children:[Object(h.jsx)("feOffset",{dx:"-3",dy:"3",input:"SourceAlpha"}),Object(h.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),Object(h.jsx)("feFlood",{floodOpacity:"0.161"}),Object(h.jsx)("feComposite",{operator:"in",in2:"blur"}),Object(h.jsx)("feComposite",{in:"SourceGraphic"})]})}),Object(h.jsx)("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",filter:"url(#Path_217)",children:Object(h.jsxs)("g",{id:"Path_217-2","data-name":"Path 217",transform:"translate(27.32 4.5) rotate(90)",fill:"#858585",children:[Object(h.jsx)("path",{d:"M 27.53220176696777 15.71776485443115 C 26.13888931274414 15.2262544631958 24.10462951660156 14.50919151306152 22.07958030700684 13.79734325408936 C 14.74783992767334 11.22007274627686 14.70039939880371 11.22007274627686 14.5736198425293 11.22007274627686 C 14.44684028625488 11.22007274627686 14.39939975738525 11.22007274627686 7.067659854888916 13.79734325408936 C 5.042610645294189 14.50919151306152 3.00835108757019 15.2262544631958 1.615038275718689 15.71776485443115 L 14.5736198425293 0.7635064125061035 L 27.53220176696777 15.71776485443115 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 14.5736198425293 1.526998519897461 L 3.229276657104492 14.61841773986816 C 4.349065780639648 14.22377777099609 5.627307891845703 13.77366733551025 6.901840209960938 13.32564258575439 C 14.31408023834229 10.72007274627686 14.33368015289307 10.72007274627686 14.5736198425293 10.72007274627686 C 14.81355953216553 10.72007274627686 14.83315944671631 10.72007274627686 22.24539947509766 13.32564258575439 C 23.51993179321289 13.77366733551025 24.79817390441895 14.22377777099609 25.9179630279541 14.61841773986816 L 14.5736198425293 1.526998519897461 M 14.5736198425293 1.9073486328125e-06 L 29.14723968505859 16.81802368164063 C 29.14723968505859 16.81802368164063 14.71584987640381 11.72007274627686 14.5736198425293 11.72007274627686 C 14.43138980865479 11.72007274627686 0 16.81802368164063 0 16.81802368164063 L 14.5736198425293 1.9073486328125e-06 Z",stroke:"none",fill:"#858585"})]})})]})}),x+1<t.length&&Object(h.jsx)("button",{className:"next",onClick:function(){return m((function(e){return e+1}))},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.818",height:"44.147",viewBox:"0 0 31.818 44.147",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("filter",{id:"Path_217",x:"0",y:"0",width:"31.818",height:"44.147",filterUnits:"userSpaceOnUse",children:[Object(h.jsx)("feOffset",{dx:"-3",dy:"3",input:"SourceAlpha"}),Object(h.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),Object(h.jsx)("feFlood",{floodOpacity:"0.161"}),Object(h.jsx)("feComposite",{operator:"in",in2:"blur"}),Object(h.jsx)("feComposite",{in:"SourceGraphic"})]})}),Object(h.jsx)("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",filter:"url(#Path_217)",children:Object(h.jsxs)("g",{id:"Path_217-2","data-name":"Path 217",transform:"translate(27.32 4.5) rotate(90)",fill:"#858585",children:[Object(h.jsx)("path",{d:"M 27.53220176696777 15.71776485443115 C 26.13888931274414 15.2262544631958 24.10462951660156 14.50919151306152 22.07958030700684 13.79734325408936 C 14.74783992767334 11.22007274627686 14.70039939880371 11.22007274627686 14.5736198425293 11.22007274627686 C 14.44684028625488 11.22007274627686 14.39939975738525 11.22007274627686 7.067659854888916 13.79734325408936 C 5.042610645294189 14.50919151306152 3.00835108757019 15.2262544631958 1.615038275718689 15.71776485443115 L 14.5736198425293 0.7635064125061035 L 27.53220176696777 15.71776485443115 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 14.5736198425293 1.526998519897461 L 3.229276657104492 14.61841773986816 C 4.349065780639648 14.22377777099609 5.627307891845703 13.77366733551025 6.901840209960938 13.32564258575439 C 14.31408023834229 10.72007274627686 14.33368015289307 10.72007274627686 14.5736198425293 10.72007274627686 C 14.81355953216553 10.72007274627686 14.83315944671631 10.72007274627686 22.24539947509766 13.32564258575439 C 23.51993179321289 13.77366733551025 24.79817390441895 14.22377777099609 25.9179630279541 14.61841773986816 L 14.5736198425293 1.526998519897461 M 14.5736198425293 1.9073486328125e-06 L 29.14723968505859 16.81802368164063 C 29.14723968505859 16.81802368164063 14.71584987640381 11.72007274627686 14.5736198425293 11.72007274627686 C 14.43138980865479 11.72007274627686 0 16.81802368164063 0 16.81802368164063 L 14.5736198425293 1.9073486328125e-06 Z",stroke:"none",fill:"#858585"})]})})]})}),Object(h.jsxs)(f,{className:"paymentMethodsForm",open:v,children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Payment Method"}),Object(h.jsx)("button",{onClick:function(){return N(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(de,{onSuccess:function(e){N(!1)}})]})]})},fe=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(l.useState)(null),a=Object(d.a)(s,2),i=a[0],r=a[1];return Object(l.useEffect)((function(){fetch("/api/transactions").then((function(e){if(200===e.status)return e.json()})).then((function(e){e?c(e):r(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return r(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not get transactions"})]})]}))})).catch((function(e){console.log(e),r(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return r(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Error happened. Make sure you're online."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"transactions",children:[Object(h.jsx)("div",{className:"head",children:Object(h.jsx)("p",{children:"All Transaction History"})}),Object(h.jsxs)("ul",{className:"allTransactions",children:[n.map((function(e){return Object(h.jsx)(pe,{transaction:e},e._id)})),0===n.length&&Object(h.jsx)("p",{className:"placeholder",children:"No transaction yet."})]}),Object(h.jsx)(f,{className:"msg",open:i,children:i})]})},pe=function(e){var t,n,c,s,a=e.transaction,i=null;switch(a.__t){case"AddMoney":i=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(L,{})}),Object(h.jsx)("p",{className:"detail",children:"Money added to wallet"})]});break;case"WithdrawMoney":i=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(A,{})}),Object(h.jsx)("p",{className:"detail",children:"Money withdrawal from Wallet"})]});break;case"P2PTransaction":i=a.amount<0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(R,{})}),Object(h.jsxs)("p",{className:"detail",children:["Paid to"," ",Object(h.jsx)("span",{className:"userName",children:(null===(t=a.client)||void 0===t?void 0:t.firstName)+" "+(null===(n=a.client)||void 0===n?void 0:n.lastName)})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(B,{})}),Object(h.jsxs)("p",{className:"detail",children:["Received from"," ",Object(h.jsx)("span",{className:"userName",children:(null===(c=a.client)||void 0===c?void 0:c.firstName)+" "+(null===(s=a.client)||void 0===s?void 0:s.lastName)})]})]});break;default:i=a.amount<0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(A,{})}),Object(h.jsx)("p",{className:"detail",children:a.note})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(L,{})}),Object(h.jsx)("p",{className:"detail",children:a.note})]})}return Object(h.jsxs)("li",{className:"transaction",children:[i,Object(h.jsxs)("p",{className:"amount",children:["\u20b9",Math.abs(a.amount)]})]})},ge=function(e){var t=e.history,n=e.location,c=(e.match,Object(l.useContext)(u)),s=c.user,a=c.setUser,i=Object(l.useState)(0),r=Object(d.a)(i,2),o=r[0],j=r[1],b=Object(l.useState)([]),O=Object(d.a)(b,2),x=O[0],p=O[1],g=Object(l.useState)(""),v=Object(d.a)(g,2),N=v[0],y=v[1],k=Object(l.useState)([]),P=Object(d.a)(k,2),S=P[0],_=P[1],M=Object(l.useState)(!1),D=Object(d.a)(M,2),F=D[0],L=D[1],A=Object(l.useState)(!1),R=Object(d.a)(A,2),B=(R[0],R[1]),T=Object(l.useState)(""),q=Object(d.a)(T,2),Z=q[0],E=q[1],I=Object(l.useState)(!1),U=Object(d.a)(I,2),V=U[0],H=U[1],W=Object(l.useState)(!1),Y=Object(d.a)(W,2),G=(Y[0],Y[1],Object(l.useState)(!1)),J=Object(d.a)(G,2),z=J[0],$=J[1],K=Object(l.useState)(null),X=Object(d.a)(K,2),Q=X[0],ee=X[1],te=function(e,n,c){var a=window.Razorpay;if(a){var i={key:n,amount:e.amount,currency:e.currency,accept_partial:!1,name:"".concat(s.firstName," ").concat(s.lastName),description:"add money to wallet",image:"/logo_big.jpg",order_id:e.id,handler:function(e){fetch("/api/addMoney",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionId:e.razorpay_payment_id,razorSignature:e.razorpay_signature,razorOrderId:e.razorpay_order_id})}).then((function(e){return e.json()})).then((function(e){var n=e.code,c=(e.user,e.transaction);e.message;"ok"===n?(t.push("/account/wallet"),B(!1),L(c),j((function(e){return e+c.amount})),y(""),$(!1)):ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Error happend. Make sure you're payment details are correct."})]})]}))})).catch((function(e){console.log(e),B(!0)}))},modal:{ondismiss:function(){return $(!1)}},theme:{color:"#336cf9"},customer:{name:c.name||c.nameOnCard,contact:s.phone,email:s.email},notify:{sms:!0,email:!0},reminder_enable:!0,options:{checkout:{prefill:Object(m.a)(Object(m.a)({},"BankCard"===c.__t&&{method:"card","card[name]":c.nameOnCard,"card[number]":+c.cardNumber,"card[expiry]":c.exp,"card[cvv]":+c.cvv}),"BankAccount"===c.__t&&{method:"netBanking",bank:"HDCF"})}}};console.log(i);var l=new a(i);l.on("payment.failed",(function(e){B(!0),$(!1)})),l.open()}};return Object(l.useEffect)((function(){!function(e){new Promise((function(t,n){if(document.querySelector('script[src="'.concat(e,'"]')))t(!0);else{var c=document.createElement("script");c.src=e,document.body.appendChild(c),c.onload=function(){return t(!0)},c.onerror=function(){return n(!0)}}}))}("https://checkout.razorpay.com/v1/checkout.js"),fetch("/api/dashboardData").then((function(e){return e.json()})).then((function(e){"ok"===e.code?(p(e.monthlyBalance),j(e.balance),_(e.rewards)):ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not update balance."})]})]}))})).catch((function(e){console.log(e),ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not update balance."})]})]}))}))}),[]),Object(l.useEffect)((function(){N||t.push("/account/wallet"),Z||t.push("/account/wallet"),$(!1)}),[N,Z]),Object(h.jsxs)("div",{className:"walletContainer",children:[Object(h.jsxs)("div",{className:"leftSection",children:[Object(h.jsxs)("div",{className:"nameTag",children:[Object(h.jsxs)("h2",{children:["Hello ",s.firstName,","]}),Object(h.jsx)("p",{className:"greetings",children:re()})]}),Object(h.jsxs)("div",{className:"balance",children:[Object(h.jsxs)("div",{className:"currentBalance",children:[Object(h.jsx)("p",{className:"label",children:"Wallet Balance"}),Object(h.jsxs)("h1",{children:["\u20b9 ",o]}),Object(h.jsx)("p",{className:"updateTime",children:Object(h.jsx)(ce.a,{format:"ddd, DD MM YYYY",children:new Date})})]}),Object(h.jsx)(oe,{data:x})]}),Object(h.jsxs)("div",{className:"addWithdraw",children:[Object(h.jsxs)("div",{className:"add money",children:[Object(h.jsx)("p",{className:"label",children:"Add Money"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.push("/account/wallet/addMoney")},children:[Object(h.jsx)("input",{type:"number",step:"0.01",min:"10",value:N,onChange:function(e){return y(e.target.value)},placeholder:"Enter ammount",required:!0}),Object(h.jsx)("button",{children:"Proceed"})]})]}),Object(h.jsxs)("div",{className:"withdraw money",children:[Object(h.jsx)("p",{className:"label",children:"Withdraw"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Z>o?ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Enter an amount less or equal to currect balance."})]})]})):t.push("/account/wallet/withdrawMoney")},children:[Object(h.jsx)("input",{type:"number",step:"0.01",min:"10",placeholder:"Enter ammount",required:!0,value:Z,onChange:function(e){return E(e.target.value)}}),Object(h.jsx)("button",{children:"Proceed"})]})]})]}),Object(h.jsxs)("div",{className:"rewards",children:[Object(h.jsx)("p",{className:"label",children:"Rewards"}),Object(h.jsxs)("ul",{className:"cards",children:[S.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{className:"rewardName",children:e.name}),Object(h.jsxs)("div",{children:[e.img&&Object(h.jsx)("img",{src:e.img}),e.amount&&Object(h.jsxs)("p",{className:"amount",children:["\u20b9",e.amount]}),Object(h.jsx)("p",{className:"rewardDscr",children:e.dscr})]}),!e.redeemed&&Object(h.jsx)("button",{className:"redeem",onClick:function(){ee(Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{children:Object(h.jsx)("h4",{children:"Redeeming Reward..."})})})),fetch("/api/redeemReward",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?(_((function(t){return t.map((function(t){return t._id===e.reward._id?e.reward:t}))})),ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Reward succefully redeemed"})]})]}))):ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not redeem reward."})]})]}))})).catch((function(e){console.log(e),ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not redeem reward. Make sure you're online."})]})]}))}))},children:"Redeem"})]},t)})),0===S.length?Object(h.jsx)("li",{className:"placeholder",children:"Nothing yet."}):null]})]})]}),Object(h.jsxs)("div",{className:"rightSection",children:[Object(h.jsx)(me,{paymentMethods:s.paymentMethods}),Object(h.jsx)(fe,{})]}),Object(h.jsxs)(f,{className:"addMoney",open:n.pathname.startsWith("/account/wallet/addMoney"),style:z?{filter:"grayscale(.4)",pointerEvents:"none"}:{},children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Money"}),Object(h.jsx)("button",{onClick:function(){t.push("/account/wallet")},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(je,{label:"Choose a payment method.",action:function(e){$(!0),fetch("/api/createAddMoneyOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:N})}).then((function(e){return e.json()})).then((function(t){var n=t.order,c=t.key;$(!1),n?te(n,c,e):ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Error happend. Please try again."})]})]}))})).catch((function(e){console.log(e),$(!1),ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Error happend. Make sure you're online."})]})]}))}))}})]}),Object(h.jsxs)(f,{className:"paymentMethodsForm",open:n.pathname.startsWith("/account/wallet/addMoney/addPaymentMethod"),children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Payment Method"}),Object(h.jsx)("button",{onClick:function(){t.push("/account/wallet/addMoney")},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(de,{onSuccess:function(){return t.push("/account/wallet/addMoney")}})]}),Object(h.jsxs)(f,{className:"addMoney",open:n.pathname.startsWith("/account/wallet/withdrawMoney"),style:z?{filter:"grayscale(.4)",pointerEvents:"none"}:{},children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Withdraw Money"}),Object(h.jsx)("button",{onClick:function(){t.push("/account/wallet")},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(je,{label:"Where do you want to recieve your money?",action:function(e){var n={method:"POST",headers:{"Content-Type":"application/json"}};switch(e.__t){case"BankCard":n.body=JSON.stringify({paymentMethod:e.__t,amount:Z,accountDetail:{number:+e.cardNumber,name:e.nameOnCard}});break;case"BankAccount":n.body=JSON.stringify({paymentMethod:e.__t,amount:Z,accountDetail:{name:e.name,ifsc:e.ifsc,account_number:e.accountNumber}});break;case"VpaAccount":n.body=JSON.stringify({paymentMethod:e.__t,amount:Z,accountDetail:{address:e.address}});default:return}$(!0),fetch("/api/withdrawMoney",n).then((function(e){return e.json()})).then((function(e){var n;($(!1),"ok"===e.code)?(a((function(t){return Object(m.a)(Object(m.a)({},t),{},{balance:t.balance-e.transaction.amount})})),j((function(t){return t-e.transaction.amount})),t.push("/account/wallet"),ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===(n=e.transaction)||void 0===n?void 0:n.amount]}),Object(h.jsx)("h4",{children:"Money withdrawed!"})]})]}))):403===e.code?ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Insufficient fun."})]})]})):ee(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ee(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not withdraw money. Please try again."})]})]}))})).catch((function(e){console.log(e),$(!1),H(!0)}))}})]}),Object(h.jsxs)(f,{open:F,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(h.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(h.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(h.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(h.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(h.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]}),Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===F||void 0===F?void 0:F.amount]}),Object(h.jsx)("h4",{children:"Money added!"})]})]}),Object(h.jsxs)(f,{open:V,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){$(!1),H(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"linear-gradient-red",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient-red)"}),Object(h.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]}),Object(h.jsx)("h4",{children:"Could not withdraw money."})]})]}),Object(h.jsxs)(f,{open:!1,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){return B(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient)"}),Object(h.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]}),Object(h.jsx)("h4",{children:"Add money failed"})]})]}),Object(h.jsx)(f,{className:"msg",open:Q,children:Q})]})},ve=function(e){var t=e.product,n=e.setProducts,c=(Object(l.useContext)(u).user,Object(l.useState)(!1)),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)(!1),o=Object(d.a)(r,2),j=o[0],b=o[1],O=function(){fetch("/api/removeProduct",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t._id})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?n((function(e){return e.filter((function(e){return e._id!==t._id}))})):b(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return b(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Product could not be removed. Please try again."})]})]}))})).catch((function(e){console.log(e),b(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return b(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Product could not be removed. Make sure you're online"})]})]}))}))};return Object(h.jsxs)("li",{className:"product",children:[Object(h.jsx)("img",{src:t.images[0]}),Object(h.jsxs)("div",{className:"detail",children:[Object(h.jsx)("p",{className:"name",children:t.name}),Object(h.jsx)("p",{className:"dscr",children:t.dscr}),Object(h.jsxs)("p",{className:"price",children:["\u20b9 ",t.price]})]}),Object(h.jsxs)("div",{className:"btns",children:[Object(h.jsx)("button",{className:"edit",onClick:function(){return i(!0)},children:"Edit"}),Object(h.jsx)("button",{className:"delete",onClick:function(){return p({label:"Removing Product",question:"You sure want to delete this product?",callback:O})},children:"Delete"})]}),Object(h.jsxs)(f,{open:a,className:"productForm",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Edit Product/Service"}),Object(h.jsx)("button",{onClick:function(){i(!1)},children:Object(h.jsx)(k,{})})]}),Object(h.jsx)(Ne,{onSuccess:function(e){n((function(t){return t.map((function(t){return t._id===e._id?e:t}))})),i(!1),b(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return b(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Product updated."})]})]}))},prefill:t})]}),Object(h.jsx)(f,{className:"msg",open:j,children:j})]})},Ne=function(e){var t=e.prefill,n=e.onSuccess,c=Object(l.useState)((null===t||void 0===t?void 0:t.name)||""),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)((null===t||void 0===t?void 0:t.dscr)||""),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)((null===t||void 0===t?void 0:t.price)||""),O=Object(d.a)(b,2),x=O[0],p=O[1],g=Object(l.useState)((null===t||void 0===t?void 0:t.images)||[]),v=Object(d.a)(g,2),N=v[0],y=v[1],C=Object(l.useState)(null),k=Object(d.a)(C,2),P=k[0],S=k[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();fetch("/api/".concat(t?"edit":"add","Product"),{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(m.a)({name:a,dscr:j,price:x,images:[]},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?null===n||void 0===n||n(e.product):403===e.code?S(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return S(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"You can't add more that 100 product at a time. Delete a product/service and try again."})]})]})):S(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return S(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not add product. please try again."})]})]}))})).catch((function(e){console.log(e),S(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return S(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not add product. Make sure you're online."})]})]}))}))},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Name of the product/service"}),Object(h.jsx)("input",{value:a,onChange:function(e){return i(e.target.value)},required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Price"}),Object(h.jsx)("input",{type:"number",value:x,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(h.jsxs)("section",{className:"dscr",children:[Object(h.jsx)("label",{children:"Description of the product/service"}),Object(h.jsx)("textarea",{value:j,onChange:function(e){return u(e.target.value)},required:!0})]}),Object(h.jsxs)("section",{className:"images",children:[Object(h.jsx)("label",{children:"Images of the product"}),Object(h.jsx)("ul",{children:N.map((function(e,t){return Object(h.jsx)("li",{children:e.name},t)}))}),Object(h.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:function(e){y(Object.values(e.target.files))}})]}),Object(h.jsx)("button",{type:"submit",children:"Submit"}),Object(h.jsx)("div",{className:"pBtm"})]}),Object(h.jsx)(f,{className:"msg",open:P,children:P})]})},ye=function(e){e.history,e.location,e.match;var t=Object(l.useState)([]),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(l.useState)(null),i=Object(d.a)(a,2),r=i[0],o=i[1],j=Object(l.useState)(!1),u=Object(d.a)(j,2),b=u[0],O=u[1];return Object(l.useEffect)((function(){fetch("/api/products?perPage=100").then((function(e){if(200===e.status)return e.json()})).then((function(e){e&&s(e.products)})).catch((function(e){console.log(e),o(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not get products."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"productContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)("p",{children:"Product Management"}),Object(h.jsxs)("button",{onClick:function(){return O(!0)},children:[Object(h.jsx)(L,{})," Add Product"]})]}),Object(h.jsxs)("ul",{className:"products",children:[c.map((function(e){return Object(h.jsx)(ve,{product:e,setProducts:s},e._id)})),0===c.length&&Object(h.jsx)("p",{className:"placeholder",children:"No product yet."})]}),Object(h.jsxs)(f,{open:b,className:"productForm",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Product/Service"}),Object(h.jsx)("button",{onClick:function(){O(null)},children:Object(h.jsx)(k,{})})]}),Object(h.jsx)(Ne,{onSuccess:function(e){s((function(t){return[].concat(Object(v.a)(t),[e])})),O(!1),o(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Product added."})]})]}))}})]}),Object(h.jsx)(f,{className:"msg",open:r,children:r})]})},we=n(109);n(144),n(145);var Ce=function(e){var t=e.history,n=(e.location,e.pathname,Object(l.useRef)()),c=Object(l.useState)(!1),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)(null),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)(0),O=Object(d.a)(b,2),x=O[0],m=O[1],p=Object(l.useState)([]),g=Object(d.a)(p,2),N=g[0],y=g[1],P=Object(l.useState)({column:"createdAt",order:"dsc"}),S=Object(d.a)(P,2),_=S[0],M=S[1],D=Object(l.useState)({startDate:new Date,endDate:new Date}),F=Object(d.a)(D,2),L=F[0],A=F[1],R=Object(l.useState)(!1),B=Object(d.a)(R,2),T=B[0],Z=B[1],I=Object(l.useState)(1),V=Object(d.a)(I,2),H=V[0],W=V[1],Y=Object(l.useState)(""),G=Object(d.a)(Y,2),J=G[0],z=G[1],$=Object(l.useState)(20),K=Object(d.a)($,2),Q=K[0],ee=K[1],te=Object(l.useState)({}),ne=Object(d.a)(te,2),se=ne[0],ae=ne[1],ie=Object(l.useState)(!1),re=Object(d.a)(ie,2),oe=re[0],je=re[1];return Object(l.useLayoutEffect)((function(){var e=n.current.getBoundingClientRect(),t=e.height,c=e.y,s=e.width,a=e.x;ae({position:"fixed",top:t+c+4,right:window.innerWidth-a-s})}),[]),Object(l.useEffect)((function(){var e=le()(L.startDate).format("YYYY-MM-DD"),t=(le()(L.endDate).format("YYYY-MM-DD"),le()(new Date(L.endDate).setDate(L.endDate.getDate()+1)).format("YYYY-MM-DD"));fetch("/api/getTickets?page=".concat(H,"&perPage=").concat(Q,"&sort=").concat(_.column,"&order=").concat(_.order).concat(J&&"&q="+J).concat(oe?"&dateFrom="+e+"&dateTo="+t:"")).then((function(e){return e.json()})).then((function(e){var t;"ok"===e.code?(y(e.tickets.tickets),m((null===(t=e.tickets.pageInfo[0])||void 0===t?void 0:t.count)||0)):u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not get tickets."})]})]}))})).catch((function(e){console.log(e),u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not get tickets. Make sure you're online."})]})]}))}))}),[H,Q,_.column,_.order,J,oe]),Object(h.jsxs)("div",{className:"table ticketContainer",children:[Object(h.jsx)("div",{style:{display:"none"},children:Object(h.jsx)(k,{})}),Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("h3",{children:"Tickets"}),Object(h.jsx)("button",{onClick:function(){return i(!0)},children:"Open Ticket"})]}),Object(h.jsxs)("div",{className:"filters",children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Total:"}),x]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Per Page:"}),Object(h.jsx)(E,{defaultValue:0,options:[{label:"20",value:20},{label:"30",value:30},{label:"50",value:50}],onChange:function(e){return ee(e.value)}})]}),Object(h.jsxs)("section",{className:"search",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",children:Object(h.jsx)("path",{id:"Icon_ionic-ios-search","data-name":"Icon ionic-ios-search",d:"M27.23,25.828l-6.4-6.455a9.116,9.116,0,1,0-1.384,1.4L25.8,27.188a.985.985,0,0,0,1.39.036A.99.99,0,0,0,27.23,25.828ZM13.67,20.852a7.2,7.2,0,1,1,5.091-2.108A7.155,7.155,0,0,1,13.67,20.852Z",transform:"translate(-4.5 -4.493)",fill:"#707070",opacity:"0.74"})}),Object(h.jsx)("input",{value:J,onChange:function(e){return z(e.target.value)},placeholder:"Search issue"}),J&&Object(h.jsx)("button",{onClick:function(){return z("")},children:Object(h.jsx)(k,{})})]}),Object(h.jsxs)("section",{className:"date ".concat(oe?"open":""),ref:n,children:[Object(h.jsx)("svg",{onClick:function(){return Z(!0)},xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(h.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})}),oe&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"dates",children:[Object(h.jsxs)("p",{children:["From:"," ",Object(h.jsx)(ce.a,{format:"DD MMM, YYYY",children:L.startDate})]}),Object(h.jsxs)("p",{children:["To: ",Object(h.jsx)(ce.a,{format:"DD MMM, YYYY",children:L.endDate})]})]}),Object(h.jsx)("button",{className:"clearDateFilter",onClick:function(){A({startDate:new Date,endDate:new Date}),je(!1)},children:Object(h.jsx)(k,{})})]})]})]}),Object(h.jsxs)("table",{cellSpacing:0,cellPadding:0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{className:"createdAt"===_.column?"sort "+_.order:"",onClick:function(){M((function(e){return{column:"createdAt",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Date ",Object(h.jsx)(q,{})]}),Object(h.jsxs)("th",{className:"issue"===_.column?"sort "+_.order:"",onClick:function(){M((function(e){return{column:"issue",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Issue ",Object(h.jsx)(q,{})]}),Object(h.jsxs)("th",{className:"status"===_.column?"sort "+_.order:"",onClick:function(){M((function(e){return{column:"status",order:"dsc"===e.order?"asc":"dsc"}}))},children:["Status ",Object(h.jsx)(q,{})]})]})}),Object(h.jsxs)("tbody",{children:[N.map((function(e){return Object(h.jsxs)("tr",{onClick:function(){return t.push("/account/support/ticket/".concat(e._id))},children:[Object(h.jsx)("td",{children:Object(h.jsx)(ce.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})}),Object(h.jsx)("td",{children:e.issue}),Object(h.jsx)("td",{children:e.status})]},e._id)})),0===y.length&&Object(h.jsx)("tr",{className:"placeholder",children:Object(h.jsx)("td",{children:"Nothing yet."})})]}),Object(h.jsx)("tfoot",{children:Object(h.jsx)("tr",{children:Object(h.jsx)(U,{total:x,perPage:Q,currentPage:H,btns:5,setPage:W})})})]}),Object(h.jsx)(f,{open:j,className:"msg",children:j}),Object(h.jsx)(f,{open:T,onBackdropClick:function(){return Z(!1)},backdropClass:"datePicker",style:se,children:Object(h.jsx)(we.DateRange,{className:"dateRange",ranges:[L],onChange:function(e){A(e.range1),e.range1.endDate!==e.range1.startDate&&(Z(!1),je(!0))}})}),Object(h.jsxs)(f,{open:a,className:"formModal ticketFormModal",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Open Ticket"}),Object(h.jsx)("button",{onClick:function(){return i(!1)},children:Object(h.jsx)(k,{})})]}),Object(h.jsx)(X,{onSuccess:function(e){console.log(e),i(!1),u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Ticket successfully submitted."})]})]})),y((function(t){return[e].concat(Object(v.a)(t))}))}})]})]})},ke=function(e){var t=e.history,n=e.match,c=Object(l.useState)(null),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(l.useState)(null),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(l.useState)(!1),O=Object(d.a)(b,2),p=O[0],g=O[1];return Object(l.useEffect)((function(){fetch("/api/singleTicket?_id=".concat(n.params._id)).then((function(e){return e.json()})).then((function(e){"ok"===e.code?i(e.ticket):u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return t.push("/account/support/ticket")},children:"Go Back"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Ticket could not be found."})]})]}))})).catch((function(e){console.log(e),u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return t.push("/account/support/ticket")},children:"Go Back"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Ticket could not be found."})]})]}))}))}),[]),a?Object(h.jsxs)("div",{className:"ticket",children:[Object(h.jsxs)("div",{className:"detail",children:[Object(h.jsxs)(x.b,{to:"/account/support/ticket",className:"back",children:[Object(h.jsx)(T,{}),"Go Back"]}),Object(h.jsxs)("ul",{className:"summery",children:[Object(h.jsx)("li",{className:"head",children:"Ticket Summery"}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Issue:"}),Object(h.jsx)("p",{children:a.issue})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Status:"}),Object(h.jsx)("p",{children:a.status})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Created at:"}),Object(h.jsx)("p",{children:Object(h.jsx)(ce.a,{format:"hh:mm a, DD MMM, YYYY",children:a.createdAt})})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Last Activity:"}),Object(h.jsx)("p",{children:Object(h.jsx)(ce.a,{format:"hh:mm a, DD MMM, YYYY",children:a.updatedAt})})]})]}),Object(h.jsxs)("ul",{className:"milestoneDetail",children:[Object(h.jsx)("li",{className:"head",children:"Milestone Detail"}),a.milestone?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Amount:"}),Object(h.jsx)("p",{children:a.milestone.amount})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Status:"}),Object(h.jsx)("p",{children:a.milestone.status})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Created at:"}),Object(h.jsx)("p",{children:Object(h.jsx)(ce.a,{format:"hh:mm a, DD MMM, YYYY",children:a.milestone.createdAt})})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Verification Method:"}),Object(h.jsx)("p",{children:a.milestone.verification})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Seller:"}),Object(h.jsx)("p",{children:a.milestone.seller.firstName+" "+a.milestone.seller.lastName})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Buyer:"}),Object(h.jsx)("p",{children:a.milestone.buyer.firstName+" "+a.milestone.buyer.lastName})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Description:"}),Object(h.jsx)("p",{children:a.milestone.dscr})]})]}):Object(h.jsx)("li",{className:"placeholder",children:"No Detail provided"})]}),Object(h.jsxs)("ul",{className:"transactionDetail",children:[Object(h.jsx)("li",{className:"head",children:"Transaction Detail"}),a.transaction?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Type:"}),Object(h.jsx)("p",{children:a.transaction.__t})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Amount:"}),Object(h.jsx)("p",{children:a.transaction.amount})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Note:"}),Object(h.jsx)("p",{children:a.transaction.note})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("label",{children:"Created at:"}),Object(h.jsx)("p",{children:Object(h.jsx)(ce.a,{format:"hh:mm a, DD MMM, YYYY",children:a.transaction.createdAt})})]})]}):Object(h.jsx)("li",{className:"placeholder",children:"No Detail provided"})]}),Object(h.jsx)("div",{className:"pBtm"})]}),Object(h.jsxs)("div",{className:"messages",children:[Object(h.jsxs)("div",{className:"head",children:["Messages ",Object(h.jsx)("button",{onClick:function(){return g(!0)},children:"Reply"})]}),Object(h.jsx)("ul",{children:Object(v.a)(a.messages).reverse().map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsx)("div",{className:"user",children:Object(h.jsxs)("p",{className:"name",children:[e.user.name,Object(h.jsx)("span",{children:"\u2022"}),Object(h.jsx)("span",{className:"role",children:e.user.role}),Object(h.jsx)("span",{className:"date",children:Object(h.jsx)(ce.a,{format:"hh:mm a, DD MMM, YYYY",children:e.createdAt})})]})}),Object(h.jsx)("p",{className:"message",children:e.message.body}),e.message.files.length>0&&Object(h.jsx)("div",{className:"files",children:"test"})]},t)}))})]}),Object(h.jsxs)(f,{open:p,className:"ticketReplyFormModal",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add reply to Ticket"}),Object(h.jsx)("button",{onClick:function(){return g(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(Q,{_id:a._id,onSuccess:function(e){g(!1),i((function(t){return Object(m.a)(Object(m.a)({},t),{},{messages:e.messages})})),u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Reply has been submitted."})]})]}))}})]}),Object(h.jsx)(f,{open:j,className:"msg",children:j})]}):Object(h.jsxs)("div",{className:"ticket",children:["loading",Object(h.jsx)(f,{open:j,className:"msg",children:j})]})},Pe=function(e){e.history,e.location,e.match;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/account/support/ticket",component:Ce}),Object(h.jsx)(O.b,{path:"/",children:Object(h.jsxs)("div",{className:"supportContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)(x.b,{className:"ticketLink",to:"/account/support/ticket",children:"My Tickets"}),Object(h.jsx)("h1",{children:"Support portal"}),Object(h.jsx)("p",{children:"Search for an answer or browse help topics to create a ticket"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("input",{type:"text",required:!0,placeholder:"Eg: How does the Delivery pay Hold Works"}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.336",height:"31.336",viewBox:"0 0 31.336 31.336",children:Object(h.jsx)("path",{id:"Path_1935","data-name":"Path 1935",d:"M25.4,22.708H23.98l-.5-.484a11.663,11.663,0,1,0-1.254,1.254l.484.5V25.4l8.958,8.94,2.67-2.67Zm-10.75,0a8.062,8.062,0,1,1,8.063-8.063A8.052,8.052,0,0,1,14.646,22.708Z",transform:"translate(-3 -3)",fill:"#707070"})})})]})]}),Object(h.jsxs)("div",{className:"feedback",children:[Object(h.jsxs)("form",{children:[Object(h.jsx)("textarea",{required:!0}),Object(h.jsx)("button",{children:"Submit"})]}),Object(h.jsx)(x.b,{className:"feedbackLink",to:"/support/myFeedbacks",children:"Submitted Feedbacks"})]})]})})]})})},Se=n(33),_e=n.n(Se),Me=n(110),De=n(45);function Fe(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(De.a)(_e.a.mark((function e(t){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/editUserProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=function(e){var t=e.method,n=e.setMsg,c=Object(l.useContext)(u).setUser,s=Object(l.useState)(!1),a=Object(d.a)(s,2),i=a[0],r=a[1],o=Object(l.useCallback)((function(e){fetch("/api/deletePaymentMethod",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id})}).then((function(e){return e.json()})).then((function(t){"ok"===t.code?c((function(t){return Object(m.a)(Object(m.a)({},t),{},{paymentMethods:t.paymentMethods.filter((function(t){return t._id!==e._id}))})})):n(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Payment method could not be deleted."})]})]}))}))}),[]);return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("button",{className:"edit",onClick:function(){return r(t.__t)},children:"Edit"}),Object(h.jsx)("button",{className:"delete",onClick:function(){return p({label:"Payment method delete",question:"Do you want to delete this payment method?",callback:function(){return o(t)}})},children:"Delete"})]}),"BankCard"===t.__t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Oe,{card:t}),i===t.__t&&Object(h.jsxs)(f,{open:i,className:"editPaymentMethod",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Edit Payment Method"}),Object(h.jsx)("button",{onClick:function(){return r(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(ue,{prefill:t,onSuccess:function(e){e&&(r(!1),n(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Payment method updated."})]})]})))}})]})]}),"BankAccount"===t.__t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(xe,{account:t}),i===t.__t&&Object(h.jsxs)(f,{open:i,className:"editPaymentMethod",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Edit Payment Method"}),Object(h.jsx)("button",{onClick:function(){return r(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(be,{prefill:t,onSuccess:function(e){e&&(r(!1),n(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return n(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Payment method updated."})]})]})))}})]})]})]})},Re=function(e){var t=e.label,n=e.fields,c=e.value,s=e.onError,a=Object(l.useContext)(u).setUser,i=Object(l.useState)(!1),r=Object(d.a)(i,2),o=r[0],j=r[1],b=Object(l.useRef)(null);return Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{className:"label",children:t}),Object(h.jsxs)("form",{ref:b,onSubmit:function(e){e.preventDefault();var t,n={},c=Object(Me.a)(new FormData(e.target).entries());try{for(c.s();!(t=c.n()).done;){var i=Object(d.a)(t.value,2),l=i[0],r=i[1];n[l]=r}}catch(o){c.e(o)}finally{c.f()}n.password&&n.password!==n.confirm_password?null===s||void 0===s||s():(n["address.city"]&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude;n["address.location"]={type:"Point",coordinates:[c,t]}})),fetch("/api/editUserProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){var t=e.user;t?(a(t),j(!1)):alert("someting went wrong")})).catch((function(e){console.log(e),alert("someting went wrong")})))},children:[o?Object(h.jsx)("div",{className:"inputs",children:n}):Object(h.jsx)("p",{className:"currentValue",children:c}),Object(h.jsx)("div",{className:"btns",children:o?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"submit",children:"Save changes"},"submit"),Object(h.jsx)("button",{type:"button",onClick:function(){return j(!1)},children:"Cancel"},"cancel")]}):Object(h.jsx)("button",{type:"button",onClick:function(){return j(!0)},children:"Edit"},"edit")})]})]})},Be=function(e){e.history,e.match,e.location;var t,n,c,s,a=Object(l.useContext)(u),i=a.user,r=a.setUser,o=Object(l.useState)(!1),j=Object(d.a)(o,2),b=j[0],O=j[1],x=Object(l.useState)(null),p=Object(d.a)(x,2),g=p[0],v=p[1],N=function(e){e.googleId&&Fe({googleId:e.googleId}).then((function(t){r((function(t){return Object(m.a)(Object(m.a)({},t),{},{googleId:e.googleId})})),v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Google account successfully connected."})]})]}))})).catch((function(e){console.log(e),v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not connect Google account."})]})]}))}))},y=function(e){Fe({googleId:null}).then((function(e){e.user?(r((function(e){return Object(m.a)(Object(m.a)({},e),{},{googleId:null})})),v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Successfully disconnected Google."})]})]}))):v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not disconnect Google account. Please try again."})]})]}))})).catch((function(e){console.log(e),v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not disconnect Google account."})]})]}))}))};return Object(h.jsxs)("div",{className:"profileContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsxs)("div",{className:"profileImg",children:[Object(h.jsx)("img",{src:i.profileImg}),Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"91.832",height:"25.468",viewBox:"0 0 91.832 25.468",children:Object(h.jsxs)("g",{id:"Path_1937","data-name":"Path 1937",transform:"translate(15.429 -9.647)",fill:"#fff",children:[Object(h.jsx)("path",{d:"M 29.79687690734863 34.6146240234375 C 22.21588897705078 34.6146240234375 13.43720626831055 32.0111198425293 5.0779709815979 27.28368377685547 C -2.8753981590271 22.78578186035156 -9.78753662109375 16.7585563659668 -14.48426628112793 10.24203777313232 C -13.95890235900879 10.24473857879639 -13.30369663238525 10.25548648834229 -12.80753517150879 10.26361274719238 C -12.44524097442627 10.26955413818359 -12.15906429290771 10.27424812316895 -12.02891159057617 10.27424812316895 C -11.93940830230713 10.27424812316895 -11.86373233795166 10.26253128051758 -11.79978466033936 10.24241733551025 C -11.48864650726318 10.21196746826172 -10.04010391235352 10.17821311950684 -5.149840831756592 10.17821311950684 C -1.226676225662231 10.17821311950684 4.093100070953369 10.19837760925293 9.725229263305664 10.21973037719727 C 16.20444107055664 10.24428367614746 23.54814720153809 10.27211856842041 29.79687690734863 10.27211856842041 C 31.89767646789551 10.27211856842041 43.68988800048828 10.22107124328613 56.17448806762695 10.16702461242676 L 59.24650192260742 10.15374183654785 C 60.32665252685547 10.14907169342041 61.61424255371094 10.14680099487305 63.18285369873047 10.14680099487305 C 64.99295043945313 10.14680099487305 66.92156219482422 10.14978885650635 68.78666687011719 10.15269470214844 C 70.55825042724609 10.1554479598999 72.23158264160156 10.15804767608643 73.72422027587891 10.15804767608643 C 74.4501953125 10.15804767608643 75.08247375488281 10.1574182510376 75.63590240478516 10.15613842010498 C 74.24596405029297 13.15391826629639 71.95748138427734 16.1362361907959 68.82386779785156 19.03109550476074 C 65.67525482177734 21.9398250579834 61.6738166809082 24.71903610229492 57.25215911865234 27.06828308105469 C 52.91740798950195 29.37135314941406 48.15610122680664 31.27616500854492 43.48295974731445 32.57678985595703 C 38.69290161132813 33.90995407104492 33.96032333374023 34.6146240234375 29.79687690734863 34.6146240234375 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 63.18235397338867 10.64679336547852 C 61.61428070068359 10.64679336547852 60.32755279541016 10.64906692504883 59.24865341186523 10.65373229980469 L 56.18099212646484 10.6670036315918 C 43.69374084472656 10.72105407714844 31.89901733398438 10.77211761474609 29.79687881469727 10.77211761474609 C 23.54719161987305 10.77211761474609 16.2029914855957 10.74428176879883 9.723331451416016 10.71971893310547 C 4.091693878173828 10.69837951660156 -1.227619171142578 10.67821884155273 -5.149848937988281 10.67821884155273 C -9.844169616699219 10.67821884155273 -11.33226013183594 10.70873641967773 -11.7083740234375 10.73677062988281 C -11.80277252197266 10.76053237915039 -11.90915679931641 10.77424240112305 -12.0289306640625 10.77424240112305 C -12.16323089599609 10.77424240112305 -12.45131683349609 10.7695198059082 -12.81605529785156 10.76354217529297 C -13.01943206787109 10.76021194458008 -13.24966430664063 10.75643920898438 -13.48653411865234 10.75296401977539 C -8.851593017578125 16.903076171875 -2.239547729492188 22.57095718383789 5.324104309082031 26.84845542907715 C 13.60947799682617 31.53411865234375 22.30074310302734 34.11461639404297 29.79687881469727 34.11461639404297 C 33.91565704345703 34.11461639404297 38.60186767578125 33.41628265380859 43.34890747070313 32.0950927734375 C 47.98773193359375 30.80401802062988 52.71426773071289 28.91309356689453 57.0175666809082 26.62672996520996 C 61.40182876586914 24.29735565185547 65.3670654296875 21.5438175201416 68.48458099365234 18.6638298034668 C 71.32099151611328 16.04351997375488 73.45128631591797 13.35661125183105 74.83492279052734 10.65748596191406 C 74.4908447265625 10.65786743164063 74.12125396728516 10.65805435180664 73.72370147705078 10.65805435180664 C 72.23068237304688 10.65805435180664 70.55716705322266 10.65545654296875 68.78539276123047 10.65269470214844 C 66.92047119140625 10.6497917175293 64.9920654296875 10.64679336547852 63.18235397338867 10.64679336547852 M 63.18235778808594 9.646797180175781 C 66.69034576416016 9.646797180175781 70.639892578125 9.658050537109375 73.72370910644531 9.658050537109375 C 74.72272491455078 9.658050537109375 75.63052368164063 9.656867980957031 76.4033203125 9.653743743896484 C 70.7041015625 23.3221435546875 47.19384002685547 35.11461639404297 29.79687881469727 35.11461639404297 C 13.80905532836914 35.11461639404297 -5.7138671875 23.84020614624023 -15.427734375 9.772117614746094 C -15.45098876953125 9.749141693115234 -15.14891815185547 9.741405487060547 -14.71451568603516 9.741401672363281 C -13.8193359375 9.741401672363281 -12.36181640625 9.774246215820313 -12.02893829345703 9.774246215820313 C -11.98212432861328 9.774246215820313 -11.95759582519531 9.773597717285156 -11.9599609375 9.772117614746094 C -12.07225799560547 9.701694488525391 -9.402595520019531 9.678211212158203 -5.14984130859375 9.678211212158203 C 3.356430053710938 9.678211212158203 18.19854354858398 9.772117614746094 29.79687881469727 9.772117614746094 C 32.07231903076172 9.772117614746094 46.01445388793945 9.710941314697266 59.24433135986328 9.653743743896484 C 60.42824935913086 9.648624420166016 61.76977157592773 9.646797180175781 63.18235778808594 9.646797180175781 Z",stroke:"none",fill:"#336cf9"})]})}),Object(h.jsx)("input",{type:"file",accept:".jpg, .png, .jpeg",onChange:function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);r((function(e){return Object(m.a)(Object(m.a)({},e),{},{profileImg:t})}))}}}),Object(h.jsx)("label",{children:"Edit"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"name",children:i.firstName+" "+i.lastName}),Object(h.jsxs)("p",{className:"id",children:["Delivery pay ID: ",i.userId||i._id]})]})]}),Object(h.jsxs)("div",{className:"settings",children:[Object(h.jsx)("div",{className:"head",children:"Account Settings"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)(Re,{label:"Name",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"First name",defaultValue:i.firstName,name:"firstName",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"last name",defaultValue:i.lastName,name:"lastName",required:!0})})]}),value:i.firstName+" "+i.lastName}),Object(h.jsx)(Re,{label:"Phone Number",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Phone Number",defaultValue:i.phone,name:"phone",required:!0})})}),value:i.phone}),Object(h.jsx)(Re,{label:"Email",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Phone Number",defaultValue:i.email,name:"email",required:!0})})}),value:i.email}),Object(h.jsx)(Re,{label:"Password",onError:function(){return O(!0)},fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Password",name:"password",required:!0,type:"password",onChange:function(e){return O(!1)}})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Confirm password",name:"confirm_password",required:!0,type:"password",onChange:function(e){return O(!1)}})}),b&&Object(h.jsx)("p",{className:"errMsg",children:"Password did not match."})]}),value:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),Object(h.jsx)(Re,{label:"Gender",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Gender",defaultValue:i.gender,name:"gender",required:!0})})}),value:i.gender}),Object(h.jsx)(Re,{label:"Age",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"number",placeholder:"Age",defaultValue:i.age,name:"age",required:!0})})}),value:i.age}),Object(h.jsx)(Re,{label:"Address",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"text",placeholder:"Address",defaultValue:i.address.street,name:"address.street",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"text",placeholder:"City",defaultValue:i.address.city,name:"address.city",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"text",placeholder:"State",defaultValue:i.address.state,name:"address.state",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"number",placeholder:"PIN Code",defaultValue:i.address.zip,name:"address.zip",required:!0})})]}),value:"".concat((null===(t=i.address)||void 0===t?void 0:t.street)||""," ").concat((null===(n=i.address)||void 0===n?void 0:n.city)||""," ").concat((null===(c=i.address)||void 0===c?void 0:c.state)||""," ").concat((null===(s=i.address)||void 0===s?void 0:s.zip)||"")})]})]}),Object(h.jsxs)("div",{className:"paymentMethods",children:[Object(h.jsx)("div",{className:"head",children:"Payment Methods"}),Object(h.jsx)("ul",{className:"methods",children:i.paymentMethods.map((function(e,t){return Object(h.jsx)(Ae,{setMsg:v,method:e},t)}))})]}),Object(h.jsxs)("div",{className:"socials",children:[Object(h.jsx)("div",{className:"head",children:"Connect Social Accounts"}),Object(h.jsx)("ul",{className:"providers",children:i.googleId?Object(h.jsx)(H.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Disconnect from Google",onSuccess:y,onFailure:y,cookiePolicy:"single_host_origin"}):Object(h.jsx)(H.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Connect with Google",onSuccess:N,onFailure:N,cookiePolicy:"single_host_origin"})})]}),Object(h.jsx)(f,{className:"msg",open:g,children:g})]})},Te=n(44),qe=n(111),Ze=Object(qe.io)(),Ee=function(e){var t=e.client,n=e.messages,c=e.lastSeen,s=e.userCard,a=Object(O.g)(),i=Object(l.useState)(n.filter((function(e){return new Date(e.createdAt)>new Date(c)})).length||!1),r=Object(d.a)(i,2),o=r[0],j=r[1];return Object(l.useEffect)((function(){(null===t||void 0===t?void 0:t._id)!==(null===s||void 0===s?void 0:s._id)?j(n.filter((function(e){return new Date(e.createdAt)>new Date(c)})).length||!1):j(!1)}),[n]),Object(h.jsx)("li",{className:t._id===(null===s||void 0===s?void 0:s._id)?"active":void 0,onClick:function(){a.push("/account/deals/".concat(t._id))},children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:t.profileImg||"/profile-user.jpg"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"name",children:t.firstName?t.firstName+" "+t.lastName:"Deleted User"}),n.length>0&&Object(h.jsx)("p",{className:"lastMessage",children:n[n.length-1].text}),o&&Object(h.jsx)("p",{className:"unread",children:o})]})]})})},Ie=function(e){var t=e.chat,n=e.setChat,c=e.userCard,s=e.setUserCard,a=e.user,i=e.socket,r=Object(l.useRef)(null),o=Object(O.g)(),j=Object(l.useState)(""),u=Object(d.a)(j,2),b=u[0],m=u[1],p=Object(l.useState)([]),g=Object(d.a)(p,2),v=g[0],N=g[1],y=Object(l.useState)(null),P=Object(d.a)(y,2),S=P[0],_=P[1],M=Object(l.useRef)(null);return Object(l.useEffect)((function(){i.on("connectedToRoom",(function(e){var t=e.rooms;N(t)}))}),[]),Object(l.useEffect)((function(){return v.length&&fetch("/api/updateLastSeen",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rooms:v})}),function(){v.length&&fetch("/api/updateLastSeen",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rooms:v})})}}),[v]),Object(l.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.scrollBy(0,9999999999999)}),[t]),Object(h.jsxs)("div",{className:"chat",children:[t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"chatHead",children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("button",{className:"back",onClick:function(){o.push("/account/deals"),n(null),s(null)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M8,0,6.545,1.455l5.506,5.506H0V9.039H12.052L6.545,14.545,8,16l8-8Z",transform:"translate(16 16) rotate(180)",fill:"#2699fb"})})}),Object(h.jsx)("img",{src:c.profileImg||"/profile-user.jpg"}),Object(h.jsxs)("p",{className:"name",children:[c.firstName?c.firstName+" "+c.lastName:"Deleted user",Object(h.jsx)("span",{className:"lastSeen",children:Object(h.jsx)(ce.a,{format:"hh:mma, MMM DD",children:c.lastSeen})})]})]}),Object(h.jsx)(x.b,{className:"pay",to:"/account/deals/".concat(c._id,"/pay"),children:"Pay"})]}),Object(h.jsx)("div",{className:"chatWrapper",ref:r,children:Object(h.jsx)("ul",{className:"chats",children:t.map((function(e,n){var c,s;if(!e)return null;var i=Math.abs(new Date(e.createdAt).getTime()-new Date(null===(c=t[n+1])||void 0===c?void 0:c.createdAt).getTime())>12e4,l=le()(e.createdAt).format("YYYY-MM-DD")!==le()(null===(s=t[n-1])||void 0===s?void 0:s.createdAt).format("YYYY-MM-DD")||0===n;return Object(h.jsxs)("li",{className:"bubble ".concat(e.from===a._id?"user":"client"),children:[l&&Object(h.jsx)(ce.a,{className:"dateStamp",format:"MMM DD, YYYY",children:e.createdAt}),Object(h.jsx)("p",{className:"text",children:e.text}),(i||n===t.length-1)&&Object(h.jsx)(ce.a,{className:"timestamp",format:"hh:mm a",children:e.createdAt})]},n)}))})}),c.firstName&&Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b&&v.length&&(i.emit("messageToServer",{rooms:v,message:{to:c._id,text:b}}),M.current.focus(),m(""))},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("input",{ref:M,type:"text",value:b,onChange:function(e){return m(e.target.value)}}),Object(h.jsx)("div",{className:"fileUpload",children:Object(h.jsx)("input",{type:"file"})})]}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})})]})]}):Object(h.jsxs)("div",{className:"startChat",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#707070"})}),Object(h.jsx)("p",{children:"start a chat"})]}),Object(h.jsxs)(f,{className:"milestoneRequest",open:o.location.pathname.match(/^\/account\/deals\/.+\/pay$/),children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Create Milestone"}),Object(h.jsx)("button",{onClick:function(){o.push("/account/deals/".concat(c._id))},children:Object(h.jsx)(k,{})})]}),Object(h.jsx)(Ft,{userType:"buyer",searchClient:c,onSuccess:function(e){var t;e.milestone&&o.push("/account/deals/".concat(c._id)),_(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return _(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[e.milestone?Object(h.jsx)(C,{}):Object(h.jsx)(w,{}),e.milestone&&Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===(t=e.milestone)||void 0===t?void 0:t.amount]}),Object(h.jsx)("h4",{children:e.message})]}),e.milestone&&Object(h.jsx)(x.b,{to:"/account/hold",onClick:function(){return _(null)},children:"Check your Delivery pay Hold"})]}))}})]}),Object(h.jsx)(f,{className:"msg",open:S,children:S})]})},Ue=function(e){var t,n,c,s=e.history,a=(e.location,e.match),i=Object(l.useContext)(u),r=i.user,o=(i.setUser,Object(l.useState)([])),j=Object(d.a)(o,2),b=j[0],O=j[1],x=Object(l.useState)(null),f=Object(d.a)(x,2),p=f[0],g=f[1],N=Object(l.useState)(null),y=Object(d.a)(N,2),w=y[0],C=y[1];return Object(l.useEffect)((function(){p&&(C(null===p||void 0===p?void 0:p.messages),Ze.emit("initiateChat",{client_id:null===p||void 0===p?void 0:p._id}))}),[p]),Object(l.useEffect)((function(){fetch("/api/getChat").then((function(e){return e.json()})).then((function(e){O((function(){return e.map((function(e){return Object(m.a)(Object(m.a)({},e),"")}))})),s.push()})).catch((function(e){console.log(e)})),Ze.on("connect",(function(){console.log("connected")})),Ze.on("disconnect",(function(){console.log("disconnected from socket")}))}),[]),Object(l.useEffect)((function(){if(a.params._id){var e=b.find((function(e){return e.client._id.toString()===a.params._id}));if(e){var t=e.client,n=e.messages,c=e.status,s=e.lastSeen;g(Object(m.a)(Object(m.a)({},t),{},{status:c,messages:n,lastSeen:s}))}}}),[a.params,b]),Object(l.useEffect)((function(){Ze.on("messageToUser",(function(e){e.from&&O((function(t){return t.map((function(t){if(e.from===r._id){if(t.client._id===e.to)return Object(m.a)(Object(m.a)({},t),{},{messages:[].concat(Object(v.a)(t.messages),[e])})}else if(t.client._id===e.from)return Object(m.a)(Object(m.a)({},t),{},{messages:[].concat(Object(v.a)(t.messages),[e])});return t}))}))})),Ze.emit("joinRooms",{rooms:b.map((function(e){return e._id}))})}),[]),Object(h.jsxs)("div",{className:"chatContainer ".concat(p?"chatOpen":""),children:[Object(h.jsxs)("div",{className:"contactsContainer",children:[Object(h.jsx)("div",{className:"userCard",children:p?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:p.profileImg||"/profile-user.jpg"}),Object(h.jsxs)("div",{className:"details",children:[Object(h.jsx)("p",{className:"name",children:p.firstName?p.firstName+" "+p.lastName:"Deleted user"}),Object(h.jsx)("a",(t={className:"phone",href:"tel:".concat(p.phone)},Object(Te.a)(t,"className","phone"),Object(Te.a)(t,"children",p.phone),t)),Object(h.jsx)("a",{href:"mailto:".concat(p.email),className:"email",children:p.email}),Object(h.jsx)("p",{className:"add",children:"".concat((null===(n=p.address)||void 0===n?void 0:n.city)||""," ").concat((null===(c=p.address)||void 0===c?void 0:c.country)||"")})]})]}),Object(h.jsxs)("div",{className:"clas",children:[Object(h.jsx)("p",{className:"status",children:p.status}),Object(h.jsx)("button",{children:"Chat"})]})]}):Object(h.jsx)("p",{className:"userCard placeholder",children:"User card"})}),Object(h.jsx)("p",{className:"label",children:"Messages"}),Object(h.jsx)("div",{className:"peopleWrapper",children:Object(h.jsxs)("ul",{className:"people",children:[b.map((function(e){var t=e.client,n=e.messages,c=e.status,s=e.lastSeen;return Object(h.jsx)(Ee,{client:t,messages:n,status:c,lastSeen:s,userCard:p},t._id)})),0===b.length&&Object(h.jsx)("p",{className:"placeholder",children:"Start making payments now."})]})})]}),Object(h.jsx)(Ie,{chat:w,userCard:p,setUserCard:g,user:r,socket:Ze,setChat:C})]})},Ve=n(112),He=n.n(Ve),We=n(189),Ye=n(190),Ge=n(191),Je=n(192),ze=n(193),$e=n(194),Ke=n(195),Xe=n(196),Qe=n(197),et=n(198),tt=n(199),nt=n(200),ct=n(201),st=n(202),at=n(203),it=n(204),lt=n(205),rt=n(206),ot=n(207),jt=n(208),dt=n(209),ht=n(210),ut=n(211),bt=n(212),Ot=n(213),xt=n(214),mt=n(215),ft=n(216),pt=n(217),gt=n(218),vt=n(219),Nt=n(220),yt=n(221),wt=n(222),Ct=n(223),kt=n(224),Pt=n(225),St=n(226);n(182),n(183);n(184);var _t=function(){var e=Object(O.g)(),t=Object(l.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(l.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1],j=Object(l.useState)([]),u=Object(d.a)(j,2),b=u[0],m=u[1],p=Object(l.useState)([]),g=Object(d.a)(p,2),v=g[0],N=g[1],y=Object(l.useState)(null),P=Object(d.a)(y,2),S=P[0],_=P[1],M=Object(l.useState)(null),D=Object(d.a)(M,2),F=D[0],L=D[1],A=Object(l.useCallback)((function(e){s(e.target.value),fetch("/api/getUsers?q=".concat(c)).then((function(e){return e.json()})).then((function(e){e&&m(e)})),""===e.target.value&&m([])}),[c]),R=Object(l.useCallback)((function(){c.match(/^\+?[789]\d{9}$/)?fetch("/api/inviteUser?q=".concat(c,"origin=").concat(window.location.origin)).then((function(e){return e.json()})).then((function(e){"ok"===e.code?L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Invitation sent."})]})]})):L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Invitation could not be sent. Please try again."})]})]}))})).catch((function(e){console.log(e),L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Invitation could not be sent. Make sure you're online."})]})]}))})):L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Enter a valid phone number to send invitation."})]})]}))}),[c]);return Object(l.useEffect)((function(){fetch("/api/recentPayments").then((function(e){return e.json()})).then((function(e){N(e)})).catch((function(e){console.log(e)}))}),[]),Object(l.useEffect)((function(){"/account/home/pay"!==e.location.pathname||S||e.push("/account/home")}),[]),Object(h.jsxs)("div",{className:"homeContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)("h4",{children:"Start transactions with Delivery pay"}),Object(h.jsx)("p",{children:"Let us help you make the safest transaction"})]}),Object(h.jsxs)("div",{className:"userType",children:[Object(h.jsxs)("div",{className:"option buyer ".concat("buyer"===r&&"active"),children:[Object(h.jsx)("img",{src:"/buyer.png"}),Object(h.jsxs)("div",{className:"btn",onClick:function(e){return o("buyer")},children:[Object(h.jsx)("p",{children:"I am a Buyer "}),Object(h.jsx)("div",{className:"radial",children:"buyer"===r&&Object(h.jsx)("div",{className:"fill"})})]})]}),Object(h.jsxs)("div",{className:"option seller ".concat("seller"===r&&"active"),children:[Object(h.jsx)("img",{src:"/seller.png"}),Object(h.jsxs)("div",{className:"btn",onClick:function(e){return o("seller")},children:[Object(h.jsx)("p",{children:"I am a Seller "}),Object(h.jsx)("div",{className:"radial",children:"seller"===r&&Object(h.jsx)("div",{className:"fill"})})]})]})]}),"buyer"===r&&Object(h.jsx)("div",{className:"search",children:Object(h.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(h.jsx)("label",{htmlFor:"search",children:"Start buying with Delivery pay"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.9",height:"17.9",viewBox:"0 0 17.9 17.9",children:Object(h.jsx)("path",{id:"Path_208","data-name":"Path 208",d:"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z",transform:"translate(0)",fill:"#b9b9b9"})}),Object(h.jsx)("input",{label:"search",required:!0,placeholder:"Search with Delivery pay ID or Phone Number",onBlur:function(){setTimeout((function(){return m([])}),500)},onChange:A})]}),b.length?Object(h.jsxs)("ul",{className:"searchResult",children:[b.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:e.profileImg}),Object(h.jsxs)("p",{className:"name",children:[e.firstName+" "+e.lastName,Object(h.jsx)("span",{className:"phone",children:e.phone})]})]}),Object(h.jsx)(x.b,{className:"sendReq",to:{pathname:"/account/home/pay"},onClick:function(){return _(e)},children:"Create Milestone"})]},t)})),0===b.length&&Object(h.jsxs)("li",{children:[Object(h.jsx)("div",{className:"profile",children:Object(h.jsx)("p",{className:"name",children:c})}),Object(h.jsx)(x.b,{className:"sendReq",onClick:R,to:"#",children:"Invite"})]})]}):null,c&&0===b.length&&Object(h.jsx)("ul",{className:"searchResult",children:Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:"/profile-user.jpg"}),Object(h.jsx)("p",{className:"name",children:c})]}),Object(h.jsx)(x.b,{className:"sendReq",onClick:R,to:"#",children:"Invite"})]})})]})}),"seller"===r&&Object(h.jsx)("div",{className:"search",children:Object(h.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(h.jsx)("label",{htmlFor:"search",children:"Start selling with Delivery pay"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.9",height:"17.9",viewBox:"0 0 17.9 17.9",children:Object(h.jsx)("path",{id:"Path_208","data-name":"Path 208",d:"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z",transform:"translate(0)",fill:"#b9b9b9"})}),Object(h.jsx)("input",{label:"search",required:!0,placeholder:"Search with Delivery pay ID or Phone Number",onBlur:function(){setTimeout((function(){return m([])}),500)},onChange:A})]}),b.length?Object(h.jsx)("ul",{className:"searchResult",children:b.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:e.profileImg}),Object(h.jsxs)("p",{className:"name",children:[e.firstName+" "+e.lastName,Object(h.jsx)("span",{className:"phone",children:e.phone})]})]}),Object(h.jsx)(x.b,{className:"sendReq",onClick:function(){return _(e)},to:{pathname:"/account/home/pay"},children:"seller"===r?"Request milestone":"Create milestone"})]},t)}))}):null,c&&0===b.length&&Object(h.jsx)("ul",{className:"searchResult",children:Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:"/profile-user.jpg"}),Object(h.jsx)("p",{className:"name",children:c})]}),Object(h.jsx)(x.b,{className:"sendReq",onClick:R,to:"#",children:"Invite"})]})})]})}),v.length>0&&r&&Object(h.jsxs)("div",{className:"recentPayments",children:[Object(h.jsx)("p",{className:"label",children:"Recent Payments"}),Object(h.jsx)("ul",{className:"payments",children:v.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)(x.b,{to:"/account/home/pay",onClick:function(){_(e)},children:[Object(h.jsx)("img",{src:e.profileImg}),Object(h.jsx)("p",{className:"name",children:e.firstName+" "+e.lastName})]})},e._id)}))})]}),Object(h.jsx)(O.b,{path:"/account/home/pay",children:Object(h.jsxs)(f,{open:!0,className:"milestoneRequest",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"seller"===r?"Request Milestone":"Create Milestone"}),Object(h.jsx)("button",{onClick:function(){e.push("/account/home"),_(null)},children:Object(h.jsx)(k,{})})]}),Object(h.jsx)(Ft,{userType:r,searchClient:S,onSuccess:function(t){var n;e.push("/account/home"),L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[t.milestone?Object(h.jsx)(C,{}):Object(h.jsx)(w,{}),t.milestone&&Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===(n=t.milestone)||void 0===n?void 0:n.amount]}),Object(h.jsx)("h4",{children:t.message})]}),t.milestone&&Object(h.jsx)(x.b,{to:"/account/hold",onClick:function(){return L(null)},children:"Check your Delivery pay Hold"})]}))}})]})}),Object(h.jsx)(f,{className:"msg",open:F,children:F})]})},Mt=function(e){var t,n,c,s,a,i,r,o=e.client,j=e.onSuccess,u=e.onCancel,b=Object(l.useState)(o?o.firstName+" "+o.lastName:""),O=Object(d.a)(b,2),x=O[0],m=O[1],f=Object(l.useState)((null===o||void 0===o?void 0:o.phone)||""),p=Object(d.a)(f,2),g=p[0],v=p[1],N=Object(l.useState)((null===o||void 0===o||null===(t=o.address)||void 0===t?void 0:t.zip)||""),y=Object(d.a)(N,2),w=y[0],C=y[1],k=Object(l.useState)((null===o||void 0===o||null===(n=o.address)||void 0===n?void 0:n.locality)||""),P=Object(d.a)(k,2),S=P[0],_=P[1],M=Object(l.useState)((null===o||void 0===o||null===(c=o.address)||void 0===c?void 0:c.street)||""),D=Object(d.a)(M,2),F=D[0],L=D[1],A=Object(l.useState)((null===o||void 0===o||null===(s=o.address)||void 0===s?void 0:s.city)||""),R=Object(d.a)(A,2),B=R[0],T=R[1],q=Object(l.useState)((null===o||void 0===o||null===(a=o.address)||void 0===a?void 0:a.state)||""),Z=Object(d.a)(q,2),E=Z[0],I=Z[1],U=Object(l.useState)((null===o||void 0===o||null===(i=o.address)||void 0===i?void 0:i.landmark)||""),V=Object(d.a)(U,2),H=V[0],W=V[1],Y=Object(l.useState)((null===o||void 0===o||null===(r=o.address)||void 0===r?void 0:r.altPhone)||""),G=Object(d.a)(Y,2),J=G[0],z=G[1];return Object(h.jsxs)("form",{className:"addressForm",onSubmit:function(e){e.preventDefault(),null===j||void 0===j||j({address:{name:x,phone:g,street:F,city:B,state:E,zip:w,locality:S,landmark:H}})},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"name",children:"Full Name"}),Object(h.jsx)("input",{value:x,onChange:function(e){return m(e.target.value)},type:"text",name:"name",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),Object(h.jsx)("input",{value:g,onChange:function(e){return v(e.target.value)},type:"tel",name:"phone",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"zip",children:"PIN Code"}),Object(h.jsx)("input",{value:w,onChange:function(e){return C(e.target.value)},type:"number",name:"zip",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"locality",children:"Locality"}),Object(h.jsx)("input",{value:S,onChange:function(e){return _(e.target.value)},type:"text",name:"locality",required:!0})]}),Object(h.jsxs)("section",{className:"street",children:[Object(h.jsx)("label",{htmlFor:"address",children:"Address"}),Object(h.jsx)("textarea",{value:F,onChange:function(e){return L(e.target.value)},resiz:"off",type:"text",name:"address",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"city",children:"City"}),Object(h.jsx)("input",{value:B,onChange:function(e){return T(e.target.value)},type:"text",name:"city",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"state",children:"State"}),Object(h.jsx)("input",{value:E,onChange:function(e){return I(e.target.value)},type:"text",name:"state",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"landmark",children:"Landmark (Optional)"}),Object(h.jsx)("input",{value:H,onChange:function(e){return W(e.target.value)},type:"text",name:"landmark"})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"altPhone",children:"Alternate Phone (Optional)"}),Object(h.jsx)("input",{value:J,onChange:function(e){return z(e.target.value)},type:"tel",name:"altPhone"})]}),Object(h.jsx)("button",{className:"save",children:"Save"}),Object(h.jsx)("button",{className:"cancel",type:"button",onClick:function(){return null===u||void 0===u?void 0:u()},children:"Cancel"}),Object(h.jsx)("section",{className:"pBtm"})]})};var Dt=function(){var e=Object(l.useContext)(u),t=e.user,n=e.setUser,c=Object(O.g)(),s=Object(l.useRef)(null),a=Object(l.useState)(!1),i=Object(d.a)(a,2),r=i[0],o=i[1],j=Object(l.useState)(!1),b=Object(d.a)(j,2),p=b[0],g=b[1],N=Object(l.useState)(!1),y=Object(d.a)(N,2),C=y[0],k=y[1],P=Object(l.useState)(!1),S=Object(d.a)(P,2),_=S[0],M=S[1],D=Object(l.useState)(null),F=Object(d.a)(D,2),L=(F[0],F[1]);Object(l.useEffect)((function(){C&&fetch("/api/editUserProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationLastRead:new Date})}).then((function(e){return e.json()})).then((function(e){e.user&&n((function(t){return Object(m.a)(Object(m.a)({},t),{},{notificationLastRead:e.user.notificationLastRead})}))})).catch((function(e){console.log(e)}))}),[C]),Object(l.useEffect)((function(){t.notifications.find((function(e){return new Date(e.createdAt)>new Date(t.notificationLastRead)}))&&M(!0),C&&M(!1)}),[C,t]);var A="".concat(window.location.origin,"/u/join?referer=").concat(t._id);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("button",{className:"bell ".concat(_?"unread":""),onClick:function(){return k(!0)},children:Object(h.jsx)("svg",{id:"bell",xmlns:"http://www.w3.org/2000/svg",width:"15.918",height:"16",viewBox:"0 0 15.918 16",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M15,14H10a2,2,0,0,1-4,0H1a.961.961,0,0,1-.9-.7,1.068,1.068,0,0,1,.3-1.1A4.026,4.026,0,0,0,2,9V6A6,6,0,0,1,14,6V9a4.026,4.026,0,0,0,1.6,3.2.947.947,0,0,1,.3,1.1A.961.961,0,0,1,15,14Z",transform:"translate(-0.063)",fill:"#fff",fillRule:"evenodd"})})}),Object(h.jsx)("p",{className:"name",children:(null===t||void 0===t?void 0:t.firstName)+" "+(null===t||void 0===t?void 0:t.lastName)||t.phone}),Object(h.jsx)("img",{src:null===t||void 0===t?void 0:t.profileImg,className:"avatar",onClick:function(){return o(!r)}}),r&&Object(h.jsxs)("div",{className:"menu",ref:s,onClick:function(){return o(!1)},children:[Object(h.jsx)(x.b,{className:"link",to:"/aboutUs",children:"More about us"}),Object(h.jsx)(x.b,{className:"link settings",to:"/account/profile",children:"Settings"}),Object(h.jsxs)("div",{className:"referral",children:[Object(h.jsx)("button",{onClick:function(){g(!0)},children:"Invite now"}),Object(h.jsx)("p",{children:"Refer and earn flat \u20b950/- cashback to your wallet"})]}),Object(h.jsxs)("button",{className:"logout",onClick:function(){fetch("/api/logout").then((function(e){return e.json()})).then((function(e){n(null),c.push("/")})).catch((function(e){console.log(e),L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not logout."})]})]}))}))},children:["Logout",Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.702",height:"31.702",viewBox:"0 0 31.702 31.702",children:Object(h.jsx)("path",{id:"Path_1758","data-name":"Path 1758",d:"M15.487,25.174l2.483,2.483,8.806-8.806L17.97,10.045l-2.483,2.483,4.544,4.562H3v3.522H20.031ZM31.18,3H6.522A3.521,3.521,0,0,0,3,6.522v7.045H6.522V6.522H31.18V31.18H6.522V24.135H3V31.18A3.521,3.521,0,0,0,6.522,34.7H31.18A3.533,3.533,0,0,0,34.7,31.18V6.522A3.533,3.533,0,0,0,31.18,3Z",transform:"translate(-3 -3)",fill:"#fc0660"})})]})]}),C&&Object(h.jsx)("ul",{className:"notiWrapper",children:Object(v.a)(t.notifications).reverse().map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsx)(ce.a,{format:"hh:mm",children:e.createdAt}),Object(h.jsx)("p",{className:"title",children:e.title}),Object(h.jsx)("p",{className:"body",children:e.body})]},t)}))})]}),(r||C)&&Object(h.jsx)("div",{className:"backdrop",onClick:function(){o(!1),k(!1)}}),Object(h.jsxs)(f,{className:"invite",open:p,onBackdropClick:function(){return g(!1)},children:[Object(h.jsx)("div",{className:"imgWrapper",children:Object(h.jsx)(He.a,{value:A,size:250,renderAs:"svg"})}),Object(h.jsxs)("div",{className:"shareBtns",children:[Object(h.jsx)(We.a,{url:A,children:Object(h.jsx)(Ye.a,{})}),Object(h.jsx)(Ge.a,{url:A,children:Object(h.jsx)(Je.a,{})}),Object(h.jsx)(ze.a,{url:A,children:Object(h.jsx)($e.a,{})}),Object(h.jsx)(Ke.a,{url:A,children:Object(h.jsx)(Xe.a,{})}),Object(h.jsx)(Qe.a,{url:A,children:Object(h.jsx)(et.a,{})}),Object(h.jsx)(tt.a,{url:A,children:Object(h.jsx)(nt.a,{})}),Object(h.jsx)(ct.a,{url:A,children:Object(h.jsx)(st.a,{})}),Object(h.jsx)(at.a,{url:A,children:Object(h.jsx)(it.a,{})}),Object(h.jsx)(lt.a,{url:A,children:Object(h.jsx)(rt.a,{})}),Object(h.jsx)(ot.a,{url:A,children:Object(h.jsx)(jt.a,{})}),Object(h.jsx)(dt.a,{url:A,children:Object(h.jsx)(ht.a,{})}),Object(h.jsx)(ut.a,{url:A,children:Object(h.jsx)(bt.a,{})}),Object(h.jsx)(Ot.a,{url:A,children:Object(h.jsx)(xt.a,{})}),Object(h.jsx)(mt.a,{url:A,children:Object(h.jsx)(ft.a,{})}),Object(h.jsx)(pt.a,{url:A,children:Object(h.jsx)(gt.a,{})}),Object(h.jsx)(vt.a,{url:A,children:Object(h.jsx)(Nt.a,{})}),Object(h.jsx)(yt.a,{url:A,children:Object(h.jsx)(wt.a,{})}),Object(h.jsx)(Ct.a,{url:A,children:Object(h.jsx)(kt.a,{})}),Object(h.jsx)(Pt.a,{url:A,children:Object(h.jsx)(St.a,{})})]})]})]})},Ft=function(e){var t,n,c,s,a=e.userType,i=e.searchClient,r=e.onSuccess,o=Object(l.useContext)(u),j=o.user,b=(o.setUser,Object(l.useState)("")),O=Object(d.a)(b,2),x=O[0],p=O[1],g=Object(l.useState)("product"),N=Object(d.a)(g,2),y=N[0],C=(N[1],Object(l.useState)(!1)),P=Object(d.a)(C,2),S=P[0],_=P[1],M=Object(l.useState)([]),D=Object(d.a)(M,2),F=D[0],R=D[1],B=Object(l.useState)(Object(m.a)({},"seller"===a?i:j)),T=Object(d.a)(B,2),q=T[0],Z=T[1],E=Object(l.useState)((new Date).toISOString().substring(0,16)),U=Object(d.a)(E,2),V=U[0],H=U[1],W=Object(l.useState)(""),Y=Object(d.a)(W,2),G=Y[0],J=Y[1],z=Object(l.useState)(""),$=Object(d.a)(z,2),K=$[0],X=$[1],Q=Object(l.useState)(null),ee=Object(d.a)(Q,2),te=ee[0],ne=ee[1],ce=Object(l.useState)([]),se=Object(d.a)(ce,2),ae=se[0],ie=se[1],le=Object(l.useState)(!1),re=Object(d.a)(le,2),oe=re[0],je=re[1],de=Object(l.useRef)(null),he=Object(l.useCallback)((function(e){e.preventDefault(),fetch("/api/requestMilestone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:q._id,amount:K,products:F,dscr:G,deliveryDetail:Object(m.a)(Object(m.a)({phone:q.phone,name:q.firstName+" "+q.lastName},q.address),{},{timeOfDelivery:V})})}).then((function(e){return e.json()})).then((function(e){var t=e.message,n=e.milestone;n?null===r||void 0===r||r({message:t,milestone:n}):ne(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ne(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not create milestone."})]})]}))})).catch((function(e){console.log(e),ne(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ne(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not create milestone. Make sure you're online."})]})]}))}))}),[q,i,K,G,y,V]),ue=Object(l.useCallback)((function(e){e.preventDefault(),fetch("/api/createMilestone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller:Object(m.a)({},i),amount:K,dscr:G,deliveryDetail:Object(m.a)(Object(m.a)({phone:q.phone,name:q.firstName+" "+q.lastName},q.address),{},{timeOfDelivery:V})})}).then((function(e){return e.json()})).then((function(e){null===r||void 0===r||r(e)})).catch((function(e){console.log(e),ne(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return ne(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not create milestone. Make sure you're online."})]})]}))}))}),[q,i,K,G,y,V]);return Object(l.useEffect)((function(){x&&fetch("/api/products?q=".concat(x,"&perPage=8")).then((function(e){return e.json()})).then((function(e){e.products&&ie(e.products)}))}),[x]),Object(l.useEffect)((function(){0===F.length&&je(!1)}),[F]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"milestonesForm",onSubmit:"seller"===a?he:ue,children:[Object(h.jsxs)("section",{className:"transactionDetail",children:["seller"===a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{className:"products",children:[Object(h.jsx)("label",{children:"Products"}),Object(h.jsxs)("div",{className:"count",children:[Object(h.jsxs)("p",{className:"totalProduct",children:[F.length," items selected."]}),F.length>0&&Object(h.jsx)("button",{type:"button",className:oe?"open":void 0,onClick:function(){return je(!oe)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11.872",height:"18",viewBox:"0 0 11.872 18",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M9,11.872,0,2.725,2.681,0,9,6.423,15.319,0,18,2.725Z",transform:"translate(11.872) rotate(90)",fill:"rgba(0, 0, 0, 0.5)"})})})]}),oe&&Object(h.jsx)("ul",{children:F.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("img",{src:e.images[0]}),Object(h.jsxs)("div",{className:"productDetail",children:[Object(h.jsx)("p",{className:"name",children:e.name}),Object(h.jsxs)("p",{className:"price",children:["\u20b9 ",e.price]})]}),Object(h.jsx)("button",{type:"button",className:"btn",onClick:function(){return R((function(t){return t.filter((function(t){return t._id!==e._id}))}))},children:Object(h.jsx)(A,{})})]},e._id)}))})]}),Object(h.jsxs)("section",{className:"productSearch",children:[Object(h.jsx)("label",{children:"Search products"}),Object(h.jsx)("input",{ref:de,type:"text",value:x,onChange:function(e){return p(e.target.value)}}),x&&ae.length>0&&Object(h.jsx)("ul",{className:"productSearchList",children:ae.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("img",{src:e.images[0]}),Object(h.jsxs)("div",{className:"productDetail",children:[Object(h.jsx)("p",{className:"name",children:e.name}),Object(h.jsxs)("p",{className:"price",children:["\u20b9 ",e.price]})]}),F.some((function(t){return t._id===e._id}))?Object(h.jsx)("p",{className:"addedLabel",children:"Added"}):Object(h.jsx)("button",{type:"button",className:"btn",onClick:function(){R((function(t){return[].concat(Object(v.a)(t),[e])})),de.current.focus()},children:Object(h.jsx)(L,{})})]},e._id)}))})]})," "]}),Object(h.jsxs)("section",{className:"amount",children:[Object(h.jsx)("label",{children:"Amount"}),Object(h.jsx)(I,{min:10,defaultValue:0,required:!0,onChange:function(e){return X((+e.target.value).toString())}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Detail"}),Object(h.jsx)("input",{value:G,required:!0,onChange:function(e){return J(e.target.value)}})]}),Object(h.jsx)("button",{type:"submit",children:"seller"===a?"Request Milestone":"Create Milestone"})]}),Object(h.jsxs)("section",{className:"clientDetail",children:[Object(h.jsx)("img",{src:null===q||void 0===q?void 0:q.profileImg}),Object(h.jsx)("label",{children:"Delivery Address"}),Object(h.jsxs)("div",{className:"detail",onClick:function(){return _(!0)},children:[Object(h.jsx)("button",{type:"button",children:"+ Add/Edit Address"}),Object(h.jsxs)("section",{className:"profileDetail",children:[Object(h.jsx)("p",{className:"name",children:(null===q||void 0===q?void 0:q.firstName)+" "+(null===q||void 0===q?void 0:q.lastName)}),Object(h.jsx)("p",{className:"phone",children:null===q||void 0===q?void 0:q.phone}),Object(h.jsx)("p",{className:"email",children:null===q||void 0===q?void 0:q.email})]}),(null===q||void 0===q||null===(t=q.address)||void 0===t?void 0:t.street)&&Object(h.jsx)("section",{className:"address",children:Object(h.jsxs)("p",{className:"street",children:[null===(n=q.address)||void 0===n?void 0:n.street,", ",null===(c=q.address)||void 0===c?void 0:c.city,","," ",null===(s=q.address)||void 0===s?void 0:s.zip]})})]}),"seller"===a?null:Object(h.jsxs)("div",{className:"sellerInfo",children:[Object(h.jsx)("img",{src:null===i||void 0===i?void 0:i.profileImg}),Object(h.jsx)("label",{children:"Seller Information"}),Object(h.jsx)("div",{className:"detail",children:Object(h.jsxs)("section",{className:"profileDetail",children:[Object(h.jsx)("p",{className:"name",children:(null===i||void 0===i?void 0:i.firstName)+" "+(null===i||void 0===i?void 0:i.lastName)}),Object(h.jsx)("p",{className:"phone",children:null===i||void 0===i?void 0:i.phone}),Object(h.jsx)("p",{className:"email",children:null===i||void 0===i?void 0:i.email})]})})]}),Object(h.jsxs)("div",{className:"deliveryTime",children:[Object(h.jsx)("p",{children:"Delivery Time"}),Object(h.jsx)("input",{value:V,type:"datetime-local",onChange:function(e){return H(e.target.value)}})]})]})]}),Object(h.jsxs)(f,{open:S,className:"addAddress",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add/Edit Address"}),Object(h.jsx)("button",{onClick:function(){_(!1)},children:Object(h.jsx)(k,{})})]}),Object(h.jsx)(Mt,{client:q,setClient:Z,onSuccess:function(e){Z((function(t){return Object(m.a)(Object(m.a)({},t),e)})),_(!1)},onCancel:function(){return _(!1)}})]}),Object(h.jsx)(f,{className:"msg",open:te,children:te})]})},Lt=function(e){var t=e.location,n=Object(l.useContext)(u).user;return Object(h.jsxs)("div",{className:"account ".concat(t.pathname.startsWith("/account/deals/")?"chatSection":""),children:[Object(h.jsxs)("header",{children:[Object(h.jsxs)(x.b,{to:"/",children:[Object(h.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("img",{className:"logo_small",src:"/logo_sqr.jpg",alt:"Delivery pay logo"})]}),Object(h.jsx)(Dt,{})]}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("ul",{className:"sidebar",children:[Object(h.jsx)("li",{className:"/account"===t.pathname||t.pathname.startsWith("/account/home")?"active":void 0,children:Object(h.jsxs)(x.b,{to:"/account/home",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.648",height:"21.513",viewBox:"0 0 21.648 21.513",children:Object(h.jsx)("path",{id:"Path_287","data-name":"Path 287",d:"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z",transform:"translate(-0.008 0.011)",fill:"#fff"})})}),"Home"]})}),Object(h.jsx)("li",{className:"deals ".concat(t.pathname.startsWith("/account/deals")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/deals",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})}),"Deals"]})}),Object(h.jsx)("li",{className:t.pathname.startsWith("/account/wallet")?"active":void 0,children:Object(h.jsxs)(x.b,{to:"/account/wallet",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.886",height:"22.948",viewBox:"0 0 20.886 22.948",children:[Object(h.jsxs)("g",{id:"Rectangle_2","data-name":"Rectangle 2",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"20.886",height:"16.244",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"14.244",rx:"1",fill:"none"})]}),Object(h.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 9.283)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"20.886",height:"6.962",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"4.962",rx:"1",fill:"none"})]}),Object(h.jsx)("path",{id:"Path_2","data-name":"Path 2",d:"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z",transform:"translate(186.6 197.025)",fill:"#fff"})]})}),"Wallet"]})}),Object(h.jsx)("li",{className:"hold ".concat(t.pathname.startsWith("/account/hold")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/hold",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"27",viewBox:"0 0 22 27",children:[Object(h.jsx)("text",{id:"_3","data-name":"3",transform:"translate(14 14) rotate(180)",fill:"#fff",fontSize:"10",fontFamily:"Ebrima-Bold, Ebrima",fontWeight:"700",children:Object(h.jsx)("tspan",{x:"0",y:"0",children:"3"})}),Object(h.jsxs)("g",{id:"Group_166","data-name":"Group 166",transform:"translate(-534.967 -611.816)",children:[Object(h.jsxs)("g",{id:"Rectangle_1132","data-name":"Rectangle 1132",transform:"translate(534.967 620.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"22",height:"18",rx:"4",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"20",height:"16",rx:"3",fill:"none"})]}),Object(h.jsxs)("g",{id:"Rectangle_1133","data-name":"Rectangle 1133",transform:"translate(539.967 611.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("path",{d:"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z",fill:"none"})]})]})]})}),"Delivery pay Hold"]})}),Object(h.jsx)("li",{className:"trans ".concat(t.pathname.startsWith("/account/transactions")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/transactions",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{id:"Group_283","data-name":"Group 283",xmlns:"http://www.w3.org/2000/svg",width:"28.407",height:"25.407",viewBox:"0 0 28.407 25.407",children:[Object(h.jsxs)("g",{id:"Path_4","data-name":"Path 4",transform:"translate(3)",fill:"none",children:[Object(h.jsx)("path",{d:"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Polygon_1","data-name":"Polygon 1",transform:"translate(6.001 12.353) rotate(-150)",fill:"#fff",children:[Object(h.jsx)("path",{d:"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Rectangle_4","data-name":"Rectangle 4",transform:"translate(0 11.86) rotate(-22)",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("rect",{width:"6.929",height:"4.619",stroke:"none"}),Object(h.jsx)("rect",{x:"0.5",y:"0.5",width:"5.929",height:"3.619",fill:"none"})]}),Object(h.jsxs)("g",{id:"Group_5","data-name":"Group 5",transform:"translate(15.704 4.888)",children:[Object(h.jsx)("line",{id:"Line_3","data-name":"Line 3",y2:"9.239",transform:"translate(0 0)",fill:"none",stroke:"#fff",strokeWidth:"2"}),Object(h.jsx)("line",{id:"Line_4","data-name":"Line 4",x2:"6.929",y2:"2.31",transform:"translate(0 9.239)",fill:"none",stroke:"#fff",strokeWidth:"2"})]})]})}),"Delivery pay Transactions"]})}),Object(h.jsx)("li",{className:"products ".concat(t.pathname.startsWith("/account/products")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/products",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.872",height:"21.086",viewBox:"0 0 19.872 21.086",children:[Object(h.jsxs)("g",{id:"Group_4","data-name":"Group 4",transform:"translate(0 5.63)",children:[Object(h.jsxs)("g",{id:"Path_288","data-name":"Path 288",fill:"none",children:[Object(h.jsx)("path",{d:"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 8.832)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"19.872",height:"6.624",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"17.872",height:"4.624",rx:"1",fill:"none"})]})]}),Object(h.jsxs)("g",{id:"Rectangle_1134","data-name":"Rectangle 1134",transform:"translate(4)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("path",{d:"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"10",height:"5",rx:"1",fill:"none"})]})]})}),"Products"]})}),Object(h.jsx)("li",{className:"support ".concat(t.pathname.startsWith("/account/support")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/support",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.872",height:"21.086",viewBox:"0 0 19.872 21.086",children:[Object(h.jsxs)("g",{id:"Group_4","data-name":"Group 4",transform:"translate(0 5.63)",children:[Object(h.jsxs)("g",{id:"Path_288","data-name":"Path 288",fill:"none",children:[Object(h.jsx)("path",{d:"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 8.832)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"19.872",height:"6.624",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"17.872",height:"4.624",rx:"1",fill:"none"})]})]}),Object(h.jsxs)("g",{id:"Rectangle_1134","data-name":"Rectangle 1134",transform:"translate(4)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("path",{d:"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"10",height:"5",rx:"1",fill:"none"})]})]})}),"Customer Support"]})}),Object(h.jsx)("li",{className:t.pathname.startsWith("/account/profile")?"active":void 0,children:Object(h.jsxs)(x.b,{to:"/account/profile",children:[Object(h.jsx)("div",{className:"icon acc",children:Object(h.jsx)("img",{src:null===n||void 0===n?void 0:n.profileImg})}),"Account"]})})]}),Object(h.jsx)("main",{children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/account/deals/:_id?",component:Ue}),Object(h.jsx)(O.b,{path:"/account/wallet",component:ge}),Object(h.jsx)(O.b,{path:"/account/hold",component:te}),Object(h.jsx)(O.b,{path:"/account/transactions",component:ae}),Object(h.jsx)(O.b,{path:"/account/products",component:ye}),Object(h.jsx)(O.b,{path:"/account/support/ticket/:_id",component:ke}),Object(h.jsx)(O.b,{path:"/account/support",component:Pe}),Object(h.jsx)(O.b,{path:"/account/profile",component:Be}),Object(h.jsx)(O.b,{path:"/",component:_t})]})})]}),Object(h.jsxs)("ul",{className:"mobileMenu",children:[Object(h.jsx)("li",{className:"/account"===t.pathname||t.pathname.startsWith("/account/home")?"active":void 0,children:Object(h.jsxs)(x.b,{to:"/account/home",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.648",height:"21.513",viewBox:"0 0 21.648 21.513",children:Object(h.jsx)("path",{id:"Path_287","data-name":"Path 287",d:"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z",transform:"translate(-0.008 0.011)",fill:"#fff"})})}),"Home"]})}),Object(h.jsx)("li",{className:"deals ".concat(t.pathname.startsWith("/account/deals")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/deals",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})}),"Deals"]})}),Object(h.jsx)("li",{className:t.pathname.startsWith("/account/wallet")?"active":void 0,children:Object(h.jsxs)(x.b,{to:"/account/wallet",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.886",height:"22.948",viewBox:"0 0 20.886 22.948",children:[Object(h.jsxs)("g",{id:"Rectangle_2","data-name":"Rectangle 2",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"20.886",height:"16.244",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"14.244",rx:"1",fill:"none"})]}),Object(h.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 9.283)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"20.886",height:"6.962",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"4.962",rx:"1",fill:"none"})]}),Object(h.jsx)("path",{id:"Path_2","data-name":"Path 2",d:"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z",transform:"translate(186.6 197.025)",fill:"#fff"})]})}),"Wallet"]})}),Object(h.jsx)("li",{className:"hold ".concat(t.pathname.startsWith("/account/hold")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/hold",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"27",viewBox:"0 0 22 27",children:[Object(h.jsx)("text",{id:"_3","data-name":"3",transform:"translate(14 14) rotate(180)",fill:"#fff",fontSize:"10",fontFamily:"Ebrima-Bold, Ebrima",fontWeight:"700",children:Object(h.jsx)("tspan",{x:"0",y:"0",children:"3"})}),Object(h.jsxs)("g",{id:"Group_166","data-name":"Group 166",transform:"translate(-534.967 -611.816)",children:[Object(h.jsxs)("g",{id:"Rectangle_1132","data-name":"Rectangle 1132",transform:"translate(534.967 620.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"22",height:"18",rx:"4",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"20",height:"16",rx:"3",fill:"none"})]}),Object(h.jsxs)("g",{id:"Rectangle_1133","data-name":"Rectangle 1133",transform:"translate(539.967 611.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("path",{d:"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z",fill:"none"})]})]})]})}),"Hold"]})}),Object(h.jsx)("li",{className:"trans ".concat(t.pathname.startsWith("/account/transactions")?"active":void 0),children:Object(h.jsxs)(x.b,{to:"/account/transactions",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{id:"Group_283","data-name":"Group 283",xmlns:"http://www.w3.org/2000/svg",width:"28.407",height:"25.407",viewBox:"0 0 28.407 25.407",children:[Object(h.jsxs)("g",{id:"Path_4","data-name":"Path 4",transform:"translate(3)",fill:"none",children:[Object(h.jsx)("path",{d:"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Polygon_1","data-name":"Polygon 1",transform:"translate(6.001 12.353) rotate(-150)",fill:"#fff",children:[Object(h.jsx)("path",{d:"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Rectangle_4","data-name":"Rectangle 4",transform:"translate(0 11.86) rotate(-22)",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("rect",{width:"6.929",height:"4.619",stroke:"none"}),Object(h.jsx)("rect",{x:"0.5",y:"0.5",width:"5.929",height:"3.619",fill:"none"})]}),Object(h.jsxs)("g",{id:"Group_5","data-name":"Group 5",transform:"translate(15.704 4.888)",children:[Object(h.jsx)("line",{id:"Line_3","data-name":"Line 3",y2:"9.239",transform:"translate(0 0)",fill:"none",stroke:"#fff",strokeWidth:"2"}),Object(h.jsx)("line",{id:"Line_4","data-name":"Line 4",x2:"6.929",y2:"2.31",transform:"translate(0 9.239)",fill:"none",stroke:"#fff",strokeWidth:"2"})]})]})}),"Transactions"]})})]})]})};n(76);var At=function(){Object(l.useContext)(u).user;var e=Object(O.g)(),t=(new URLSearchParams(Object(O.h)().search),Object(l.useState)("")),n=Object(d.a)(t,2),c=n[0],s=n[1],a=Object(l.useState)(""),i=Object(d.a)(a,2),r=i[0],o=i[1],j=Object(l.useState)(""),b=Object(d.a)(j,2),m=b[0],p=b[1],g=Object(l.useState)("+91"),v=Object(d.a)(g,2),N=v[0],y=v[1],k=Object(l.useState)(""),P=Object(d.a)(k,2),S=P[0],_=P[1],M=Object(l.useState)(null),D=Object(d.a)(M,2),F=D[0],L=D[1],A=Object(l.useState)(null),R=Object(d.a)(A,2),B=R[0],T=R[1];return Object(h.jsxs)("div",{className:"formWrapper",children:[Object(h.jsx)("img",{className:"logo",onClick:function(){return e.push("")},src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Introduce yourself"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N.match(/^\+91\d{10}$/)?F||fetch("/api/workRequest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:c,lastName:r,phone:N,email:m,dscr:S})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?T(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)("h4",{children:"Request submitted"})]}),Object(h.jsx)(x.b,{to:"/",onClick:function(){return T(null)},children:"Go home"})]})):T(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return T(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not submit request. Please try again."})]})]}))})).catch((function(e){console.log(e),T(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return T(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Could not submit request. Make sure you're online."})]})]}))})):L("Enter valid phone number")},children:[Object(h.jsx)("input",{type:"text",name:"firstName",required:!0,placeholder:"First name",value:c,onChange:function(e){return s(e.target.value)}}),Object(h.jsx)("input",{type:"text",name:"lastName",required:!0,placeholder:"Last name",value:r,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:m,onChange:function(e){L(null),p(e.target.value)}}),Object(h.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"Phone number",value:N,onChange:function(e){L(null),e.target.value.match(/^\+91\d{0,10}$/)&&y(e.target.value)}}),Object(h.jsx)("textarea",{className:"dscr",name:"dscr",required:!0,placeholder:"Why join Delivery Pay team?",value:S,onChange:function(e){_(e.target.value)}}),Object(h.jsxs)("section",{className:"checkbox",children:[Object(h.jsx)(Z,{required:!0}),Object(h.jsx)("label",{children:"I accept to the Terms and Conditions and Privacy Policy"})]}),Object(h.jsx)("button",{disabled:F,type:"submit",children:"Submit"})]}),F&&Object(h.jsx)("p",{className:"errMsg",children:F}),Object(h.jsx)(f,{className:"msg",open:B,children:B})]})};var Rt=function(){var e=Object(l.useContext)(u);return e.setUser,e.user,Object(O.g)(),Object(h.jsxs)("div",{className:"userStart",children:[Object(h.jsxs)("div",{className:"banner",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("h3",{children:"Help us make Delivery Pay better."}),Object(h.jsx)("p",{children:"Join our team of hard working people."})]}),Object(h.jsx)("img",{className:"illustration",src:"/landingPage_illustration.svg",alt:"illustration"})]}),Object(h.jsx)("div",{className:"forms",children:Object(h.jsx)(At,{})})]})};function Bt(e){var t=e.children,n=e.path,c=e.component,s=Object(l.useContext)(u).user,a=Object(O.g)();return s?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(O.b,{path:n,component:c,children:t})}):Object(h.jsx)(O.a,{to:{pathname:"/u/login",state:{from:a.location.pathname}}})}function Tt(){var e=.01*window.innerHeight;document.body.style.setProperty("--vh","".concat(e,"px"))}var qt=function(){var e=Object(l.useState)(window.innerWidth<=480),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(l.useEffect)((function(){window.addEventListener("resize",(function(){return Tt()})),Tt()}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(x.a,{children:[Object(h.jsxs)(f,{open:n,className:"mobileApp",children:[Object(h.jsx)("button",{onClick:function(){return c(!1)},children:"I don't like better things."}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(x.b,{to:"#",children:Object(h.jsx)("img",{src:"/logo_big.jpg"})}),Object(h.jsx)("p",{children:"Download our mobile app for a better experience."})]})]}),Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/",exact:!0,component:g}),Object(h.jsx)(O.b,{path:"/u",component:J}),Object(h.jsx)(Bt,{path:"/account",component:Lt}),Object(h.jsx)(O.b,{path:"/JobApplication",component:Rt},"job"),Object(h.jsx)(O.b,{path:"/",children:Object(h.jsx)("h1",{children:"404"})})]})]})})},Zt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))},Et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),c=new Uint8Array(n.length),s=0;s<n.length;++s)c[s]=n.charCodeAt(s);return c}function Ut(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)),navigator.serviceWorker.ready.then(function(){var e=Object(De.a)(_e.a.mark((function e(t){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:It("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Vt,Ht=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={hasError:!1,reported:!1},s}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e,t){var n=this,c={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({err:e.name,message:e.message,dscr:t})};fetch("/api/bugReportAuto",c).then((function(e){return e.json()})).then((function(e){"ok"===e.code&&(n.reported=!0)}))}},{key:"render",value:function(){return this.state.hasError?Object(h.jsx)("div",{className:"deathPage",children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("ion-icon",{name:"skull-outline"}),Object(h.jsx)("h2",{children:"Oops."}),Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("ion-icon",{name:"refresh-outline"})}),this.reported&&Object(h.jsx)("p",{children:"successfully reported"})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component);j.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Ht,{children:Object(h.jsx)(b,{children:Object(h.jsx)(qt,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="/service-worker.js";Et?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ut(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,Vt),navigator.serviceWorker.ready.then(function(){var e=Object(De.a)(_e.a.mark((function e(t){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:It("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):Ut(e,Vt)})),Zt()},76:function(e,t,n){}},[[185,1,2]]]);
//# sourceMappingURL=main.b285198b.chunk.js.map