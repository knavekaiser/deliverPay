{"version":3,"sources":["components/UserStart.js"],"names":["require","RegisterFormNew","useContext","SiteContext","user","setUser","useState","loading","setLoading","history","useHistory","query","URLSearchParams","useLocation","search","firstName","setFirstName","step","setStep","lastName","setLastName","phone","setPhone","pass","setPass","confirm_pass","setConfirm_pass","errMsg","setErrMsg","code1","useRef","code2","code3","code4","code5","code6","attempts","setAttempts","code","setCode","sendOtp","fetch","method","headers","body","JSON","stringify","then","res","json","data","useEffect","submit","e","preventDefault","match","join","password","get","referer","replace","attempt","setTimeout","className","onClick","push","src","alt","onSubmit","type","name","required","placeholder","value","onChange","target","autoComplete","id","to","disabled","ref","prev","newCode","length","current","focus","LoginForm","username","setUsername","RegExp","test","toLowerCase","location","state","from","pattern","PasswordReset","setId","useCallback","status","emailReg","phoneReg","newPass","catch","err","console","log","UserStart","document","querySelector","remove","path"],"mappings":"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","file":"static/js/15.4545bb7b.chunk.js","sourcesContent":["import { useState, useEffect, useContext, useRef, useCallback } from \"react\";\nimport { SiteContext } from \"../SiteContext\";\nimport { Header, Footer } from \"./Elements\";\nimport { Route, Switch, useHistory, useLocation, Link } from \"react-router-dom\";\nimport { Checkbox, Arrow_left_svg, Img } from \"./Elements\";\n// import { GoogleLogin } from \"react-google-login\";\nrequire(\"../components/styles/userStart.scss\");\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst RegisterFormNew = () => {\n  const { user, setUser } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const query = useQuery();\n  const [firstName, setFirstName] = useState(\"\");\n  const [step, setStep] = useState(1);\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"+91\");\n  const [pass, setPass] = useState(\"\");\n  const [confirm_pass, setConfirm_pass] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(null);\n  const code1 = useRef(null);\n  const code2 = useRef(null);\n  const code3 = useRef(null);\n  const code4 = useRef(null);\n  const code5 = useRef(null);\n  const code6 = useRef(null);\n  const [attempts, setAttempts] = useState(0);\n  const [code, setCode] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const sendOtp = (phone) => {\n    setLoading(true);\n    setAttempts(0);\n    fetch(\"/api/sendPhoneVerificationCode\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ phone }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLoading(false);\n        if (data.code === \"ok\") {\n          setStep(2);\n        } else if (data.code === 424) {\n          setErrMsg(\n            \"Could not send verification SMS. Make sure number is correct.\"\n          );\n        } else if (data.code === 409) {\n          setErrMsg(\"Phone already exists. Please log in.\");\n        } else {\n          setErrMsg(\"Could not complete request. Please try again.\");\n        }\n      });\n  };\n  useEffect(() => {\n    setLoading(false);\n  }, [code]);\n  const submit = (e) => {\n    e.preventDefault?.();\n    if (pass !== confirm_pass) {\n      setErrMsg(\"Password did not match.\");\n      return;\n    }\n    if (!phone.match(/^\\+91\\d{10}$/)) {\n      setErrMsg(\"Enter valid phone number\");\n      return;\n    }\n    if (errMsg) return;\n    if (step === 1) {\n      sendOtp(phone);\n    } else if (step === 2) {\n      setLoading(true);\n      fetch(\"/api/registerUser\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          code: code.join(\"\"),\n          firstName,\n          lastName,\n          phone,\n          password: pass,\n          ...(query.get(\"referer\") && { referer: query.get(\"referer\") }),\n        }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setLoading(false);\n          if (data.user) {\n            history.replace(\"/account/home\");\n            setUser(user);\n          } else if (data.code === 11000) {\n            setErrMsg(\"Phone already exists.\");\n          } else if (data.code === 400) {\n            setErrMsg(\"Wrong Code.\");\n            setAttempts(data.attempt);\n            setCode([\"\", \"\", \"\", \"\", \"\", \"\"]);\n          } else if (data.code === 429) {\n            setStep(1);\n            setCode([\"\", \"\", \"\", \"\", \"\", \"\"]);\n            setErrMsg(\"Too many attempts. Start again.\");\n            setTimeout(() => setErrMsg(null), 1500);\n            setAttempts(0);\n          } else if (data.code === 403 || data.code === 404) {\n            setAttempts(0);\n            setStep(1);\n            setCode([\"\", \"\", \"\", \"\", \"\", \"\"]);\n            setErrMsg(\"Timeout. Start again\");\n            setTimeout(() => setErrMsg(null), 1500);\n          }\n        });\n    }\n  };\n  useEffect(() => {\n    setErrMsg(null);\n  }, [confirm_pass]);\n  return (\n    <div className={`formWrapper ${step === 1 ? \"register\" : \"resetPass\"}`}>\n      <Img\n        className=\"logo\"\n        onClick={() => history.push(\"/\")}\n        src=\"/logo_benner.jpg\"\n        alt=\"Delivery pay logo\"\n      />\n      <p className=\"title\">Create your Delivery pay account</p>\n      {\n        //   <p className=\"links\">\n        //   Already have an account? <Link to=\"/u/login\">Login</Link>\n        // </p>\n      }\n      {step === 1 && (\n        <form onSubmit={submit}>\n          <input\n            type=\"text\"\n            name=\"firstName\"\n            required={true}\n            placeholder=\"First name\"\n            value={firstName}\n            onChange={(e) => setFirstName(e.target.value)}\n          />\n          <input\n            type=\"text\"\n            name=\"lastName\"\n            required={true}\n            placeholder=\"Last name\"\n            value={lastName}\n            onChange={(e) => setLastName(e.target.value)}\n          />\n          <input\n            type=\"text\"\n            name=\"phone\"\n            required={true}\n            placeholder=\"Phone number\"\n            value={phone}\n            onChange={(e) => {\n              setErrMsg(null);\n              if (e.target.value.match(/^\\+91\\d{0,10}$/)) {\n                setPhone(e.target.value);\n              }\n            }}\n          />\n          <section className=\"pass\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              required={true}\n              placeholder=\"Password\"\n              aria-autocomplete=\"list\"\n              autoComplete=\"new-password\"\n              onChange={(e) => setPass(e.target.value)}\n            />\n          </section>\n          <section className=\"repeatPass\">\n            <input\n              type=\"password\"\n              name=\"confirm_password\"\n              id=\"confirm_password\"\n              required={true}\n              placeholder=\"Confirm Password\"\n              aria-autocomplete=\"list\"\n              autoComplete=\"new-password\"\n              onChange={(e) => setConfirm_pass(e.target.value)}\n            />\n          </section>\n          <section className=\"checkbox\">\n            <Checkbox required={true} />\n            <label>\n              I Accept{\" \"}\n              <Link to=\"/terms\" target=\"_blank\">\n                Terms & Conditions\n              </Link>\n              , User Agreement,{\" \"}\n              <Link to=\"/codeOfConduct\" target=\"_blank\">\n                Code of Conduct\n              </Link>\n              ,{\" \"}\n              <Link to=\"/fees&Charges\" target=\"_blank\">\n                Charges & Fee\n              </Link>{\" \"}\n              & Consent to receiving Communications via Text, Email or Phone.\n            </label>\n          </section>\n          <button disabled={errMsg || loading} type=\"submit\">\n            Next\n          </button>\n        </form>\n      )}\n      {step === 2 && (\n        <form onSubmit={submit}>\n          <label>\n            A 6 digit code has been sent to {phone}. Enter the code below.{\" \"}\n            <span className=\"attempts\">{3 - attempts} attempts left.</span>\n            <span className=\"resend\">\n              Did not get the code?{\" \"}\n              {loading ? (\n                <a>Sending</a>\n              ) : (\n                <a\n                  onClick={() => {\n                    sendOtp(\n                      \"+91\" + phone.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\")\n                    );\n                  }}\n                >\n                  Resend\n                </a>\n              )}\n            </span>\n          </label>\n          <section className=\"code\">\n            <input\n              ref={code1}\n              type=\"number\"\n              value={code[0]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[0] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                setErrMsg(null);\n                if (e.target.value.length === 1) {\n                  code2.current.focus();\n                } else {\n                  code1.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code2}\n              type=\"number\"\n              value={code[1]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[1] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                setErrMsg(null);\n                if (e.target.value.length === 1) {\n                  code3.current.focus();\n                } else {\n                  code1.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code3}\n              type=\"number\"\n              value={code[2]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[2] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                setErrMsg(null);\n                if (e.target.value.length === 1) {\n                  code4.current.focus();\n                } else {\n                  code2.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code4}\n              type=\"number\"\n              value={code[3]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[3] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                setErrMsg(null);\n                if (e.target.value.length === 1) {\n                  code5.current.focus();\n                } else {\n                  code3.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code5}\n              type=\"number\"\n              value={code[4]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[4] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                setErrMsg(null);\n                if (e.target.value.length === 1) {\n                  code6.current.focus();\n                } else {\n                  code4.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code6}\n              type=\"number\"\n              value={code[5]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[5] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                setErrMsg(null);\n                if (e.target.value.length === 0) {\n                  code5.current.focus();\n                }\n              }}\n            />\n          </section>\n          <button disabled={errMsg || loading} type=\"submit\">\n            Register\n          </button>\n        </form>\n      )}\n      {errMsg && <p className=\"errMsg\">{errMsg}</p>}\n    </div>\n  );\n};\nconst LoginForm = () => {\n  const { user, setUser } = useContext(SiteContext);\n  const history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(false);\n  const submit = (e) => {\n    e.preventDefault();\n    if (errMsg) return;\n    e.preventDefault();\n    // const emailReg = new RegExp(\n    //   /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    // );\n    const phoneReg = new RegExp(\n      /((\\+*)((0[ -]+)*|(91 )*)(\\d{12}|\\d{10}))|\\d{5}([- ]*)\\d{6}/\n    );\n    let user;\n    if (phoneReg.test(username.toLowerCase())) {\n      user = \"+91\" + username.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\");\n    }\n    //  else if (emailReg.test(username.toLowerCase())) {\n    //   user = username.toLowerCase();\n    // }\n    else {\n      setErrMsg(\"Enter valid Phone number\");\n      return;\n    }\n    fetch(\"/api/userLogin\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        username: user,\n        password: pass,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.user) {\n          setUser(data.user);\n          history.replace(history.location.state?.from || \"/account/home\");\n        } else if (data.code === 401) {\n          setErrMsg(\"Invalid credential!\");\n        }\n      });\n  };\n  // const responseGoogle = (e) => {\n  //   if (e.tokenId) {\n  //     fetch(\"/api/userLoginUsingSocial\", {\n  //       method: \"POST\",\n  //       headers: { \"Content-Type\": \"application/json\" },\n  //       body: JSON.stringify({ googleToken: e.tokenId }),\n  //     })\n  //       .then((res) => res.json())\n  //       .then((data) => {\n  //         if (data.user) {\n  //           setUser(user);\n  //           history.replace(\"/account/home\");\n  //         } else if (data.code === 401) {\n  //           setErrMsg(\"No account is associated with this Google account.\");\n  //           setTimeout(() => setErrMsg(null), 2000);\n  //         }\n  //       });\n  //   }\n  // };\n  return (\n    <div className=\"formWrapper login\">\n      <Img\n        className=\"logo\"\n        onClick={() => history.push(\"/\")}\n        src=\"/logo_benner.jpg\"\n        alt=\"Delivery pay logo\"\n      />\n      {\n        //   <p className=\"links\">\n        //   Don't have an account? <Link to=\"/u/join\">Register</Link>\n        // </p>\n      }\n      <p className=\"title\">Login to your Delivery Pay account</p>\n      <form onSubmit={submit}>\n        <input\n          type=\"text\"\n          name=\"username\"\n          required={true}\n          placeholder=\"Phone Number\"\n          value={username}\n          pattern=\"^(\\+91|91|1|)\\d{10}$\"\n          onChange={(e) => {\n            setErrMsg(false);\n            setUsername(e.target.value);\n          }}\n        />\n        <section className=\"pass\">\n          <input\n            type=\"password\"\n            name=\"password\"\n            required={true}\n            placeholder=\"Password\"\n            value={pass}\n            onChange={(e) => {\n              setErrMsg(false);\n              setPass(e.target.value);\n            }}\n          />\n          <Link className=\"passReset\" to=\"/u/resetPassword\">\n            Forgot password?\n          </Link>\n        </section>\n        <button disabled={errMsg} type=\"submit\">\n          Login\n        </button>\n      </form>\n      {\n        //   <section className=\"socials\">\n        //   <GoogleLogin\n        //     className=\"google\"\n        //     clientId=\"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com\"\n        //     buttonText=\"Continue with Google\"\n        //     onSuccess={responseGoogle}\n        //     onFailure={responseGoogle}\n        //     cookiePolicy={\"single_host_origin\"}\n        //   />\n        // </section>\n      }\n      {errMsg && <p className=\"errMsg\">{errMsg}</p>}\n    </div>\n  );\n};\nconst PasswordReset = () => {\n  const { user, setUser } = useContext(SiteContext);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [step, setStep] = useState(1);\n  const [id, setId] = useState(\"+91\");\n  const [invalidCred, setInvadilCred] = useState(false);\n  const [code, setCode] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const [pass, setPass] = useState(\"\");\n  const [confirm_pass, setConfirm_pass] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(false);\n  const [attempts, setAttempts] = useState(0);\n  const code1 = useRef(null);\n  const code2 = useRef(null);\n  const code3 = useRef(null);\n  const code4 = useRef(null);\n  const code5 = useRef(null);\n  const code6 = useRef(null);\n  const sendOtp = useCallback((phone) => {\n    setLoading(true);\n    fetch(\"/api/sendUserForgotPassOTP\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ phone }),\n    }).then((res) => {\n      setLoading(false);\n      if (res.status === 200) {\n        setStep(2);\n      } else if (res.status === 424) {\n        setErrMsg(`Could not send OTP. Please contact support.`);\n        setTimeout(() => setErrMsg(null), 2000);\n      } else {\n        setErrMsg(\"User does does not exists.\");\n      }\n    });\n  }, []);\n  const submit = (e) => {\n    e.preventDefault();\n    let phone = null;\n    let email = null;\n    const emailReg = new RegExp(\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    );\n    const phoneReg = new RegExp(\n      /((\\+*)((0[ -]+)*|(91 )*)(\\d{12}|\\d{10}))|\\d{5}([- ]*)\\d{6}/\n    );\n    if (emailReg.test(id.toLowerCase())) {\n      email = id.toLowerCase();\n    } else if (phoneReg.test(id.toLowerCase())) {\n      phone = \"+91\" + id.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\");\n    }\n    if (step === 1) {\n      if (errMsg) return;\n      if (phone) {\n        sendOtp(phone);\n      } else {\n        setErrMsg(\"Enter a valid phone number.\");\n      }\n    } else if (step === 2) {\n      setLoading(true);\n      fetch(\"/api/submitUserForgotPassOTP\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ phone, code: code.join(\"\") }),\n      }).then((res) => {\n        setLoading(false);\n        if (res.status === 200) {\n          setStep(3);\n        } else if (res.status === 400) {\n          setCode([\"\", \"\", \"\", \"\", \"\", \"\"]);\n          setErrMsg(\"Wrong code!\");\n          res.json().then((data) => {\n            setAttempts(data.attempt);\n          });\n        } else if (res.status === 429) {\n          setStep(1);\n          setCode([\"\", \"\", \"\", \"\", \"\", \"\"]);\n          setErrMsg(\"Too many attempts. Start again.\");\n          setTimeout(() => setErrMsg(null), 1500);\n          setAttempts(0);\n        } else if (res.status === 404) {\n          setAttempts(0);\n          setStep(1);\n          setCode([\"\", \"\", \"\", \"\", \"\", \"\"]);\n          setErrMsg(\"Timeout. Start again\");\n          setTimeout(() => setErrMsg(null), 1500);\n        }\n      });\n    } else if (step === 3) {\n      if (pass !== confirm_pass) {\n        setErrMsg(\"Password did not match\");\n        return;\n      }\n      setLoading(true);\n      fetch(\"/api/userResetPass\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ phone, code: code.join(\"\"), newPass: pass }),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setLoading(false);\n          if (data.user) {\n            setUser(user);\n            history.replace(\"/account/home\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          setLoading(false);\n        });\n    }\n  };\n  useEffect(() => {\n    if (code.join(\"\")) {\n      setErrMsg(null);\n    }\n  }, [code]);\n  return (\n    <div className=\"formWrapper resetPass\">\n      <Img className=\"logo\" src=\"/logo_benner.jpg\" alt=\"Delivery pay logo\" />\n      <p className=\"title\">Password reset</p>\n      {step === 2 && (\n        <a className=\"back\" onClick={() => setStep(1)}>\n          <Arrow_left_svg /> Back\n        </a>\n      )}\n      {\n        //   <p className=\"links\">\n        //   Already have an account?<Link to=\"/u/login\">Login</Link>\n        // </p>\n      }\n      {step === 1 && (\n        <form onSubmit={submit}>\n          <input\n            type=\"text\"\n            name=\"phone\"\n            required={true}\n            placeholder=\"Phone number\"\n            value={id}\n            onChange={(e) => {\n              setErrMsg(null);\n              if (e.target.value.match(/^\\+91\\d{0,10}$/)) {\n                setId(e.target.value);\n              }\n            }}\n          />\n          <button disabled={errMsg || loading} type=\"submit\">\n            Next\n          </button>\n        </form>\n      )}\n      {step === 2 && (\n        <form onSubmit={submit}>\n          <label>\n            A 6 digit code has been sent to {id}. Enter the code below.{\" \"}\n            <span className=\"attempts\">{3 - attempts} attempts left.</span>\n            <span className=\"resend\">\n              Did not get the code?{\" \"}\n              {loading ? (\n                <a>Sending</a>\n              ) : (\n                <a\n                  onClick={() => {\n                    sendOtp(\n                      \"+91\" + id.replace(/^(\\+91|91|1|)(?=\\d{10}$)/g, \"\")\n                    );\n                  }}\n                >\n                  Resend\n                </a>\n              )}\n            </span>\n          </label>\n          <section className=\"code\">\n            <input\n              ref={code1}\n              type=\"number\"\n              value={code[0]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[0] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                if (e.target.value.length === 1) {\n                  code2.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code2}\n              type=\"number\"\n              value={code[1]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[1] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                if (e.target.value.length === 1) {\n                  code3.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code3}\n              type=\"number\"\n              value={code[2]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[2] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                if (e.target.value.length === 1) {\n                  code4.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code4}\n              type=\"number\"\n              value={code[3]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[3] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                if (e.target.value.length === 1) {\n                  code5.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code5}\n              type=\"number\"\n              value={code[4]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[4] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n                if (e.target.value.length === 1) {\n                  code6.current.focus();\n                }\n              }}\n            />\n            <input\n              ref={code6}\n              type=\"number\"\n              value={code[5]}\n              required={true}\n              onChange={(e) => {\n                setCode((prev) => {\n                  const newCode = [...prev];\n                  newCode[5] = e.target.value[0] || \"\";\n                  return newCode;\n                });\n              }}\n            />\n          </section>\n          <button disabled={errMsg || loading} type=\"submit\">\n            Next\n          </button>\n        </form>\n      )}\n      {step === 3 && (\n        <form onSubmit={submit}>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required={true}\n            placeholder=\"Password\"\n            aria-autocomplete=\"list\"\n            autoComplete=\"new-password\"\n            onChange={(e) => {\n              setErrMsg(null);\n              setPass(e.target.value);\n            }}\n          />\n          <section className=\"pass\">\n            <input\n              type=\"password\"\n              name=\"confirm_password\"\n              id=\"confirm_password\"\n              required={true}\n              placeholder=\"Confirm Password\"\n              aria-autocomplete=\"list\"\n              autoComplete=\"new-password\"\n              onChange={(e) => {\n                setErrMsg(null);\n                setConfirm_pass(e.target.value);\n              }}\n            />\n          </section>\n          <button disabled={errMsg || loading} type=\"submit\">\n            {step === 3 ? \"Submit\" : \"Next\"}\n          </button>\n        </form>\n      )}\n      {errMsg && <p className=\"errMsg\">{errMsg}</p>}\n    </div>\n  );\n};\n\nfunction UserStart() {\n  const { setUser, user } = useContext(SiteContext);\n  const history = useHistory();\n  useEffect(() => {\n    fetch(\"/api/authUser\")\n      .then((res) => res.json())\n      .then((data) => {\n        document.querySelector(\".splash-screen\")?.remove();\n        if (data.user) {\n          setUser(data.user);\n          history.replace(history.location.state?.from || \"/account/home\");\n        }\n      })\n      .catch((err) => {\n        document.querySelector(\".splash-screen\")?.remove();\n        console.log(err);\n      });\n  }, []);\n  return (\n    <div className=\"generic\">\n      <Header />\n      <div className=\"userStart\">\n        <div className=\"banner\">\n          <div className=\"header\">\n            <h3>Experience the best and secure Transactions</h3>\n            <p>We ensure buyer and seller happiness</p>\n          </div>\n          <Img\n            className=\"illustration\"\n            src=\"/landingPage_illustration.png\"\n            alt=\"illustration\"\n          />\n        </div>\n        <div className=\"forms\">\n          <Switch>\n            <Route path=\"/u/join\">\n              <RegisterFormNew />\n            </Route>\n            <Route path=\"/u/login\">\n              <LoginForm />\n            </Route>\n            <Route path=\"/u/resetPassword\">\n              <PasswordReset />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default UserStart;\n"],"sourceRoot":""}