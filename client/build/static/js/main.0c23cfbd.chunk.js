(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var a=n(55),c=n(56),s=n(61),l=n(60),i=n(1),r=n.n(i),o=n(17),d=n.n(o),j=(n(66),n(2)),h=n(0),b=Object(i.createContext)(),u=function(e){var t=e.children,n=Object(i.useState)(null),a=Object(j.a)(n,2),c=a[0],s=a[1],l=Object(i.useState)(!1),r=Object(j.a)(l,2),o=r[0],d=r[1];return Object(h.jsx)(b.Provider,{value:{user:c,setUser:s,isAuthenticated:o,setIsAuthenticated:d},children:t})},O=n(5),m=n(4);n(68);var x=function(e){e.history;var t=Object(i.useContext)(b),n=t.user,a=t.setUser;return Object(i.useEffect)((function(){fetch("/api/authUser").then((function(e){return e.json()})).then((function(e){e.user&&a(e.user)}))}),[]),Object(h.jsxs)("div",{className:"landingPage",children:[Object(h.jsx)("header",{children:Object(h.jsxs)("div",{className:"innerWrapper",children:[Object(h.jsxs)("div",{className:"links",children:[Object(h.jsx)(m.b,{to:"/",children:Object(h.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(h.jsx)(m.b,{to:"#",children:"For Business"}),Object(h.jsx)(m.b,{to:"#",children:"About us"})]}),Object(h.jsx)("div",{className:"path",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"345",height:"185.296",viewBox:"0 0 401.991 185.296",className:"path",children:Object(h.jsx)("path",{id:"Path_1938","data-name":"Path 1938",d:"M-73.783,185.675s177.855-12.2,269.307-64.419S328.208.379,328.208.379H-73.783",transform:"translate(73.783 -0.379)",fill:"#fff"})})}),Object(h.jsx)("div",{className:"clas",children:n?Object(h.jsx)(m.b,{to:"/account/home",children:"Dashboard"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.b,{to:"/u/login",children:"Login"}),Object(h.jsx)(m.b,{to:"/u/join",children:"Join Delivery pay"})]})})]})}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)("div",{className:"innerWrapper",children:[Object(h.jsxs)("div",{className:"text",children:[Object(h.jsxs)("h1",{children:["Never Pay Without",Object(h.jsx)("br",{})," Using Delivery pay"]}),Object(h.jsx)("p",{children:"Delivery pay is a secure transaction platform that completely protects you from being scammed when you want to buy or sell with someone you don't know."}),Object(h.jsxs)("div",{className:"clas",children:[Object(h.jsx)(m.b,{to:"/account/home",children:"I am a Seller"}),Object(h.jsx)(m.b,{to:"/account/home",children:"I am a Buyer"})]})]}),Object(h.jsx)("img",{className:"illustration",src:"/landingPage_illustration.svg",alt:"illustration"})]})})]})},f=n(7),p=n.p+"static/media/tick.71f1b4df.svg",g=n.p+"static/media/tick_border.30a56233.svg",v=n(3),y=function(e){var t=e.containerClass,n=e.open,a=e.setOpen,c=e.children,s=e.className,l=e.onBackdropClick,r=e.backdropClass,d=e.style;return Object(i.useEffect)((function(){if(t){var e=document.querySelector("#portal");return e.classList.add(t),function(){return e.classList.remove(t)}}})),n?Object(o.createPortal)(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"modalBackdrop ".concat(r),onClick:function(){null===a||void 0===a||a(!1),null===l||void 0===l||l()}}),Object(h.jsx)("div",{style:Object(v.a)({},d),className:"modal ".concat(s||""),children:c})]}),document.querySelector("#portal")):null};n(76);var N=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"linear-gradient-red",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient-red)"}),Object(h.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]})},w=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(h.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(h.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(h.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(h.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(h.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]})},C=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})},P=function(e){var t=e.defaultValue,n=e.required,a=e.onChange,c=Object(i.useState)(t),s=Object(j.a)(c,2),l=s[0],r=s[1];return Object(h.jsx)("section",{className:"checkbox",children:Object(h.jsxs)("div",{className:"ticks",onClick:function(){return r(!l)},children:[Object(h.jsx)("input",{type:"checkbox",value:l,required:n,onChange:function(e){r(!l),null===a||void 0===a||a(e)}}),Object(h.jsx)("img",{src:g}),l&&Object(h.jsx)("img",{src:p})]})})},k=function(e){var t=e.options,n=e.defaultValue,a=e.onChange,c=e.maxHeight,s=e.required,l=(e.disabled,e.dataId,e.validationMessage,e.className,e.placeholder),r=Object(i.useState)((function(){return n>-1&&t[n]?t[n].label:"object"===typeof n?n:""})),o=Object(j.a)(r,2),d=o[0],b=o[1],u=Object(i.useState)(!1),O=Object(j.a)(u,2),m=O[0],x=O[1],f=Object(i.useState)(""),p=Object(j.a)(f,2),g=p[0],v=p[1],N=Object(i.useState)({}),w=Object(j.a)(N,2),C=w[0],P=w[1],k=Object(i.useRef)(),_=Object(i.useRef)();return Object(i.useLayoutEffect)((function(){var e=_.current.getBoundingClientRect(),n=e.width,a=e.height,c=e.x,s=e.y;P({position:"absolute",left:c,top:s+a,width:n,height:37*t.length,maxHeight:window.innerHeight-(s+a)-16})}),[m]),Object(h.jsxs)("section",{className:"combobox ".concat(m?"open":""),ref:_,onClick:function(){return x(!m)},children:[l&&!d&&Object(h.jsx)("label",{children:l}),Object(h.jsx)("input",{ref:k,required:s,data:g,value:d,onFocus:function(e){return e.target.blur()},onChange:function(){}}),Object(h.jsx)("button",{type:"button",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(h.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(h.jsx)(y,{className:"sectionOptions",open:m,setOpen:x,backdropClass:"selectionOptionBack",onBackdropClick:function(){return x(!1)},style:C,children:Object(h.jsx)("ul",{style:{width:"100%",maxHeight:m?c:0,zIndex:100},className:"options",children:t.map((function(e){return Object(h.jsx)("li",{onClick:function(t){v(e.value),b(e.label),a&&a(e),x(!1),k.current.setCustomValidity("")},className:"option".concat(" ",d===e.label?"selected":""),children:e.label},e.label)}))})})]})},_=function(e){var t=e.defaultValue,n=e.min,a=e.max,c=e.required,s=e.onChange,l=Object(i.useState)(t||0),r=Object(j.a)(l,2),o=r[0],d=r[1];return Object(h.jsxs)("section",{className:"number",children:[Object(h.jsx)("input",{type:"number",step:"0.01",required:c,value:o,onChange:function(e){d((+e.target.value).toString()),null===s||void 0===s||s(e)},placeholder:"0.00",min:n,max:a}),Object(h.jsxs)("div",{className:"ticker",children:[Object(h.jsx)("button",{type:"button",onClick:function(){return d(+o+1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(h.jsx)("g",{id:"Component_47_8","data-name":"Component 47 \u2013 8",transform:"translate(13) rotate(90)",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})}),Object(h.jsx)("button",{type:"button",onClick:function(){return d(+o-1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"8.872",viewBox:"0 0 13 8.872",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"8.872",height:"13",fill:"none"})})}),Object(h.jsx)("g",{id:"Component_47_7","data-name":"Component 47 \u2013 7",transform:"translate(0 8.872) rotate(-90)",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Path_36","data-name":"Path 36",d:"M6.5,8.872,0,2.036,1.936,0,6.5,4.8,11.064,0,13,2.036Z",transform:"translate(8.872) rotate(90)",fill:"#336cf9"})})]})})]})]})},M=n(31),S=n.n(M);n(77);var L=function(){var e=Object(i.useContext)(b),t=e.user,n=e.setUser,a=Object(O.g)(),c=Object(i.useState)(""),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)(""),d=Object(j.a)(o,2),u=d[0],x=d[1],f=Object(i.useState)(""),p=Object(j.a)(f,2),g=p[0],v=p[1],y=Object(i.useState)("+91"),N=Object(j.a)(y,2),w=N[0],C=N[1],k=Object(i.useState)(""),_=Object(j.a)(k,2),M=_[0],S=_[1],L=Object(i.useState)(""),Z=Object(j.a)(L,2),D=Z[0],A=Z[1],B=Object(i.useState)(null),F=Object(j.a)(B,2),R=F[0],q=F[1];return Object(i.useEffect)((function(){q(null)}),[D]),Object(h.jsxs)("div",{className:"formWrapper",children:[Object(h.jsx)("img",{className:"logo",onClick:function(){return a.push("")},src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Create your Delivery pay account"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M===D?w.match(/^\+91\d{10}$/)?R||fetch("/api/registerUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:l,lastName:u,phone:w,email:g,password:M})}).then((function(e){return e.json()})).then((function(e){e.user?(n(t),a.push("/account/home")):11e3===e.code&&q("Email/Phone already exists.")})):q("Enter valid phone number"):q("Password did not match.")},children:[Object(h.jsx)("input",{type:"text",name:"firstName",required:!0,placeholder:"First name",value:l,onChange:function(e){return r(e.target.value)}}),Object(h.jsx)("input",{type:"text",name:"lastName",required:!0,placeholder:"Last name",value:u,onChange:function(e){return x(e.target.value)}}),Object(h.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:g,onChange:function(e){q(null),v(e.target.value)}}),Object(h.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"Phone number",value:w,onChange:function(e){q(null),e.target.value.match(/^\+91\d{0,10}$/)&&C(e.target.value)}}),Object(h.jsx)("section",{className:"pass",children:Object(h.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){return S(e.target.value)}})}),Object(h.jsx)("section",{className:"repeatPass",children:Object(h.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){return A(e.target.value)}})}),Object(h.jsxs)("section",{className:"checkbox",children:[Object(h.jsx)(P,{required:!0}),Object(h.jsx)("label",{children:"I accept to the Terms and Conditions and Privacy Policy"})]}),Object(h.jsx)("button",{disabled:R,type:"submit",children:"Register"})]}),R&&Object(h.jsx)("p",{className:"errMsg",children:R}),Object(h.jsxs)("p",{className:"links",children:["Already have an account? ",Object(h.jsx)(m.b,{to:"/u/login",children:"Login"})]})]})},Z=function(){var e=Object(i.useContext)(b),t=e.user,n=e.setUser,a=Object(O.g)(),c=Object(i.useState)(""),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)(""),d=Object(j.a)(o,2),u=d[0],x=d[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),g=p[0],v=p[1],y=function(e){fetch("/api/userLoginUsingSocial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({googleId:e.googleId})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.user?(n(t),a.push("/account/home")):401===e.code&&(v("No account is associated with this Google account."),setTimeout((function(){return v(null)}),2e3))}))};return Object(h.jsxs)("div",{className:"formWrapper login",children:[Object(h.jsx)("img",{className:"logo",onClick:function(){return a.push("")},src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Login to your Delivery pay account"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g||fetch("/api/userLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:u})}).then((function(e){return e.json()})).then((function(e){e.user?(n(t),a.push("/account/home")):401===e.code&&v("Invalid credential!")}))},children:[Object(h.jsx)("input",{type:"text",name:"username",required:!0,placeholder:"Email  or Phone Number",value:l,onChange:function(e){v(!1),r(e.target.value)}}),Object(h.jsxs)("section",{className:"pass",children:[Object(h.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password",value:u,onChange:function(e){v(!1),x(e.target.value)}}),Object(h.jsx)(m.b,{className:"passReset",to:"/u/resetPassword",children:"Forgot password?"})]}),Object(h.jsx)("button",{disabled:g,type:"submit",children:"Login"})]}),Object(h.jsx)("section",{className:"socials",children:Object(h.jsx)(S.a,{className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:y,onFailure:y,cookiePolicy:"single_host_origin"})}),Object(h.jsxs)("p",{className:"links",children:["Don't have an account? ",Object(h.jsx)(m.b,{to:"/u/join",children:"Register"})]}),g&&Object(h.jsx)("p",{className:"errMsg",children:g})]})},D=function(){var e=Object(i.useContext)(b),t=e.user,n=e.setUser,a=Object(O.g)(),c=Object(i.useState)(1),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)(""),d=Object(j.a)(o,2),u=d[0],x=d[1],p=Object(i.useState)(!1),g=Object(j.a)(p,2),v=(g[0],g[1],Object(i.useState)(["","","","","",""])),y=Object(j.a)(v,2),N=y[0],w=y[1],C=Object(i.useState)(""),P=Object(j.a)(C,2),k=P[0],_=P[1],M=Object(i.useState)(""),S=Object(j.a)(M,2),L=S[0],Z=S[1],D=Object(i.useState)(!1),A=Object(j.a)(D,2),B=A[0],F=A[1],R=Object(i.useRef)(null),q=Object(i.useRef)(null),T=Object(i.useRef)(null),E=Object(i.useRef)(null),U=Object(i.useRef)(null),W=Object(i.useRef)(null);Object(i.useEffect)((function(){console.log(B)}),[B]);var I=function(e){if(e.preventDefault(),1===l){if(B)return;fetch("/api/sendUserForgotPassOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:u})}).then((function(e){200===e.status?r(2):F("User does does not exists.")}))}else if(2===l)fetch("/api/submitUserForgotPassOTP",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:u,code:N.join("")})}).then((function(e){200===e.status?r(3):400===e.status?(w(["","","","","",""]),F("Wrong code!")):429===e.status?(r(1),x(""),w(["","","","","",""]),F("Too many tries. Start again.")):404===e.status&&(r(1),x(""),w(["","","","","",""]),F("Timeout. Start again"))}));else if(3===l){if(k!==L)return void F("Password did not match");fetch("/api/userResetPass",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:u,code:N.join(""),newPass:k})}).then((function(e){return e.json()})).then((function(e){e.user&&(n(t),a.push("/account/home"))}))}};return Object(i.useEffect)((function(){N.join("")&&F(null)}),[N]),Object(h.jsxs)("div",{className:"formWrapper resetPass",children:[Object(h.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"}),Object(h.jsx)("p",{className:"title",children:"Password reset"}),1===l&&Object(h.jsxs)("form",{onSubmit:I,children:[Object(h.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"Phone Number",value:u,onChange:function(e){F(null),x(e.target.value)}}),Object(h.jsx)("button",{disabled:B,type:"submit",children:"Next"})]}),2===l&&Object(h.jsxs)("form",{onSubmit:I,children:[Object(h.jsx)("label",{children:"A 6 digit code has been sent to your phone. Enter the code below."}),Object(h.jsxs)("section",{className:"code",children:[Object(h.jsx)("input",{ref:R,type:"number",value:N[0],required:!0,onChange:function(e){w((function(t){var n=Object(f.a)(t);return n[0]=e.target.value[0]||"",n})),1===e.target.value.length&&q.current.focus()}}),Object(h.jsx)("input",{ref:q,type:"number",value:N[1],required:!0,onChange:function(e){w((function(t){var n=Object(f.a)(t);return n[1]=e.target.value[0]||"",n})),1===e.target.value.length&&T.current.focus()}}),Object(h.jsx)("input",{ref:T,type:"number",value:N[2],required:!0,onChange:function(e){w((function(t){var n=Object(f.a)(t);return n[2]=e.target.value[0]||"",n})),1===e.target.value.length&&E.current.focus()}}),Object(h.jsx)("input",{ref:E,type:"number",value:N[3],required:!0,onChange:function(e){w((function(t){var n=Object(f.a)(t);return n[3]=e.target.value[0]||"",n})),1===e.target.value.length&&U.current.focus()}}),Object(h.jsx)("input",{ref:U,type:"number",value:N[4],required:!0,onChange:function(e){w((function(t){var n=Object(f.a)(t);return n[4]=e.target.value[0]||"",n})),1===e.target.value.length&&W.current.focus()}}),Object(h.jsx)("input",{ref:W,type:"number",value:N[5],required:!0,onChange:function(e){w((function(t){var n=Object(f.a)(t);return n[5]=e.target.value[0]||"",n}))}})]}),Object(h.jsx)("button",{disabled:B,type:"submit",children:"Next"})]}),3===l&&Object(h.jsxs)("form",{onSubmit:I,children:[Object(h.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){F(null),_(e.target.value)}}),Object(h.jsx)("section",{className:"pass",children:Object(h.jsx)("input",{type:"password",name:"confirm_password",id:"confirm_password",required:!0,placeholder:"Confirm Password","aria-autocomplete":"list",autoComplete:"new-password",onChange:function(e){F(null),Z(e.target.value)}})}),Object(h.jsx)("button",{disabled:B,type:"submit",children:3===l?"Submit":"Next"})]}),B&&Object(h.jsx)("p",{className:"errMsg",children:B}),Object(h.jsxs)("p",{className:"links",children:["Already have an account?",Object(h.jsx)(m.b,{to:"/u/login",children:"Login"})]})]})};var A=function(){var e=Object(i.useContext)(b),t=e.setUser,n=(e.user,Object(O.g)());return Object(i.useEffect)((function(){fetch("/api/authUser").then((function(e){return e.json()})).then((function(e){var a;e.user&&(t(e.user),n.push((null===(a=n.location.state)||void 0===a?void 0:a.from)||"/account/home"))}))}),[]),Object(h.jsxs)("div",{className:"userStart",children:[Object(h.jsxs)("div",{className:"banner",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("h3",{children:"Experience the best and secure Transactions"}),Object(h.jsx)("p",{children:"We ensure buyer and seller happiness"})]}),Object(h.jsx)("img",{className:"illustration",src:"/landingPage_illustration.svg",alt:"illustration"})]}),Object(h.jsx)("div",{className:"forms",children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/u/join",children:Object(h.jsx)(L,{})}),Object(h.jsx)(O.b,{path:"/u/login",children:Object(h.jsx)(Z,{})}),Object(h.jsx)(O.b,{path:"/u/resetPassword",children:Object(h.jsx)(D,{})})]})})]})},B=(n(78),n(16)),F=n.n(B),R=function(e){var t=e.milestone,n=e.setReleaseForm,a=e.onSuccess,c=Object(i.useState)(t.amount),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)(null),d=Object(j.a)(o,2),b=d[0],u=d[1];return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/releaseMilestone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t._id,amount:l})}).then((function(e){return e.json()})).then((function(e){var t=e.milestone;t?null===a||void 0===a||a(t):u(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return u(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not release Milestone."})]})]}))})).catch((function(e){console.log(e),h.Fragment}))},children:[Object(h.jsx)("label",{children:"How much money you want to release?"}),Object(h.jsx)(_,{defaultValue:l,onChange:function(e){return r(e.target.value)}}),Object(h.jsxs)("section",{className:"btns",children:[Object(h.jsx)("button",{type:"submit",children:"Confirm"}),Object(h.jsx)("button",{className:"cancel",type:"button",onClick:function(){return n(!1)},children:"Cancel"})]}),Object(h.jsx)(y,{open:b,className:"msg",children:b})]})},q=function(e){var t=e.milestone,n=(e.setDisputeForm,e.onSuccess),a=Object(i.useState)(""),c=Object(j.a)(a,2),s=c[0],l=c[1],r=Object(i.useState)(""),o=Object(j.a)(r,2),d=o[0],b=o[1],u=Object(i.useState)([]),O=Object(j.a)(u,2),m=O[0],x=O[1],f=Object(i.useState)(null),p=Object(j.a)(f,2),g=p[0],v=p[1];return Object(h.jsxs)("form",{className:"disputeForm",onSubmit:function(e){e.preventDefault(),fetch("/api/fileDispute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issue:s,milestoneId:t._id,defendantId:t.client._id,_case:{dscr:d,caseFiles:m}})}).then((function(e){200===e.status?e.json().then((function(e){var t=e.milestone;null===n||void 0===n||n(t)})):403===e.status?v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Insufficient fund! you have to have \u20b9500 in your wallet to file a dispute."})]})]})):v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not file dispute."})]})]}))})).catch((function(e){console.log(e),v(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return v(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not file dispute. make sure you're online."})]})]}))}))},children:[Object(h.jsx)("h4",{children:"You feel like you are getting scammed?"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"issue",children:"Issue"}),Object(h.jsx)(k,{name:"issue",options:"buyer"===t.role?[{label:"Buyer Not Releasing Payments",value:"Buyer Not Releasing Payments"}]:[{label:"Goods Not Received",value:"Goods Not Received"},{label:"Services Not Received",value:"Services Not Received"},{label:"Damaged",value:"Damaged"},{label:"Not As Agreed",value:"Not As Agreed"},{label:"Not As Displayed",value:"Not As Displayed"}],onChange:function(e){l(e.value)}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"description",children:"Description"}),Object(h.jsx)("textarea",{name:"description",value:d,required:!0,onChange:function(e){return b(e.target.value)}})]}),Object(h.jsxs)("section",{className:"fileInput",children:[Object(h.jsx)("label",{htmlFor:"for",children:"Upload images to prove your case. ie: Product of image, proof of delivery."}),m.length>0&&Object(h.jsx)("ul",{children:m.map((function(e,t){return Object(h.jsx)("li",{children:e.name},t)}))}),Object(h.jsx)("input",{type:"file",name:"files",required:!0,accept:"audio/*,video/*,image/*",multiple:!0,onChange:function(e){x(Object.values(e.target.files))}})]}),Object(h.jsxs)("section",{className:"btns",children:[Object(h.jsx)("button",{className:"submit",type:"submit",children:"Submit"}),Object(h.jsx)("button",{className:"cancel",type:"button",children:"Cancel"})]}),Object(h.jsx)("div",{className:"pBtm"}),Object(h.jsx)(y,{open:g,className:"msg",children:g})]})},T=function(e){var t,n=e.milestone,a=e.setMilestones,c=Object(i.useState)(!1),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)(!1),d=Object(j.a)(o,2),b=d[0],u=d[1],O=Object(i.useState)(null),x=Object(j.a)(O,2),p=x[0],g=x[1];return Object(h.jsxs)("li",{className:"milestone ".concat(n.role),children:[Object(h.jsxs)("div",{className:"clientDetail",children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:n.client.profileImg}),Object(h.jsx)("p",{className:"name",children:n.client.firstName+" "+n.client.lastName})]}),Object(h.jsx)("div",{className:"milestoneDetail",children:Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Role"}),"-",Object(h.jsx)("p",{className:"role",children:n.role})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Product Detail"}),"-",Object(h.jsx)("p",{children:null===(t=n.product)||void 0===t?void 0:t.dscr})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Transaction ID"}),"-",Object(h.jsx)("p",{children:n._id})]})]})})]}),Object(h.jsxs)("ul",{className:"steps ".concat(n.status),children:[Object(h.jsxs)("li",{className:"step pending",children:[Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsxs)("svg",{className:"default",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#fff",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#336cf9"})]}),Object(h.jsx)("svg",{className:"blank",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:Object(h.jsxs)("g",{id:"Ellipse_229","data-name":"Ellipse 229",fill:"#fff",stroke:"#707070",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]})}),Object(h.jsxs)("svg",{className:"filled",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#fff"})]})]}),Object(h.jsx)("p",{children:"Deposite recieved"})]}),Object(h.jsxs)("li",{className:"progress pending",children:[Object(h.jsx)("svg",{className:"done",xmlns:"http://www.w3.org/2000/svg",width:"214.5",height:"2",viewBox:"0 0 214.5 2",children:Object(h.jsx)("line",{id:"Line_22","data-name":"Line 22",x2:"214.5",transform:"translate(0 1)",fill:"none",stroke:"#1be6d6",strokeWidth:"2"})}),Object(h.jsx)("svg",{className:"running",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"16.55",viewBox:"0 0 200 16.55",children:Object(h.jsxs)("g",{id:"Group_203","data-name":"Group 203",transform:"translate(-5063.943 -1197)",children:[Object(h.jsx)("path",{id:"Path_301","data-name":"Path 301",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5063.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_302","data-name":"Path 302",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5073.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_303","data-name":"Path 303",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5083.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_304","data-name":"Path 304",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5093.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_305","data-name":"Path 305",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5103.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_306","data-name":"Path 306",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5113.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_307","data-name":"Path 307",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5123.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_308","data-name":"Path 308",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5133.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_309","data-name":"Path 309",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5143.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_310","data-name":"Path 310",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5153.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_311","data-name":"Path 311",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5163.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_312","data-name":"Path 312",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5173.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_313","data-name":"Path 313",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5183.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_314","data-name":"Path 314",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5193.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_315","data-name":"Path 315",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5203.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_316","data-name":"Path 316",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5213.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_317","data-name":"Path 317",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5223.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_318","data-name":"Path 318",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5233.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_319","data-name":"Path 319",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5243.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_320","data-name":"Path 320",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5253.943 1213.55) rotate(-90)",fill:"#1be6d6"})]})}),Object(h.jsx)("svg",{className:"runningBack",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"16.55",viewBox:"0 0 200 16.55",children:Object(h.jsxs)("g",{id:"Group_226","data-name":"Group 226",transform:"translate(5263.943 1213.55) rotate(-180)",children:[Object(h.jsx)("path",{id:"Path_301","data-name":"Path 301",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5063.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_302","data-name":"Path 302",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5073.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_303","data-name":"Path 303",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5083.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_304","data-name":"Path 304",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5093.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_305","data-name":"Path 305",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5103.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_306","data-name":"Path 306",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5113.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_307","data-name":"Path 307",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5123.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_308","data-name":"Path 308",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5133.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_309","data-name":"Path 309",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5143.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_310","data-name":"Path 310",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5153.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_311","data-name":"Path 311",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5163.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_312","data-name":"Path 312",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5173.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_313","data-name":"Path 313",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5183.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_314","data-name":"Path 314",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5193.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_315","data-name":"Path 315",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5203.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_316","data-name":"Path 316",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5213.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_317","data-name":"Path 317",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5223.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_318","data-name":"Path 318",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5233.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_319","data-name":"Path 319",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5243.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_320","data-name":"Path 320",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5253.943 1213.55) rotate(-90)",fill:"#f6577c"})]})})]}),Object(h.jsxs)("li",{className:"step onhold",children:[Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsxs)("svg",{className:"default",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#fff",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#336cf9"})]}),Object(h.jsx)("svg",{className:"blank",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:Object(h.jsxs)("g",{id:"Ellipse_229","data-name":"Ellipse 229",fill:"#fff",stroke:"#707070",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]})}),Object(h.jsxs)("svg",{className:"filled",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#fff"})]})]}),Object(h.jsx)("p",{children:"Funds on Hold"})]}),Object(h.jsxs)("li",{className:"progress onhold",children:[Object(h.jsx)("svg",{className:"done",xmlns:"http://www.w3.org/2000/svg",width:"214.5",height:"2",viewBox:"0 0 214.5 2",children:Object(h.jsx)("line",{id:"Line_22","data-name":"Line 22",x2:"214.5",transform:"translate(0 1)",fill:"none",stroke:"#1be6d6",strokeWidth:"2"})}),Object(h.jsx)("svg",{className:"running",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"16.55",viewBox:"0 0 200 16.55",children:Object(h.jsxs)("g",{id:"Group_203","data-name":"Group 203",transform:"translate(-5063.943 -1197)",children:[Object(h.jsx)("path",{id:"Path_301","data-name":"Path 301",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5063.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_302","data-name":"Path 302",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5073.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_303","data-name":"Path 303",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5083.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_304","data-name":"Path 304",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5093.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_305","data-name":"Path 305",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5103.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_306","data-name":"Path 306",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5113.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_307","data-name":"Path 307",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5123.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_308","data-name":"Path 308",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5133.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_309","data-name":"Path 309",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5143.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_310","data-name":"Path 310",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5153.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_311","data-name":"Path 311",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5163.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_312","data-name":"Path 312",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5173.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_313","data-name":"Path 313",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5183.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_314","data-name":"Path 314",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5193.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_315","data-name":"Path 315",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5203.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_316","data-name":"Path 316",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5213.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_317","data-name":"Path 317",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5223.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_318","data-name":"Path 318",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5233.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_319","data-name":"Path 319",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5243.943 1213.55) rotate(-90)",fill:"#1be6d6"}),Object(h.jsx)("path",{id:"Path_320","data-name":"Path 320",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5253.943 1213.55) rotate(-90)",fill:"#1be6d6"})]})}),Object(h.jsx)("svg",{className:"runningBack",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"16.55",viewBox:"0 0 200 16.55",children:Object(h.jsxs)("g",{id:"Group_226","data-name":"Group 226",transform:"translate(5263.943 1213.55) rotate(-180)",children:[Object(h.jsx)("path",{id:"Path_301","data-name":"Path 301",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5063.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_302","data-name":"Path 302",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5073.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_303","data-name":"Path 303",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5083.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_304","data-name":"Path 304",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5093.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_305","data-name":"Path 305",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5103.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_306","data-name":"Path 306",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5113.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_307","data-name":"Path 307",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5123.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_308","data-name":"Path 308",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5133.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_309","data-name":"Path 309",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5143.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_310","data-name":"Path 310",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5153.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_311","data-name":"Path 311",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5163.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_312","data-name":"Path 312",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5173.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_313","data-name":"Path 313",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5183.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_314","data-name":"Path 314",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5193.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_315","data-name":"Path 315",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5203.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_316","data-name":"Path 316",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5213.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_317","data-name":"Path 317",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5223.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_318","data-name":"Path 318",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5233.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_319","data-name":"Path 319",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5243.943 1213.55) rotate(-90)",fill:"#f6577c"}),Object(h.jsx)("path",{id:"Path_320","data-name":"Path 320",d:"M8.275,10,0,2.3,2.465,0l5.81,5.41L14.085,0,16.55,2.3Z",transform:"translate(5253.943 1213.55) rotate(-90)",fill:"#f6577c"})]})})]}),Object(h.jsxs)("li",{className:"step released",children:[Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsxs)("svg",{className:"default",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#fff",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#336cf9"})]}),Object(h.jsx)("svg",{className:"blank",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:Object(h.jsxs)("g",{id:"Ellipse_229","data-name":"Ellipse 229",fill:"#fff",stroke:"#707070",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]})}),Object(h.jsxs)("svg",{className:"filled",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"65",viewBox:"0 0 65 65",children:[Object(h.jsxs)("g",{id:"Ellipse_110","data-name":"Ellipse 110",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32.5",stroke:"none"}),Object(h.jsx)("circle",{cx:"32.5",cy:"32.5",r:"32",fill:"none"})]}),Object(h.jsx)("path",{id:"Checkbox",d:"M12.267,23.067,0,9.8,2.489,7.112l9.778,10.38L28.444,0l2.489,2.691Z",transform:"translate(17.034 20.967)",fill:"#fff"})]})]}),Object(h.jsx)("p",{children:"Released"})]})]}),Object(h.jsxs)("div",{className:"clas",children:[Object(h.jsxs)("h4",{children:["\u20b9",n.amount]}),"buyer"===n.role?Object(h.jsxs)("div",{className:"btns",children:[("pending"===n.status||"inProgress"===n.status)&&Object(h.jsx)(m.b,{className:"dispute",to:"#",onClick:function(){return u(!0)},children:"Manual verification"}),"released"===n.status&&Object(h.jsx)(m.b,{className:"released",to:"#",children:"Released"}),"dispute"===n.status&&Object(h.jsx)(m.b,{className:"disputed",to:"#",children:"Dispute"})]}):Object(h.jsxs)("div",{className:"btns",children:["pending"===n.status&&Object(h.jsx)(m.b,{to:"/account/hold/".concat(n._id,"/approve"),onClick:function(){fetch("/api/approveMilestone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({milestone_id:n._id,amount:n.amount})}).then((function(e){return e.json()})).then((function(e){"ok"===e.code?a((function(e){var t=Object(f.a)(e),a=t.findIndex((function(e){return e._id===n._id}));return t[a]=Object(v.a)(Object(v.a)({},n),{},{client:e[a].client}),t})):403===e.code?g(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return g(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not approve milestone due to low balance."})]})]})):g(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return g(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not approve milestone. Please try again."})]})]}))})).catch((function(e){console.log(e),g(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return g(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not approve milestone. Make sure you're online"})]})]}))}))},children:"Approve"}),"inProgress"===n.status&&Object(h.jsx)(m.b,{onClick:function(){return r(!0)},to:"/account/hold/".concat(n._id,"/release"),children:"Release"}),"released"===n.status&&Object(h.jsx)(m.b,{className:"dispute",to:"#",onClick:function(){return u(!0)},children:"Manual verification"}),"dispute"===n.status&&Object(h.jsx)(m.b,{className:"disputeRes",to:"#",onClick:function(){return u(!0)},children:"Approve Dispute"}),Object(h.jsx)(y,{open:p,className:"msg",children:p})]})]}),Object(h.jsxs)(y,{open:l,className:"milestoneReleaseForm",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Release Money"}),Object(h.jsx)("button",{onClick:function(){return r(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(R,{milestone:n,setReleaseForm:r,onSuccess:function(e){a((function(t){var n=Object(f.a)(t),a=n.findIndex((function(t){return t._id===e._id}));return n[a]=Object(v.a)(Object(v.a)({},e),{},{client:t[a].client,role:t[a].role}),n})),r(!1)}})]}),Object(h.jsxs)(y,{open:b,className:"disputeForm",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Manual Verification"}),Object(h.jsx)("button",{onClick:function(){return u(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(q,{milestone:n,setDisputeForm:u,onSuccess:function(e){a((function(t){var n=Object(f.a)(t),a=n.findIndex((function(t){return t._id===e._id}));return n[a]=Object(v.a)(Object(v.a)({},e),{},{client:t[a].client,role:t[a].role}),n})),u(!1)}})]})]},n._id)},E=function(e){e.history,e.location,e.match;var t=Object(i.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)(""),l=Object(j.a)(s,2),r=l[0],o=l[1],d=Object(i.useState)(null),b=Object(j.a)(d,2),u=b[0],O=b[1];return Object(i.useEffect)((function(){fetch("/api/milestone").then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){console.log(e),O(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return O(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not update milestones."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"holdContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)("h4",{children:"Secure your transactions"}),Object(h.jsx)("p",{children:"All payments and transactions come here"})]}),Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{children:"Milestone Status"}),Object(h.jsx)("div",{className:"filters",children:Object(h.jsxs)("div",{className:"date",children:[Object(h.jsx)("input",{type:"date",value:r,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",width:"30.971",height:"30.971",viewBox:"0 0 30.971 30.971",children:Object(h.jsx)("path",{id:"Path_299","data-name":"Path 299",d:"M3.992,2.42H6.775V.968a.968.968,0,1,1,1.936,0V2.42H22.26V.968a.968.968,0,1,1,1.936,0V2.42h2.783a4,4,0,0,1,3.992,3.992V26.978a4,4,0,0,1-3.992,3.992H3.992A4,4,0,0,1,0,26.978V6.412A4,4,0,0,1,3.992,2.42ZM26.978,4.355H24.2v.968a.968.968,0,1,1-1.936,0V4.355H8.71v.968a.968.968,0,1,1-1.936,0V4.355H3.992A2.059,2.059,0,0,0,1.936,6.412v2.3h27.1v-2.3A2.059,2.059,0,0,0,26.978,4.355ZM3.992,29.035H26.978a2.059,2.059,0,0,0,2.057-2.057V10.646H1.936V26.978A2.059,2.059,0,0,0,3.992,29.035Z",fill:"#336cf9"})})]})})]}),Object(h.jsxs)("ul",{className:"milestones",children:[a.map((function(e,t){return Object(h.jsx)(T,{milestone:e,setMilestones:c},t)})),0===a.length&&Object(h.jsx)("p",{className:"placeholder",children:"No transaction yet."})]}),Object(h.jsx)(y,{className:"msg",open:u,children:u})]})},U=function(e){var t,n,a,c,s=e.transaction,l=Object(i.useContext)(b).user;return Object(h.jsxs)("li",{className:"transaction ".concat(s.amount>0?"in":"out"),children:[Object(h.jsx)("div",{className:"transactionDetail",children:Object(h.jsx)("div",{className:"profile",children:s.client?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:null===(t=s.client._id)||void 0===t?void 0:t.profileImg}),Object(h.jsx)("p",{className:"name",children:s.client.firstName+" "+s.client.lastName})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:l.profileImg}),Object(h.jsx)("p",{className:"name",children:l.firstName+" "+l.lastName})]})})}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Role"}),"-",Object(h.jsx)("p",{className:"role",children:s.amount>0?"Seller":"Buyer"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Product detail"}),"-",Object(h.jsx)("p",{children:s.dscr||"-"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Transaction ID"}),"-",Object(h.jsx)("p",{children:s._id})]})]}),Object(h.jsxs)("ul",{className:"amountDate",children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Amount"}),"-",Object(h.jsx)("p",{className:"amount",children:s.amount})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Delivery pay Hold Date"}),"-",Object(h.jsx)("p",{children:Object(h.jsx)(F.a,{format:"MMM DD, YYYY, hh:mm a",children:s.createdAt})})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Released Date"}),"-",Object(h.jsx)("p",{children:Object(h.jsx)(F.a,{format:"MMM DD, YYYY, hh:mm a",children:(null===(n=s.milestoneId)||void 0===n?void 0:n.releaseDate)||"--"})})]})]}),Object(h.jsxs)("ul",{className:"statusMethod",children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Status"}),"-",Object(h.jsx)("p",{className:"status",children:(null===(a=s.milestoneId)||void 0===a?void 0:a.status)||"--"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Released to"}),"-",Object(h.jsx)("p",{children:s.amount<0?"Seller":"--"})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:"Verification Method"}),"-",Object(h.jsx)("p",{children:(null===(c=s.milestoneId)||void 0===c?void 0:c.verification)||"--"})]})]})]})},W=function(e){e.history,e.location,e.match;var t=Object(i.useState)([]),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)(null),l=Object(j.a)(s,2),r=l[0],o=l[1];return Object(i.useEffect)((function(){fetch("/api/transactions?type=P2PTransaction").then((function(e){if(200===e.status)return e.json()})).then((function(e){e&&c(e)})).catch((function(e){console.log(e),o(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return o(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not get transactions."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"transcationContainer",children:[Object(h.jsx)("p",{className:"benner",children:"Completed Delivery pay Hold Transactions"}),Object(h.jsxs)("ul",{className:"transactions",children:[a.map((function(e){return Object(h.jsx)(U,{transaction:e},e._id)})),0===a.length&&Object(h.jsx)("p",{className:"placeholder",children:"No transaction yet."})]}),Object(h.jsx)(y,{className:"msg",open:r,children:r})]})},I=n(22),V=n.n(I);function H(){var e=V()().format("HH");return e>=3&&e<12?"Good Morning":e>=12&&e<15?"Good Afternoon":e>=15&&e<20?"Good Evening":e>=20&&e<3?"Good Night":"Hello"}var G=function(e){var t=e.label,n=e.action,a=Object(i.useContext)(b),c=a.user;a.setUser;return Object(h.jsxs)("div",{className:"paymentOptions",children:[Object(h.jsx)("p",{className:"label",children:t}),Object(h.jsxs)("div",{className:"options",children:[c.paymentMethods.map((function(e,t){return Object(h.jsxs)(i.Fragment,{children:["BankCard"===e.__t&&Object(h.jsx)(K,{card:e,onClick:function(e){return n(e)}}),"BankAccount"===e.__t&&Object(h.jsx)(X,{account:e,onClick:function(e){return n(e)}})]},e._id)})),0===c.paymentMethods.length&&Object(h.jsx)("div",{className:"placeholder",children:"No payment method added."})]}),Object(h.jsx)(m.b,{className:"addMethodLink",to:"addMoney/addPaymentMethod",children:"Add payment method"})]})},J=function(e){var t=e.onSuccess,n=Object(i.useState)("upi"),a=Object(j.a)(n,2),c=a[0],s=a[1];return Object(h.jsxs)("div",{className:"addPaymentMethod",children:[Object(h.jsxs)("section",{className:"paymentOption",children:[Object(h.jsxs)("div",{className:"header",onClick:function(){return s("upi")},children:[Object(h.jsx)("div",{className:"redial ".concat("upi"===c&&"active"),children:Object(h.jsx)("div",{className:"fill"})}),Object(h.jsxs)("label",{children:["UPI ",Object(h.jsx)("img",{src:"/payment_upi.png"})]})]}),"upi"===c&&Object(h.jsx)(Y,{})]}),Object(h.jsxs)("section",{className:"paymentOption",children:[Object(h.jsxs)("div",{className:"header",onClick:function(){return s("bankCard")},children:[Object(h.jsx)("div",{className:"redial ".concat("bankCard"===c&&"active"),children:Object(h.jsx)("div",{className:"fill"})}),Object(h.jsxs)("label",{children:["Add Debit/Credit Card ",Object(h.jsx)("img",{src:"/payment_visa.png"})," ",Object(h.jsx)("img",{src:"/payment_mc.png"})]})]}),"bankCard"===c&&Object(h.jsx)(z,{onSuccess:t})]}),Object(h.jsxs)("section",{className:"paymentOption",children:[Object(h.jsxs)("div",{className:"header",onClick:function(){return s("netBanking")},children:[Object(h.jsx)("div",{className:"redial ".concat("netBanking"===c&&"active"),children:Object(h.jsx)("div",{className:"fill"})}),Object(h.jsx)("label",{children:"Net Banking"})]}),"netBanking"===c&&Object(h.jsx)($,{onSuccess:t})]})]})},Y=function(){var e=Object(i.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)("form",{className:"paymentMethodForm upi",onSubmit:function(e){e.preventDefault(),a("Coming soon!")},children:[Object(h.jsx)("label",{children:"Please enter your UPI ID"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("input",{type:"text",value:n,required:!0,name:"upiId",onChange:function(e){return a(e.target.value)},placeholder:"Ex: MobileNumber@upi"}),Object(h.jsx)("button",{type:"submit",children:"Verify"})]})]})},z=function(e){var t=e.prefill,n=e.onSuccess,a=Object(i.useContext)(b).setUser,c=Object(i.useState)((null===t||void 0===t?void 0:t.brand)||null),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)((null===t||void 0===t?void 0:t.nameOnCard)||""),d=Object(j.a)(o,2),u=d[0],O=d[1],m=Object(i.useState)((null===t||void 0===t?void 0:t.cardNumber)||""),x=Object(j.a)(m,2),p=x[0],g=x[1],w=Object(i.useState)(""),C=Object(j.a)(w,2),P=C[0],_=C[1],M=Object(i.useState)(""),S=Object(j.a)(M,2),L=S[0],Z=S[1],D=Object(i.useState)((null===t||void 0===t?void 0:t.cvv)||""),A=Object(j.a)(D,2),B=A[0],F=A[1],R=Object(i.useState)(!1),q=Object(j.a)(R,2),T=q[0],E=q[1],U=function(){for(var e=(new Date).getFullYear(),t=[],n=0;n<15;n++)t.push({label:e+n,value:(e+n).toString().substr(2)});return t}(),W=Object(i.useState)(null),I=Object(j.a)(W,2),V=I[0],H=I[1];Object(i.useEffect)((function(){}),[L,P]);return Object(h.jsxs)("form",{className:"paymentMethodForm bankCard",onSubmit:function(e){if(e.preventDefault(),null===l)return E(!0),void setTimeout((function(){return E(!1)}),1500);fetch(t?"/api/editPaymentMethod":"/api/addPaymentMethod",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(v.a)({type:"BankCard",brand:l,name:u,cardNumber:p,exp:"".concat(P,"/").concat(L),cvv:B},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){var c=e.paymentMethod;c?(a(t?function(e){return Object(v.a)(Object(v.a)({},e),{},{paymentMethods:e.paymentMethods.map((function(e){return e._id===c._id?c:e}))})}:function(e){return Object(v.a)(Object(v.a)({},e),{},{paymentMethods:[].concat(Object(f.a)(e.paymentMethods),[c])})}),null===n||void 0===n||n(c)):H(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return H(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsxs)("h4",{children:["Payment method could not be ",t?"updated":"added",". Please try again."]})]})]}))})).catch((function(e){console.log(e),H(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return H(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Error happaned. Make sure you're online."})]})]}))}))},children:[!t&&Object(h.jsx)("p",{className:"note",children:"We\u2019ll save this card for your convenience. Remove it by going to Your Account section"}),Object(h.jsxs)("section",{className:"inputs",children:[Object(h.jsx)("input",{type:"text",name:"name",placeholder:"Name on your card",value:u,onChange:function(e){return O(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"number",name:"cardNumber",placeholder:"Card Number",value:p,onChange:function(e){e.target.value.match(/^3[47][0-9]{13}$/)?r("amex"):e.target.value.match(/^4[0-9]{12}(?:[0-9]{3})?$$/)?r("visa"):e.target.value.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/)?r("masterCard"):r(null),g(e.target.value)},required:!0}),Object(h.jsxs)("section",{className:"exp",children:[Object(h.jsx)("label",{children:"Expiry Date"}),Object(h.jsx)(k,{placeholder:"Month",options:[{label:"Jan",value:"01"},{label:"Feb",value:"02"},{label:"Mar",value:"03"},{label:"Apr",value:"04"},{label:"May",value:"05"},{label:"Jun",value:"06"},{label:"Jul",value:"07"},{label:"Aug",value:"08"},{label:"Sep",value:"09"},{label:"Oct",value:"10"},{label:"Nov",value:"11"},{label:"Dec",value:"12"}],required:!0,onChange:function(e){return _(e.value)}}),Object(h.jsx)(k,{placeholder:"Year",options:U,required:!0,onChange:function(e){return Z(e.value)}})]}),Object(h.jsxs)("section",{className:"cvv",children:[Object(h.jsx)("label",{children:"CVV"}),Object(h.jsx)("input",{type:"number",name:"cvv",required:!0,value:B,onChange:function(e){return F(e.target.value)}})]})]}),Object(h.jsx)("button",{children:"Save"}),T&&Object(h.jsx)("p",{className:"cardErr",children:"Enter valid Visa/MasterCard"}),Object(h.jsx)(y,{className:"msg",open:V,children:V})]})},$=function(e){var t=e.prefill,n=e.onSuccess,a=Object(i.useContext)(b).setUser,c=Object(i.useState)((null===t||void 0===t?void 0:t.bank)||""),s=Object(j.a)(c,2),l=s[0],r=s[1],o=Object(i.useState)((null===t||void 0===t?void 0:t.name)||""),d=Object(j.a)(o,2),u=d[0],O=d[1],m=Object(i.useState)((null===t||void 0===t?void 0:t.ifsc)||""),x=Object(j.a)(m,2),p=x[0],g=x[1],w=Object(i.useState)(null),C=Object(j.a)(w,2),P=C[0],k=C[1],_=Object(i.useState)((null===t||void 0===t?void 0:t.accountNumber)||""),M=Object(j.a)(_,2),S=M[0],L=M[1];return Object(h.jsxs)("form",{className:"paymentMethodForm netBanking",onSubmit:function(e){e.preventDefault(),fetch(t?"/api/editPaymentMethod":"/api/addPaymentMethod",{method:t?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(v.a)({type:"BankAccount",name:u,bank:l,ifsc:p,accountNumber:S},t&&{_id:t._id}))}).then((function(e){return e.json()})).then((function(e){var c=e.paymentMethod;c?(a(t?function(e){return Object(v.a)(Object(v.a)({},e),{},{paymentMethods:e.paymentMethods.map((function(e){return e._id===c._id?c:e}))})}:function(e){return Object(v.a)(Object(v.a)({},e),{},{paymentMethods:[].concat(Object(f.a)(e.paymentMethods),[c])})}),null===n||void 0===n||n(c)):k(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return k(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not update payment method. Please try again."})]})]}))})).catch((function(e){console.log(e),k(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return k(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not updated payment method. Make sure you're online."})]})]}))}))},children:[Object(h.jsxs)("section",{className:"inputs",children:[Object(h.jsx)("input",{type:"text",name:"bank",placeholder:"Bank",value:l,onChange:function(e){return r(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"text",name:"name",placeholder:"Full name",value:u,onChange:function(e){return O(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"text",name:"ifsc",placeholder:"IFSC",value:p,onChange:function(e){return g(e.target.value)},required:!0}),Object(h.jsx)("input",{type:"text",name:"accountNumber",placeholder:"Account Number",value:S,onChange:function(e){return L(e.target.value)},required:!0})]}),Object(h.jsx)("button",{type:"submit",children:"Save"}),Object(h.jsx)(y,{open:P,className:"msg",children:P})]})},K=function(e){var t=e.card,n=e.onClick;return Object(h.jsxs)("div",{className:"paymentMethod card",onClick:function(){return null===n||void 0===n?void 0:n(t)},children:[Object(h.jsx)("img",{className:"logo",src:"visa"===t.brand?"/payment_visa.png":"/payment_ms.png"}),Object(h.jsxs)("p",{className:"cardNumber",children:["**** **** **** **** ",t.cardNumber.substr(-4)]}),Object(h.jsx)("p",{className:"cardHolder",children:t.nameOnCard}),Object(h.jsx)("p",{className:"exp",children:t.exp})]})},X=function(e){var t=e.account,n=e.onClick;return Object(h.jsxs)("div",{className:"paymentMethod bankAccount",onClick:function(){return null===n||void 0===n?void 0:n(t)},children:[Object(h.jsx)("p",{className:"bank",children:t.bank}),Object(h.jsx)("p",{className:"name",children:t.name}),Object(h.jsx)("p",{className:"accountNumber",children:t.accountNumber}),Object(h.jsx)("p",{className:"ifsc",children:t.ifsc})]})},Q=function(e){var t=e.paymentMethods,n=Object(i.useRef)(null),a=Object(i.useState)({}),c=Object(j.a)(a,2),s=c[0],l=c[1],r=Object(i.useState)({}),o=Object(j.a)(r,2),d=o[0],b=o[1],u=Object(i.useState)(0),O=Object(j.a)(u,2),m=O[0],x=O[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),g=p[0],v=p[1];return Object(i.useLayoutEffect)((function(){var e=n.current.getBoundingClientRect().width;l({width:e,height:.55*e}),b({transform:"translateX(".concat(-e*m,"px)")})}),[m]),Object(h.jsxs)("div",{className:"savedCards",children:[Object(h.jsx)("p",{className:"label",children:"Saved Cards"}),Object(h.jsxs)("div",{className:"wrapper",ref:n,children:[Object(h.jsxs)("ul",{className:"cards",style:d,children:[t.map((function(e,t){return Object(h.jsxs)("li",{style:s,children:[e._id&&"BankCard"===e.__t&&Object(h.jsx)(K,{card:e}),e._id&&"BankAccount"===e.__t&&Object(h.jsx)(X,{account:e})]},t)})),0===t.length&&Object(h.jsx)("li",{style:s,children:Object(h.jsx)("p",{className:"placeholder",children:"No payment method added."})})]}),Object(h.jsx)("button",{className:"addPaymentMethod",onClick:function(){return v(!0)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15.999",viewBox:"0 0 16 15.999",children:Object(h.jsx)("path",{id:"Union_1","data-name":"Union 1",d:"M-4613,16V9h-7V7h7V0h2V7h7V9h-7v7Z",transform:"translate(4620)",fill:"#2699fb"})})})]}),m>0&&Object(h.jsx)("button",{className:"prev",onClick:function(){return x((function(e){return e-1}))},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.818",height:"44.147",viewBox:"0 0 31.818 44.147",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("filter",{id:"Path_217",x:"0",y:"0",width:"31.818",height:"44.147",filterUnits:"userSpaceOnUse",children:[Object(h.jsx)("feOffset",{dx:"-3",dy:"3",input:"SourceAlpha"}),Object(h.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),Object(h.jsx)("feFlood",{floodOpacity:"0.161"}),Object(h.jsx)("feComposite",{operator:"in",in2:"blur"}),Object(h.jsx)("feComposite",{in:"SourceGraphic"})]})}),Object(h.jsx)("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",filter:"url(#Path_217)",children:Object(h.jsxs)("g",{id:"Path_217-2","data-name":"Path 217",transform:"translate(27.32 4.5) rotate(90)",fill:"#858585",children:[Object(h.jsx)("path",{d:"M 27.53220176696777 15.71776485443115 C 26.13888931274414 15.2262544631958 24.10462951660156 14.50919151306152 22.07958030700684 13.79734325408936 C 14.74783992767334 11.22007274627686 14.70039939880371 11.22007274627686 14.5736198425293 11.22007274627686 C 14.44684028625488 11.22007274627686 14.39939975738525 11.22007274627686 7.067659854888916 13.79734325408936 C 5.042610645294189 14.50919151306152 3.00835108757019 15.2262544631958 1.615038275718689 15.71776485443115 L 14.5736198425293 0.7635064125061035 L 27.53220176696777 15.71776485443115 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 14.5736198425293 1.526998519897461 L 3.229276657104492 14.61841773986816 C 4.349065780639648 14.22377777099609 5.627307891845703 13.77366733551025 6.901840209960938 13.32564258575439 C 14.31408023834229 10.72007274627686 14.33368015289307 10.72007274627686 14.5736198425293 10.72007274627686 C 14.81355953216553 10.72007274627686 14.83315944671631 10.72007274627686 22.24539947509766 13.32564258575439 C 23.51993179321289 13.77366733551025 24.79817390441895 14.22377777099609 25.9179630279541 14.61841773986816 L 14.5736198425293 1.526998519897461 M 14.5736198425293 1.9073486328125e-06 L 29.14723968505859 16.81802368164063 C 29.14723968505859 16.81802368164063 14.71584987640381 11.72007274627686 14.5736198425293 11.72007274627686 C 14.43138980865479 11.72007274627686 0 16.81802368164063 0 16.81802368164063 L 14.5736198425293 1.9073486328125e-06 Z",stroke:"none",fill:"#858585"})]})})]})}),m+1<t.length&&Object(h.jsx)("button",{className:"next",onClick:function(){return x((function(e){return e+1}))},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.818",height:"44.147",viewBox:"0 0 31.818 44.147",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("filter",{id:"Path_217",x:"0",y:"0",width:"31.818",height:"44.147",filterUnits:"userSpaceOnUse",children:[Object(h.jsx)("feOffset",{dx:"-3",dy:"3",input:"SourceAlpha"}),Object(h.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),Object(h.jsx)("feFlood",{floodOpacity:"0.161"}),Object(h.jsx)("feComposite",{operator:"in",in2:"blur"}),Object(h.jsx)("feComposite",{in:"SourceGraphic"})]})}),Object(h.jsx)("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",filter:"url(#Path_217)",children:Object(h.jsxs)("g",{id:"Path_217-2","data-name":"Path 217",transform:"translate(27.32 4.5) rotate(90)",fill:"#858585",children:[Object(h.jsx)("path",{d:"M 27.53220176696777 15.71776485443115 C 26.13888931274414 15.2262544631958 24.10462951660156 14.50919151306152 22.07958030700684 13.79734325408936 C 14.74783992767334 11.22007274627686 14.70039939880371 11.22007274627686 14.5736198425293 11.22007274627686 C 14.44684028625488 11.22007274627686 14.39939975738525 11.22007274627686 7.067659854888916 13.79734325408936 C 5.042610645294189 14.50919151306152 3.00835108757019 15.2262544631958 1.615038275718689 15.71776485443115 L 14.5736198425293 0.7635064125061035 L 27.53220176696777 15.71776485443115 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 14.5736198425293 1.526998519897461 L 3.229276657104492 14.61841773986816 C 4.349065780639648 14.22377777099609 5.627307891845703 13.77366733551025 6.901840209960938 13.32564258575439 C 14.31408023834229 10.72007274627686 14.33368015289307 10.72007274627686 14.5736198425293 10.72007274627686 C 14.81355953216553 10.72007274627686 14.83315944671631 10.72007274627686 22.24539947509766 13.32564258575439 C 23.51993179321289 13.77366733551025 24.79817390441895 14.22377777099609 25.9179630279541 14.61841773986816 L 14.5736198425293 1.526998519897461 M 14.5736198425293 1.9073486328125e-06 L 29.14723968505859 16.81802368164063 C 29.14723968505859 16.81802368164063 14.71584987640381 11.72007274627686 14.5736198425293 11.72007274627686 C 14.43138980865479 11.72007274627686 0 16.81802368164063 0 16.81802368164063 L 14.5736198425293 1.9073486328125e-06 Z",stroke:"none",fill:"#858585"})]})})]})}),Object(h.jsxs)(y,{className:"paymentMethodsForm",open:g,children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Payment Method"}),Object(h.jsx)("button",{onClick:function(){return v(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(J,{onSuccess:function(e){v(!1)}})]})]})},ee=function(){var e=Object(i.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(null),s=Object(j.a)(c,2),l=s[0],r=s[1];return Object(i.useEffect)((function(){fetch("/api/transactions").then((function(e){if(200===e.status)return e.json()})).then((function(e){e?a(e):r(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return r(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not get transactions"})]})]}))})).catch((function(e){console.log(e),r(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return r(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Error happened. Make sure you're online."})]})]}))}))}),[]),Object(h.jsxs)("div",{className:"transactions",children:[Object(h.jsx)("div",{className:"head",children:Object(h.jsx)("p",{children:"All Transaction History"})}),Object(h.jsxs)("ul",{className:"allTransactions",children:[n.map((function(e){return Object(h.jsx)(te,{transaction:e},e._id)})),0===n.length&&Object(h.jsx)("p",{className:"placeholder",children:"No transaction yet."})]}),Object(h.jsx)(y,{className:"msg",open:l,children:l})]})},te=function(e){var t,n,a=e.transaction,c=null;switch(a.__t){case"AddMoney":c=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:[Object(h.jsx)("line",{id:"Line_29","data-name":"Line 29",y2:"20",transform:"translate(10)",fill:"none",stroke:"#006dff",strokeWidth:"2"}),Object(h.jsx)("line",{id:"Line_30","data-name":"Line 30",x2:"20",transform:"translate(0 10)",fill:"none",stroke:"#006dff",strokeWidth:"2"})]})}),Object(h.jsx)("p",{className:"detail",children:"Money added to wallet"})]});break;case"WithdrawMoney":c=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:Object(h.jsx)("line",{id:"Line_30","data-name":"Line 30",x2:"20",transform:"translate(0 10)",fill:"none",stroke:"#006dff",strokeWidth:"2"})})}),Object(h.jsx)("p",{className:"detail",children:"Money withdrawal from Wallet"})]});break;case"P2PTransaction":c=a.amount<0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(h.jsx)("g",{id:"Symbol_82","data-name":"Symbol 82",transform:"translate(-507 1272) rotate(-90)",children:Object(h.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z",transform:"translate(1254 507)",fill:"#336cf9"})})})}),Object(h.jsxs)("p",{className:"detail",children:["Paid to"," ",Object(h.jsx)("span",{className:"userName",children:(null===(t=a.client)||void 0===t?void 0:t.firstName)+" "+(null===(n=a.client)||void 0===n?void 0:n.lastName)})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(h.jsx)("g",{id:"_1","data-name":" 1",transform:"translate(525 -1254) rotate(90)",children:Object(h.jsx)("path",{id:"Path_10","data-name":"Path 10",d:"M9,0,7.364,1.636l6.195,6.195H0v2.338H13.558L7.364,16.364,9,18l9-9Z",transform:"translate(1254 507)",fill:"#ff0080"})})})}),Object(h.jsxs)("p",{className:"detail",children:["Received from"," ",Object(h.jsx)("span",{className:"userName",children:a.client.firstName+" "+a.client.lastName})]})]});break;default:c=null}return Object(h.jsxs)("li",{className:"transaction",children:[c,Object(h.jsxs)("p",{className:"amount",children:["\u20b9",Math.abs(a.amount)]})]})},ne=function(e){var t=e.history,n=e.location,a=(e.match,Object(i.useContext)(b)),c=a.user,s=a.setUser,l=Object(i.useState)(0),r=Object(j.a)(l,2),o=r[0],d=r[1],u=Object(i.useState)(""),O=Object(j.a)(u,2),m=O[0],x=O[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),g=p[0],w=p[1],C=Object(i.useState)(!1),P=Object(j.a)(C,2),k=(P[0],P[1]),_=Object(i.useState)(""),M=Object(j.a)(_,2),S=M[0],L=M[1],Z=Object(i.useState)(!1),D=Object(j.a)(Z,2),A=D[0],B=D[1],R=Object(i.useState)(!1),q=Object(j.a)(R,2),T=q[0],E=q[1],U=Object(i.useState)(!1),W=Object(j.a)(U,2),I=(W[0],W[1],Object(i.useState)(!1)),V=Object(j.a)(I,2),Y=V[0],z=V[1],$=Object(i.useState)(null),K=Object(j.a)($,2),X=K[0],te=K[1],ne=function(e,n){var a=window.Razorpay;if(a){var s=new a({key:"rzp_test_bLCP8mfYRRYzX5",amount:e.amount,currency:e.currency,name:"".concat(c.firstName," ").concat(c.lastName),description:"add money to wallet",image:"/logo.svg",order_id:e.id,handler:function(e){fetch("/api/addMoney",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionId:e.razorpay_payment_id})}).then((function(e){return e.json()})).then((function(e){var n=e.code,a=(e.user,e.transaction);e.message;"ok"===n?(t.push("/account/wallet"),k(!1),w(a),d((function(e){return e+a.amount})),x(""),z(!1)):te(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return te(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Error happend. Make sure you're payment details are correct."})]})]}))})).catch((function(e){console.log(e),k(!0)}))},modal:{ondismiss:function(){return z(!1)}},theme:{color:"#336cf9"},options:{checkout:{prefill:{method:"card","card[name]":n.nameOnCard,"card[number]":n.cardNumber,"card[expiry]":n.exp,"card[cvv]":n.cvv}}}});s.on("payment.failed",(function(e){k(!0),z(!1)})),s.open()}};return Object(i.useEffect)((function(){!function(e){new Promise((function(t,n){if(document.querySelector('script[src="'.concat(e,'"]')))t(!0);else{var a=document.createElement("script");a.src=e,document.body.appendChild(a),a.onload=function(){return t(!0)},a.onerror=function(){return n(!0)}}}))}("https://checkout.razorpay.com/v1/checkout.js"),fetch("/api/viewUserProfile").then((function(e){return e.json()})).then((function(e){d((null===e||void 0===e?void 0:e.balance)||0),s((function(t){return Object(v.a)(Object(v.a)({},t),{},{paymentMethods:e.paymentMethods})}))})).catch((function(e){console.log(e),te(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return te(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not update balance."})]})]}))}))}),[]),Object(i.useEffect)((function(){m||t.push("/account/wallet"),S||t.push("/account/wallet"),z(!1)}),[m,S]),Object(h.jsxs)("div",{className:"walletContainer",children:[Object(h.jsxs)("div",{className:"leftSection",children:[Object(h.jsxs)("div",{className:"nameTag",children:[Object(h.jsxs)("h2",{children:["Hello ",c.firstName,","]}),Object(h.jsx)("p",{className:"greetings",children:H()})]}),Object(h.jsx)("div",{className:"balance",children:Object(h.jsxs)("div",{className:"currentBalance",children:[Object(h.jsx)("p",{className:"label",children:"Wallet Balance"}),Object(h.jsxs)("h1",{children:["\u20b9 ",o]}),Object(h.jsx)("p",{className:"updateTime",children:Object(h.jsx)(F.a,{format:"ddd, DD MM YYYY",children:new Date})})]})}),Object(h.jsxs)("div",{className:"addWithdraw",children:[Object(h.jsxs)("div",{className:"add money",children:[Object(h.jsx)("p",{className:"label",children:"Add Money"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.push("/account/wallet/addMoney")},children:[Object(h.jsx)("input",{type:"number",step:"0.01",min:"10",value:m,onChange:function(e){return x(e.target.value)},placeholder:"Enter ammount",required:!0}),Object(h.jsx)("button",{children:"Proceed"})]})]}),Object(h.jsxs)("div",{className:"withdraw money",children:[Object(h.jsx)("p",{className:"label",children:"Withdraw"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.push("/account/wallet/withdrawMoney")},children:[Object(h.jsx)("input",{type:"number",step:"0.01",min:"10",placeholder:"Enter ammount",required:!0,value:S,onChange:function(e){return L(e.target.value)}}),Object(h.jsx)("button",{children:"Proceed"})]})]})]}),Object(h.jsxs)("div",{className:"rewards",children:[Object(h.jsx)("p",{className:"label",children:"Rewards"}),Object(h.jsxs)("ul",{className:"cards",children:[Object(h.jsx)("li",{}),Object(h.jsx)("li",{}),Object(h.jsx)("li",{})]})]})]}),Object(h.jsxs)("div",{className:"rightSection",children:[Object(h.jsx)(Q,{paymentMethods:c.paymentMethods}),Object(h.jsx)(ee,{})]}),Object(h.jsxs)(y,{className:"addMoney",open:n.pathname.startsWith("/account/wallet/addMoney"),style:Y?{filter:"grayscale(.4)",pointerEvents:"none"}:{},children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Money"}),Object(h.jsx)("button",{onClick:function(){t.push("/account/wallet")},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(G,{label:"Choose a payment method.",action:function(e){z(!0),fetch("/api/createAddMoneyOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:m})}).then((function(e){return e.json()})).then((function(t){var n=t.order;z(!1),n?ne(n,e):te(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return te(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Error happend. Please try again."})]})]}))})).catch((function(e){console.log(e),z(!1),te(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return te(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Error happend. Make sure you're online."})]})]}))}))}})]}),Object(h.jsxs)(y,{className:"paymentMethodsForm",open:n.pathname.startsWith("/account/wallet/addMoney/addPaymentMethod"),children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add Payment Method"}),Object(h.jsx)("button",{onClick:function(){t.push("/account/wallet/addMoney")},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(J,{onSuccess:function(){return t.push("/account/wallet/addMoney")}})]}),Object(h.jsxs)(y,{className:"addMoney",open:n.pathname.startsWith("/account/wallet/withdrawMoney"),style:Y?{filter:"grayscale(.4)",pointerEvents:"none"}:{},children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Withdraw Money"}),Object(h.jsx)("button",{onClick:function(){t.push("/account/wallet")},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(G,{label:"Where do you want to recieve your money?",action:function(e){var n={method:"POST",headers:{"Content-Type":"application/json"}};switch(e.__t){case"BankCard":n.body=JSON.stringify({paymentMethod:e.__t,amount:S,accountDetail:{number:+e.cardNumber,name:e.nameOnCard}});break;case"BankAccount":n.body=JSON.stringify({paymentMethod:e.__t,amount:S,accountDetail:{name:e.name,ifsc:e.ifsc,account_number:e.accountNumber}});break;case"VpaAccount":n.body=JSON.stringify({paymentMethod:e.__t,amount:S,accountDetail:{address:e.address}});default:return}z(!0),fetch("/api/withdrawMoney",n).then((function(e){return e.json()})).then((function(e){z(!1),e.transaction?(s((function(t){return Object(v.a)(Object(v.a)({},t),{},{balance:t.balance-e.transaction.amount})})),d((function(t){return t-e.transaction.amount})),t.push("/account/wallet"),B(e.transaction)):E(!0)})).catch((function(e){console.log(e),z(!1),E(!0)}))}})]}),Object(h.jsxs)(y,{open:g,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){return w(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(h.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(h.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(h.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(h.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(h.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]}),Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===g||void 0===g?void 0:g.amount]}),Object(h.jsx)("h4",{children:"Money added!"})]})]}),Object(h.jsxs)(y,{open:A,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){return B(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#336cf9"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#1be6d6"})]}),Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"64",height:"64",fill:"none"})})]}),Object(h.jsxs)("g",{id:"Group_163","data-name":"Group 163",transform:"translate(-0.426 -0.384)",children:[Object(h.jsx)("g",{id:"Group_103","data-name":"Group 103",transform:"translate(0 0)",children:Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",transform:"translate(0.426 0.384)",fill:"url(#linear-gradient)"})}),Object(h.jsxs)("g",{id:"Component_148_2","data-name":"Component 148 \u2013 2",transform:"translate(47.426 58.384)",clipPath:"url(#clip-path)",children:[Object(h.jsx)("rect",{id:"Rectangle_460","data-name":"Rectangle 460",width:"64",height:"64",transform:"translate(0 0)",fill:"none"}),Object(h.jsx)("path",{id:"Checkbox",d:"M25.35,44.087,0,18.737l5.143-5.143L25.35,33.432,58.782,0l5.143,5.143Z",transform:"translate(0 1.728)",fill:"#fff"})]})]})]}),Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===A||void 0===A?void 0:A.amount]}),Object(h.jsx)("h4",{children:"Money withdrawed!"})]})]}),Object(h.jsxs)(y,{open:T,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){z(!1),E(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"linear-gradient-red",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient-red)"}),Object(h.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]}),Object(h.jsx)("h4",{children:"Could not withdraw money."})]})]}),Object(h.jsxs)(y,{open:!1,className:"msg",children:[Object(h.jsx)("button",{onClick:function(){return k(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"158",height:"158",viewBox:"0 0 158 158",children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"linear-gradient",x1:"-0.298",y1:"-0.669",x2:"1.224",y2:"1.588",gradientUnits:"objectBoundingBox",children:[Object(h.jsx)("stop",{offset:"0",stopColor:"#f93389"}),Object(h.jsx)("stop",{offset:"1",stopColor:"#e3003e"})]})}),Object(h.jsx)("rect",{id:"Rectangle_1104","data-name":"Rectangle 1104",width:"158",height:"158",rx:"79",fill:"url(#linear-gradient)"}),Object(h.jsx)("g",{id:"Component_85_8","data-name":"Component 85 \u2013 8",transform:"translate(49.472 49.472)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M29.527,34.9,5.368,59.057,0,53.686,24.158,29.527,0,5.368,5.368,0l24.16,24.158L53.686,0l5.371,5.368L34.9,29.527l24.16,24.158-5.371,5.371Z",fill:"#fff"})})]}),Object(h.jsx)("h4",{children:"Add money failed"})]})]}),Object(h.jsx)(y,{className:"msg",open:X,children:X})]})},ae=function(e){e.history,e.location,e.match;return Object(h.jsxs)("div",{className:"supportContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)(m.b,{className:"ticketLink",to:"/support/ticket",children:"My Tickets"}),Object(h.jsx)("h1",{children:"Support portal"}),Object(h.jsx)("p",{children:"Search for an answer or browse help topics to create a ticket"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("input",{type:"text",required:!0,placeholder:"Eg: How does the Delivery pay Hold Works"}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.336",height:"31.336",viewBox:"0 0 31.336 31.336",children:Object(h.jsx)("path",{id:"Path_1935","data-name":"Path 1935",d:"M25.4,22.708H23.98l-.5-.484a11.663,11.663,0,1,0-1.254,1.254l.484.5V25.4l8.958,8.94,2.67-2.67Zm-10.75,0a8.062,8.062,0,1,1,8.063-8.063A8.052,8.052,0,0,1,14.646,22.708Z",transform:"translate(-3 -3)",fill:"#707070"})})})]})]}),Object(h.jsxs)("div",{className:"feedback",children:[Object(h.jsxs)("form",{children:[Object(h.jsx)("textarea",{required:!0}),Object(h.jsx)("button",{children:"Submit"})]}),Object(h.jsx)(m.b,{className:"feedbackLink",to:"/support/myFeedbacks",children:"Submitted Feedbacks"})]})]})},ce=n(18),se=n.n(ce),le=n(58),ie=n(28);function re(){return(re=Object(ie.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/editUserProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(e){var t=e.label,n=e.fields,a=e.value,c=e.onError,s=Object(i.useContext)(b).setUser,l=Object(i.useState)(!1),r=Object(j.a)(l,2),o=r[0],d=r[1],u=Object(i.useRef)(null);return Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{className:"label",children:t}),Object(h.jsxs)("form",{ref:u,onSubmit:function(e){e.preventDefault();var t,n={},a=Object(le.a)(new FormData(e.target).entries());try{for(a.s();!(t=a.n()).done;){var l=Object(j.a)(t.value,2),i=l[0],r=l[1];n[i]=r}}catch(o){a.e(o)}finally{a.f()}n.password&&n.password!==n.confirm_password?null===c||void 0===c||c():(n["address.city"]&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;n["address.location"]={type:"Point",coordinates:[a,t]}})),fetch("/api/editUserProfile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){var t=e.user;t?(s(t),d(!1)):alert("someting went wrong")})).catch((function(e){console.log(e),alert("someting went wrong")})))},children:[o?Object(h.jsx)("div",{className:"inputs",children:n}):Object(h.jsx)("p",{className:"currentValue",children:a}),Object(h.jsx)("div",{className:"btns",children:o?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"submit",children:"Save changes"},"submit"),Object(h.jsx)("button",{type:"button",onClick:function(){return d(!1)},children:"Cancel"},"cancel")]}):Object(h.jsx)("button",{type:"button",onClick:function(){return d(!0)},children:"Edit"},"edit")})]})]})},de=function(e){e.history,e.match,e.location;var t,n,a,c,s=Object(i.useContext)(b),l=s.user,r=s.setUser,o=Object(i.useState)(!1),u=Object(j.a)(o,2),O=u[0],m=u[1],x=Object(i.useState)(!1),f=Object(j.a)(x,2),p=f[0],g=f[1],C=Object(i.useState)(null),P=Object(j.a)(C,2),k=P[0],_=P[1],M=Object(i.useCallback)((function(e){fetch("/api/deletePaymentMethod",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:e._id})}).then((function(e){return e.json()})).then((function(t){"ok"===t.code?r((function(t){return Object(v.a)(Object(v.a)({},t),{},{paymentMethods:t.paymentMethods.filter((function(t){return t._id!==e._id}))})})):_(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return _(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Payment method could not be deleted."})]})]}))}))}),[]),L=function(e){(function(e){return re.apply(this,arguments)})({googleId:e.googleId}).then((function(t){return r((function(t){return Object(v.a)(Object(v.a)({},t),{},{googleId:e.googleId})}))})).catch((function(e){console.log(e),_(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return _(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not connect Google account."})]})]}))}))};return Object(h.jsxs)("div",{className:"profileContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsxs)("div",{className:"profileImg",children:[Object(h.jsx)("img",{src:l.profileImg}),Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"91.832",height:"25.468",viewBox:"0 0 91.832 25.468",children:Object(h.jsxs)("g",{id:"Path_1937","data-name":"Path 1937",transform:"translate(15.429 -9.647)",fill:"#fff",children:[Object(h.jsx)("path",{d:"M 29.79687690734863 34.6146240234375 C 22.21588897705078 34.6146240234375 13.43720626831055 32.0111198425293 5.0779709815979 27.28368377685547 C -2.8753981590271 22.78578186035156 -9.78753662109375 16.7585563659668 -14.48426628112793 10.24203777313232 C -13.95890235900879 10.24473857879639 -13.30369663238525 10.25548648834229 -12.80753517150879 10.26361274719238 C -12.44524097442627 10.26955413818359 -12.15906429290771 10.27424812316895 -12.02891159057617 10.27424812316895 C -11.93940830230713 10.27424812316895 -11.86373233795166 10.26253128051758 -11.79978466033936 10.24241733551025 C -11.48864650726318 10.21196746826172 -10.04010391235352 10.17821311950684 -5.149840831756592 10.17821311950684 C -1.226676225662231 10.17821311950684 4.093100070953369 10.19837760925293 9.725229263305664 10.21973037719727 C 16.20444107055664 10.24428367614746 23.54814720153809 10.27211856842041 29.79687690734863 10.27211856842041 C 31.89767646789551 10.27211856842041 43.68988800048828 10.22107124328613 56.17448806762695 10.16702461242676 L 59.24650192260742 10.15374183654785 C 60.32665252685547 10.14907169342041 61.61424255371094 10.14680099487305 63.18285369873047 10.14680099487305 C 64.99295043945313 10.14680099487305 66.92156219482422 10.14978885650635 68.78666687011719 10.15269470214844 C 70.55825042724609 10.1554479598999 72.23158264160156 10.15804767608643 73.72422027587891 10.15804767608643 C 74.4501953125 10.15804767608643 75.08247375488281 10.1574182510376 75.63590240478516 10.15613842010498 C 74.24596405029297 13.15391826629639 71.95748138427734 16.1362361907959 68.82386779785156 19.03109550476074 C 65.67525482177734 21.9398250579834 61.6738166809082 24.71903610229492 57.25215911865234 27.06828308105469 C 52.91740798950195 29.37135314941406 48.15610122680664 31.27616500854492 43.48295974731445 32.57678985595703 C 38.69290161132813 33.90995407104492 33.96032333374023 34.6146240234375 29.79687690734863 34.6146240234375 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 63.18235397338867 10.64679336547852 C 61.61428070068359 10.64679336547852 60.32755279541016 10.64906692504883 59.24865341186523 10.65373229980469 L 56.18099212646484 10.6670036315918 C 43.69374084472656 10.72105407714844 31.89901733398438 10.77211761474609 29.79687881469727 10.77211761474609 C 23.54719161987305 10.77211761474609 16.2029914855957 10.74428176879883 9.723331451416016 10.71971893310547 C 4.091693878173828 10.69837951660156 -1.227619171142578 10.67821884155273 -5.149848937988281 10.67821884155273 C -9.844169616699219 10.67821884155273 -11.33226013183594 10.70873641967773 -11.7083740234375 10.73677062988281 C -11.80277252197266 10.76053237915039 -11.90915679931641 10.77424240112305 -12.0289306640625 10.77424240112305 C -12.16323089599609 10.77424240112305 -12.45131683349609 10.7695198059082 -12.81605529785156 10.76354217529297 C -13.01943206787109 10.76021194458008 -13.24966430664063 10.75643920898438 -13.48653411865234 10.75296401977539 C -8.851593017578125 16.903076171875 -2.239547729492188 22.57095718383789 5.324104309082031 26.84845542907715 C 13.60947799682617 31.53411865234375 22.30074310302734 34.11461639404297 29.79687881469727 34.11461639404297 C 33.91565704345703 34.11461639404297 38.60186767578125 33.41628265380859 43.34890747070313 32.0950927734375 C 47.98773193359375 30.80401802062988 52.71426773071289 28.91309356689453 57.0175666809082 26.62672996520996 C 61.40182876586914 24.29735565185547 65.3670654296875 21.5438175201416 68.48458099365234 18.6638298034668 C 71.32099151611328 16.04351997375488 73.45128631591797 13.35661125183105 74.83492279052734 10.65748596191406 C 74.4908447265625 10.65786743164063 74.12125396728516 10.65805435180664 73.72370147705078 10.65805435180664 C 72.23068237304688 10.65805435180664 70.55716705322266 10.65545654296875 68.78539276123047 10.65269470214844 C 66.92047119140625 10.6497917175293 64.9920654296875 10.64679336547852 63.18235397338867 10.64679336547852 M 63.18235778808594 9.646797180175781 C 66.69034576416016 9.646797180175781 70.639892578125 9.658050537109375 73.72370910644531 9.658050537109375 C 74.72272491455078 9.658050537109375 75.63052368164063 9.656867980957031 76.4033203125 9.653743743896484 C 70.7041015625 23.3221435546875 47.19384002685547 35.11461639404297 29.79687881469727 35.11461639404297 C 13.80905532836914 35.11461639404297 -5.7138671875 23.84020614624023 -15.427734375 9.772117614746094 C -15.45098876953125 9.749141693115234 -15.14891815185547 9.741405487060547 -14.71451568603516 9.741401672363281 C -13.8193359375 9.741401672363281 -12.36181640625 9.774246215820313 -12.02893829345703 9.774246215820313 C -11.98212432861328 9.774246215820313 -11.95759582519531 9.773597717285156 -11.9599609375 9.772117614746094 C -12.07225799560547 9.701694488525391 -9.402595520019531 9.678211212158203 -5.14984130859375 9.678211212158203 C 3.356430053710938 9.678211212158203 18.19854354858398 9.772117614746094 29.79687881469727 9.772117614746094 C 32.07231903076172 9.772117614746094 46.01445388793945 9.710941314697266 59.24433135986328 9.653743743896484 C 60.42824935913086 9.648624420166016 61.76977157592773 9.646797180175781 63.18235778808594 9.646797180175781 Z",stroke:"none",fill:"#336cf9"})]})}),Object(h.jsx)("input",{type:"file",accept:".jpg, .png, .jpeg",onChange:function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);r((function(e){return Object(v.a)(Object(v.a)({},e),{},{profileImg:t})}))}}}),Object(h.jsx)("label",{children:"Edit"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"name",children:l.firstName+" "+l.lastName}),Object(h.jsxs)("p",{className:"id",children:["Delivery pay ID: ",l.userId||l._id]})]})]}),Object(h.jsxs)("div",{className:"settings",children:[Object(h.jsx)("div",{className:"head",children:"Account Settings"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)(oe,{label:"Name",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"First name",defaultValue:l.firstName,name:"firstName",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"last name",defaultValue:l.lastName,name:"lastName",required:!0})})]}),value:l.firstName+" "+l.lastName}),Object(h.jsx)(oe,{label:"Phone Number",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Phone Number",defaultValue:l.phone,name:"phone",required:!0})})}),value:l.phone}),Object(h.jsx)(oe,{label:"Email",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Phone Number",defaultValue:l.email,name:"email",required:!0})})}),value:l.email}),Object(h.jsx)(oe,{label:"Password",onError:function(){return m(!0)},fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Password",name:"password",required:!0,type:"password",onChange:function(e){return m(!1)}})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Confirm password",name:"confirm_password",required:!0,type:"password",onChange:function(e){return m(!1)}})}),O&&Object(h.jsx)("p",{className:"errMsg",children:"Password did not match."})]}),value:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),Object(h.jsx)(oe,{label:"Gender",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{placeholder:"Gender",defaultValue:l.gender,name:"gender",required:!0})})}),value:l.gender}),Object(h.jsx)(oe,{label:"Age",fields:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"number",placeholder:"Age",defaultValue:l.age,name:"age",required:!0})})}),value:l.age}),Object(h.jsx)(oe,{label:"Address",fields:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"text",placeholder:"Address",defaultValue:l.address.street,name:"address.street",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"text",placeholder:"City",defaultValue:l.address.city,name:"address.city",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"text",placeholder:"State",defaultValue:l.address.state,name:"address.state",required:!0})}),Object(h.jsx)("section",{children:Object(h.jsx)("input",{type:"number",placeholder:"PIN Code",defaultValue:l.address.zip,name:"address.zip",required:!0})})]}),value:"".concat((null===(t=l.address)||void 0===t?void 0:t.street)||""," ").concat((null===(n=l.address)||void 0===n?void 0:n.city)||""," ").concat((null===(a=l.address)||void 0===a?void 0:a.state)||""," ").concat((null===(c=l.address)||void 0===c?void 0:c.zip)||"")})]})]}),Object(h.jsxs)("div",{className:"paymentMethods",children:[Object(h.jsx)("div",{className:"head",children:"Payment Methods"}),Object(h.jsx)("ul",{className:"methods",children:l.paymentMethods.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("button",{className:"edit",onClick:function(){return g(e.__t)},children:"Edit"}),Object(h.jsx)("button",{className:"delete",onClick:function(){return function(e){var t=e.label,n=e.question,a=e.callback,c=function(){return d.a.render(Object(h.jsx)(h.Fragment,{}),document.querySelector("#confirm"))},s=function(){return c()};d.a.render(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"modalBackdrop"}),Object(h.jsxs)("div",{className:"modal confirm ",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:t}),Object(h.jsx)("button",{onClick:s,children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("p",{className:"question",children:n}),Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("button",{className:"yes",onClick:function(){a(),c()},children:"Confirm"}),Object(h.jsx)("button",{className:"no",onClick:s,children:"Decline"})]})]})]})]}),document.querySelector("#confirm"))}({label:"Payment method delete",question:"Do you want to delete this payment method?",callback:function(){return M(e)}})},children:"Delete"})]}),"BankCard"===e.__t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(K,{card:e}),p===e.__t&&Object(h.jsxs)(y,{open:p,className:"editPaymentMethod",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Edit Payment Method"}),Object(h.jsx)("button",{onClick:function(){return g(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)(z,{prefill:e,onSuccess:function(e){e&&(g(!1),_(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return _(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Payment method updated."})]})]})))}})]})]}),"BankAccount"===e.__t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(X,{account:e}),p===e.__t&&Object(h.jsxs)(y,{open:p,className:"editPaymentMethod",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Edit Payment Method"}),Object(h.jsx)("button",{onClick:function(){return g(!1)},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.557",height:"15.557",viewBox:"0 0 15.557 15.557",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("clipPath",{id:"clip-path",children:Object(h.jsx)("rect",{width:"15.557",height:"15.557",fill:"none"})})}),Object(h.jsx)("g",{id:"Cancel",clipPath:"url(#clip-path)",children:Object(h.jsx)("path",{id:"Union_3","data-name":"Union 3",d:"M7.778,9.192,1.414,15.557,0,14.142,6.364,7.778,0,1.414,1.414,0,7.778,6.364,14.142,0l1.415,1.414L9.192,7.778l6.364,6.364-1.415,1.415Z",fill:"#2699fb"})})]})})]}),Object(h.jsx)($,{prefill:e,onSuccess:function(e){e&&(g(!1),_(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return _(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(w,{}),Object(h.jsx)("h4",{children:"Payment method updated."})]})]})))}})]})]})]},t)}))})]}),Object(h.jsxs)("div",{className:"socials",children:[Object(h.jsx)("div",{className:"head",children:"Connect Social Accounts"}),Object(h.jsx)("ul",{className:"providers",children:Object(h.jsx)(S.a,{disabled:l.googleId,className:"google",clientId:"978249749020-kjq65au1n373ur5oap7n4ebo2fq1jdhq.apps.googleusercontent.com",buttonText:"Connect with Google",onSuccess:L,onFailure:L,cookiePolicy:"single_host_origin"})})]}),Object(h.jsx)(y,{className:"msg",open:k,children:k})]})},je=n(27),he=n(59),be=Object(he.io)(),ue=function(e){var t=e.client,n=e.messages,a=e.lastSeen,c=e.userCard,s=Object(O.g)(),l=Object(i.useState)(n.filter((function(e){return new Date(e.createdAt)>new Date(a)})).length||!1),r=Object(j.a)(l,2),o=r[0],d=r[1];return Object(i.useEffect)((function(){(null===t||void 0===t?void 0:t._id)!==(null===c||void 0===c?void 0:c._id)?d(n.filter((function(e){return new Date(e.createdAt)>new Date(a)})).length||!1):d(!1)}),[n]),Object(h.jsx)("li",{className:t._id===(null===c||void 0===c?void 0:c._id)?"active":void 0,onClick:function(){s.push("/account/deals/".concat(t.phone))},children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:t.profileImg}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"name",children:t.firstName+" "+t.lastName}),n.length>0&&Object(h.jsx)("p",{className:"lastMessage",children:n[n.length-1].text}),o&&Object(h.jsx)("p",{className:"unread",children:o})]})]})})},Oe=function(e){var t=e.chat,n=(e.setChat,e.userCard),a=e.user,c=e.socket,s=Object(i.useRef)(null),l=Object(O.g)(),r=Object(i.useState)(""),o=Object(j.a)(r,2),d=o[0],b=o[1],u=Object(i.useState)([]),x=Object(j.a)(u,2),f=x[0],p=x[1],g=Object(i.useState)(null),v=Object(j.a)(g,2),P=v[0],k=v[1];return Object(i.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.scrollBy(0,9999999999999)}),[t]),Object(i.useEffect)((function(){c.on("connectedToRoom",(function(e){var t=e.rooms;p(t)}))}),[]),Object(i.useEffect)((function(){return f.length&&fetch("/api/updateLastSeen",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rooms:f})}),function(){f.length&&fetch("/api/updateLastSeen",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rooms:f})})}}),[f]),Object(h.jsxs)("div",{className:"chat",children:[t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"chatHead",children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:n.profileImg}),Object(h.jsx)("p",{className:"name",children:n.firstName+" "+n.lastName})]}),Object(h.jsx)(m.b,{className:"pay",to:"/account/deals/".concat(n.phone,"/pay"),children:"Pay"})]}),Object(h.jsx)("div",{className:"chatWrapper",ref:s,children:Object(h.jsx)("ul",{className:"chats",children:t.map((function(e,n){var c,s;if(!e)return null;var l=Math.abs(new Date(e.createdAt).getTime()-new Date(null===(c=t[n+1])||void 0===c?void 0:c.createdAt).getTime())>3e5,i=V()(e.createdAt).format("YYYY-MM-DD")!==V()(null===(s=t[n-1])||void 0===s?void 0:s.createdAt).format("YYYY-MM-DD")||0===n;return Object(h.jsxs)("li",{className:"bubble ".concat(e.from===a._id?"user":"client"),children:[i&&Object(h.jsx)(F.a,{className:"dateStamp",format:"MMM DD, YYYY",children:e.createdAt}),Object(h.jsx)("p",{className:"text",children:e.text}),(l||n===t.length-1)&&Object(h.jsx)(F.a,{className:"timestamp",format:"hh:mm a",children:e.createdAt})]},n)}))})}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d&&f.length&&(c.emit("messageToServer",{rooms:f,message:{to:n._id,text:d}}),b(""))},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("input",{type:"text",value:d,onChange:function(e){return b(e.target.value)}}),Object(h.jsx)("div",{className:"fileUpload",children:Object(h.jsx)("input",{type:"file"})})]}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})})]})]}):Object(h.jsxs)("div",{className:"startChat",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#707070"})}),Object(h.jsx)("p",{children:"start a chat"})]}),Object(h.jsxs)(y,{className:"milestoneRequest",open:l.location.pathname.match(/^\/account\/deals\/.+\/pay$/),children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Create Milestone"}),Object(h.jsx)("button",{onClick:function(){l.push("/account/deals/".concat(n.phone))},children:Object(h.jsx)(C,{})})]}),Object(h.jsx)(ge,{userType:"buyer",searchClient:n,onSuccess:function(e){var t;e.milestone&&l.push("/account/deals/".concat(n.phone)),k(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return k(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[e.milestone?Object(h.jsx)(w,{}):Object(h.jsx)(N,{}),e.milestone&&Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===(t=e.milestone)||void 0===t?void 0:t.amount]}),Object(h.jsx)("h4",{children:e.message})]}),e.milestone&&Object(h.jsx)(m.b,{to:"/account/hold",onClick:function(){return k(null)},children:"Check your Delivery pay Hold"})]}))}})]}),Object(h.jsx)(y,{className:"msg",open:P,children:P})]})},me=function(e){var t,n=e.history,a=(e.location,e.match),c=Object(i.useContext)(b),s=c.user,l=(c.setUser,Object(i.useState)([])),r=Object(j.a)(l,2),o=r[0],d=r[1],u=Object(i.useState)(null),O=Object(j.a)(u,2),m=O[0],x=O[1],p=Object(i.useState)(null),g=Object(j.a)(p,2),y=g[0],N=g[1];return Object(i.useEffect)((function(){m&&(N(null===m||void 0===m?void 0:m.messages),be.emit("initiateChat",{client_id:null===m||void 0===m?void 0:m._id}))}),[m]),Object(i.useEffect)((function(){fetch("/api/getChat").then((function(e){return e.json()})).then((function(e){d((function(){return e.map((function(e){return Object(v.a)(Object(v.a)({},e),"")}))})),n.push()})).catch((function(e){console.log(e)})),be.on("connect",(function(){console.log("connected")})),be.on("disconnect",(function(){console.log("disconnected from socket")}))}),[]),Object(i.useEffect)((function(){if(a.params.phone){var e=o.find((function(e){return e.client.phone===a.params.phone}));if(e){var t=e.client,n=e.messages,c=e.status;x(Object(v.a)(Object(v.a)({},t),{},{status:c,messages:n}))}}}),[a.params,o]),Object(i.useEffect)((function(){be.on("messageToUser",(function(e){e.from&&d((function(t){return t.map((function(t){if(e.from===s._id){if(t.client._id===e.to)return Object(v.a)(Object(v.a)({},t),{},{messages:[].concat(Object(f.a)(t.messages),[e])})}else if(t.client._id===e.from)return Object(v.a)(Object(v.a)({},t),{},{messages:[].concat(Object(f.a)(t.messages),[e])});return t}))}))})),be.emit("joinRooms",{rooms:o.map((function(e){return e._id}))})}),[]),Object(h.jsxs)("div",{className:"chatContainer",children:[Object(h.jsxs)("div",{className:"contactsContainer",children:[Object(h.jsx)("div",{className:"userCard",children:m?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:m.profileImg}),Object(h.jsxs)("div",{className:"details",children:[Object(h.jsx)("p",{className:"name",children:m.firstName+" "+m.lastName}),Object(h.jsx)("a",(t={className:"phone",href:"tel:".concat(m.phone)},Object(je.a)(t,"className","phone"),Object(je.a)(t,"children",m.phone),t)),Object(h.jsx)("a",{href:"mailto:".concat(m.email),className:"email",children:m.email}),Object(h.jsx)("p",{className:"add",children:"".concat(m.address.city||""," ").concat(m.address.country||"")})]})]}),Object(h.jsxs)("div",{className:"clas",children:[Object(h.jsx)("p",{className:"status",children:m.status}),Object(h.jsx)("button",{children:"Chat"})]})]}):Object(h.jsx)("p",{className:"userCard placeholder",children:"User card"})}),Object(h.jsx)("p",{className:"label",children:"Messages"}),Object(h.jsx)("div",{className:"peopleWrapper",children:Object(h.jsxs)("ul",{className:"people",children:[o.map((function(e){var t=e.client,n=e.messages,a=e.status,c=e.lastSeen;return Object(h.jsx)(ue,{client:t,messages:n,status:a,lastSeen:c,userCard:m},t._id)})),0===o.length&&Object(h.jsx)("p",{className:"placeholder",children:"Start making payments now."})]})})]}),Object(h.jsx)(Oe,{chat:y,userCard:m,user:s,socket:be,setChat:N})]})};n(111);var xe=function(){var e=Object(O.g)(),t=Object(i.useState)(""),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)([]),l=Object(j.a)(s,2),r=l[0],o=l[1],d=Object(i.useState)([]),b=Object(j.a)(d,2),u=b[0],x=b[1],f=Object(i.useState)(null),p=Object(j.a)(f,2),g=p[0],v=p[1],P=Object(i.useState)(!1),k=Object(j.a)(P,2),_=(k[0],k[1],Object(i.useState)(null)),M=Object(j.a)(_,2),S=M[0],L=M[1];return Object(i.useEffect)((function(){fetch("/api/recentPayments").then((function(e){return e.json()})).then((function(e){x(e)})).catch((function(e){console.log(e)}))}),[]),Object(i.useEffect)((function(){"/account/home/pay"!==e.location.pathname||g||e.push("/account/home")}),[]),Object(h.jsxs)("div",{className:"homeContainer",children:[Object(h.jsxs)("div",{className:"benner",children:[Object(h.jsx)("h4",{children:"Start transactions with Delivery pay"}),Object(h.jsx)("p",{children:"Let us help you make the safest transaction"})]}),Object(h.jsxs)("div",{className:"userType",children:[Object(h.jsxs)("div",{className:"option buyer ".concat("buyer"===a&&"active"),children:[Object(h.jsx)("img",{src:"/buyer.png"}),Object(h.jsxs)("div",{className:"btn",onClick:function(e){return c("buyer")},children:[Object(h.jsx)("p",{children:"I am a Buyer "}),Object(h.jsx)("div",{className:"radial",children:"buyer"===a&&Object(h.jsx)("div",{className:"fill"})})]})]}),Object(h.jsxs)("div",{className:"option seller ".concat("seller"===a&&"active"),children:[Object(h.jsx)("img",{src:"/seller.png"}),Object(h.jsxs)("div",{className:"btn",onClick:function(e){return c("seller")},children:[Object(h.jsx)("p",{children:"I am a Seller "}),Object(h.jsx)("div",{className:"radial",children:"seller"===a&&Object(h.jsx)("div",{className:"fill"})})]})]})]}),"buyer"===a&&Object(h.jsx)("div",{className:"search",children:Object(h.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(h.jsx)("label",{htmlFor:"search",children:"Start buying with Delivery pay"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.9",height:"17.9",viewBox:"0 0 17.9 17.9",children:Object(h.jsx)("path",{id:"Path_208","data-name":"Path 208",d:"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z",transform:"translate(0)",fill:"#b9b9b9"})}),Object(h.jsx)("input",{label:"search",required:!0,placeholder:"Search with Delivery pay ID or Phone Number",onBlur:function(){setTimeout((function(){return o([])}),500)},onChange:function(e){e.target.value?fetch("/api/getUsers?q=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e&&o(e)})):o([])}})]}),r.length?Object(h.jsx)("ul",{className:"searchResult",children:r.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:e.profileImg}),Object(h.jsxs)("p",{className:"name",children:[e.firstName+" "+e.lastName,Object(h.jsx)("span",{className:"phone",children:e.phone})]})]}),Object(h.jsx)(m.b,{className:"sendReq",to:{pathname:"/account/home/pay"},onClick:function(){return v(e)},children:"Create Milestone"})]},t)}))}):null]})}),"seller"===a&&Object(h.jsx)("div",{className:"search",children:Object(h.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(h.jsx)("label",{htmlFor:"search",children:"Start selling with Delivery pay"}),Object(h.jsxs)("section",{children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.9",height:"17.9",viewBox:"0 0 17.9 17.9",children:Object(h.jsx)("path",{id:"Path_208","data-name":"Path 208",d:"M17.9,16.324l-3.715-3.715a7.708,7.708,0,0,0,1.576-4.728A7.832,7.832,0,0,0,7.881,0,7.832,7.832,0,0,0,0,7.881a7.832,7.832,0,0,0,7.881,7.881,7.708,7.708,0,0,0,4.728-1.576L16.324,17.9ZM2.252,7.881A5.574,5.574,0,0,1,7.881,2.252a5.574,5.574,0,0,1,5.629,5.629,5.574,5.574,0,0,1-5.629,5.629A5.574,5.574,0,0,1,2.252,7.881Z",transform:"translate(0)",fill:"#b9b9b9"})}),Object(h.jsx)("input",{label:"search",required:!0,placeholder:"Search with Delivery pay ID or Phone Number",onBlur:function(){setTimeout((function(){return o([])}),500)},onChange:function(e){e.target.value?fetch("/api/getUsers?q=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e&&o(e)})):o([])}})]}),r.length?Object(h.jsx)("ul",{className:"searchResult",children:r.map((function(e,t){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("img",{src:e.profileImg}),Object(h.jsxs)("p",{className:"name",children:[e.firstName+" "+e.lastName,Object(h.jsx)("span",{className:"phone",children:e.phone})]})]}),Object(h.jsx)(m.b,{className:"sendReq",onClick:function(){return v(e)},to:{pathname:"/account/home/pay"},children:"seller"===a?"Request milestone":"Create milestone"})]},t)}))}):null]})}),u.length>0&&a&&Object(h.jsxs)("div",{className:"recentPayments",children:[Object(h.jsx)("p",{className:"label",children:"Recent Payments"}),Object(h.jsx)("ul",{className:"payments",children:u.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)(m.b,{to:"/account/home/pay",onClick:function(){v(e)},children:[Object(h.jsx)("img",{src:e.profileImg}),Object(h.jsx)("p",{className:"name",children:e.firstName+" "+e.lastName})]})},e._id)}))})]}),Object(h.jsx)(O.b,{path:"/account/home/pay",children:Object(h.jsxs)(y,{open:!0,className:"milestoneRequest",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"seller"===a?"Request Milestone":"Create Milestone"}),Object(h.jsx)("button",{onClick:function(){e.push("/account/home"),v(null)},children:Object(h.jsx)(C,{})})]}),Object(h.jsx)(ge,{userType:a,searchClient:g,onSuccess:function(t){var n;e.push("/account/home"),L(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return L(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[t.milestone?Object(h.jsx)(w,{}):Object(h.jsx)(N,{}),t.milestone&&Object(h.jsxs)("h4",{className:"amount",children:["\u20b9",null===(n=t.milestone)||void 0===n?void 0:n.amount]}),Object(h.jsx)("h4",{children:t.message})]}),t.milestone&&Object(h.jsx)(m.b,{to:"/account/hold",onClick:function(){return L(null)},children:"Check your Delivery pay Hold"})]}))}})]})}),Object(h.jsx)(y,{className:"msg",open:S,children:S})]})},fe=function(e){var t,n,a,c,s,l,r,o=e.client,d=e.onSuccess,b=e.onCancel,u=Object(i.useState)(o?o.firstName+" "+o.lastName:""),O=Object(j.a)(u,2),m=O[0],x=O[1],f=Object(i.useState)((null===o||void 0===o?void 0:o.phone)||""),p=Object(j.a)(f,2),g=p[0],v=p[1],y=Object(i.useState)((null===o||void 0===o||null===(t=o.address)||void 0===t?void 0:t.zip)||""),N=Object(j.a)(y,2),w=N[0],C=N[1],P=Object(i.useState)((null===o||void 0===o||null===(n=o.address)||void 0===n?void 0:n.locality)||""),k=Object(j.a)(P,2),_=k[0],M=k[1],S=Object(i.useState)((null===o||void 0===o||null===(a=o.address)||void 0===a?void 0:a.street)||""),L=Object(j.a)(S,2),Z=L[0],D=L[1],A=Object(i.useState)((null===o||void 0===o||null===(c=o.address)||void 0===c?void 0:c.city)||""),B=Object(j.a)(A,2),F=B[0],R=B[1],q=Object(i.useState)((null===o||void 0===o||null===(s=o.address)||void 0===s?void 0:s.state)||""),T=Object(j.a)(q,2),E=T[0],U=T[1],W=Object(i.useState)((null===o||void 0===o||null===(l=o.address)||void 0===l?void 0:l.landmark)||""),I=Object(j.a)(W,2),V=I[0],H=I[1],G=Object(i.useState)((null===o||void 0===o||null===(r=o.address)||void 0===r?void 0:r.altPhone)||""),J=Object(j.a)(G,2),Y=J[0],z=J[1];return Object(h.jsxs)("form",{className:"addressForm",onSubmit:function(e){e.preventDefault(),null===d||void 0===d||d({address:{name:m,phone:g,street:Z,city:F,state:E,zip:w,locality:_,landmark:V}})},children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"name",children:"Full Name"}),Object(h.jsx)("input",{value:m,onChange:function(e){return x(e.target.value)},type:"text",name:"name",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),Object(h.jsx)("input",{value:g,onChange:function(e){return v(e.target.value)},type:"tel",name:"phone",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"zip",children:"PIN Code"}),Object(h.jsx)("input",{value:w,onChange:function(e){return C(e.target.value)},type:"number",name:"zip",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"locality",children:"Locality"}),Object(h.jsx)("input",{value:_,onChange:function(e){return M(e.target.value)},type:"text",name:"locality",required:!0})]}),Object(h.jsxs)("section",{className:"street",children:[Object(h.jsx)("label",{htmlFor:"address",children:"Address"}),Object(h.jsx)("textarea",{value:Z,onChange:function(e){return D(e.target.value)},resiz:"off",type:"text",name:"address",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"city",children:"City"}),Object(h.jsx)("input",{value:F,onChange:function(e){return R(e.target.value)},type:"text",name:"city",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"state",children:"State"}),Object(h.jsx)("input",{value:E,onChange:function(e){return U(e.target.value)},type:"text",name:"state",required:!0})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"landmark",children:"Landmark (Optional)"}),Object(h.jsx)("input",{value:V,onChange:function(e){return H(e.target.value)},type:"text",name:"landmark"})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"altPhone",children:"Alternate Phone (Optional)"}),Object(h.jsx)("input",{value:Y,onChange:function(e){return z(e.target.value)},type:"tel",name:"altPhone"})]}),Object(h.jsx)("button",{className:"save",children:"Save"}),Object(h.jsx)("button",{className:"cancel",type:"button",onClick:function(){return null===b||void 0===b?void 0:b()},children:"Cancel"}),Object(h.jsx)("section",{className:"pBtm"})]})};var pe=function(){var e=Object(i.useContext)(b),t=e.user,n=e.setUser,a=Object(O.g)(),c=Object(i.useRef)(null),s=Object(i.useState)(!1),l=Object(j.a)(s,2),r=l[0],o=l[1],d=Object(i.useState)(!1),u=Object(j.a)(d,2),x=u[0],f=(u[1],Object(i.useState)(null)),p=Object(j.a)(f,2),g=(p[0],p[1]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)("p",{className:"name",children:(null===t||void 0===t?void 0:t.firstName)+" "+(null===t||void 0===t?void 0:t.lastName)}),Object(h.jsx)("img",{src:null===t||void 0===t?void 0:t.profileImg,className:"avatar",onClick:function(){return o(!r)}}),r&&Object(h.jsxs)("div",{className:"menu",ref:c,children:[Object(h.jsx)(m.b,{className:"aboutUs",to:"/aboutUs",children:"More about us"}),Object(h.jsxs)("div",{className:"referral",children:[Object(h.jsx)("button",{children:"Invite now"}),Object(h.jsx)("p",{children:"Refer and earn flat \u20b950/- cashback to your wallet"})]}),Object(h.jsxs)("button",{className:"logout",onClick:function(){fetch("/api/logout").then((function(e){return e.json()})).then((function(e){n(null),a.push("/")})).catch((function(e){console.log(e),g(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return g(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not logout."})]})]}))}))},children:["Logout",Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31.702",height:"31.702",viewBox:"0 0 31.702 31.702",children:Object(h.jsx)("path",{id:"Path_1758","data-name":"Path 1758",d:"M15.487,25.174l2.483,2.483,8.806-8.806L17.97,10.045l-2.483,2.483,4.544,4.562H3v3.522H20.031ZM31.18,3H6.522A3.521,3.521,0,0,0,3,6.522v7.045H6.522V6.522H31.18V31.18H6.522V24.135H3V31.18A3.521,3.521,0,0,0,6.522,34.7H31.18A3.533,3.533,0,0,0,34.7,31.18V6.522A3.533,3.533,0,0,0,31.18,3Z",transform:"translate(-3 -3)",fill:"#fc0660"})})]})]})]}),r&&Object(h.jsx)("div",{className:"backdrop",onClick:function(){return o(!1)}}),Object(h.jsx)(y,{open:x,children:"coming soon"})]})},ge=function(e){var t,n,a,c,s=e.userType,l=e.searchClient,r=e.onSuccess,o=Object(i.useContext)(b),d=o.user,u=(o.setUser,Object(i.useState)("product")),O=Object(j.a)(u,2),m=O[0],x=O[1],f=Object(i.useState)(!1),p=Object(j.a)(f,2),g=p[0],w=p[1],P=Object(i.useState)(Object(v.a)({},"seller"===s?l:d)),M=Object(j.a)(P,2),S=M[0],L=M[1],Z=Object(i.useState)((new Date).toISOString().substring(0,16)),D=Object(j.a)(Z,2),A=D[0],B=D[1],F=Object(i.useState)(""),R=Object(j.a)(F,2),q=R[0],T=R[1],E=Object(i.useState)(""),U=Object(j.a)(E,2),W=U[0],I=U[1],V=Object(i.useState)(null),H=Object(j.a)(V,2),G=H[0],J=H[1],Y=Object(i.useCallback)((function(e){e.preventDefault(),fetch("/api/requestMilestone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buyer_id:S._id,amount:W,product:{dscr:q,type:m,deliveryDetail:Object(v.a)(Object(v.a)({phone:S.phone,name:S.firstName+" "+S.lastName},S.address),{},{timeOfDelivery:A})}})}).then((function(e){return e.json()})).then((function(e){var t=e.message,n=e.milestone;n?null===r||void 0===r||r({message:t,milestone:n}):J(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return J(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not create milestone."})]})]}))})).catch((function(e){console.log(e),J(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return J(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not create milestone. Make sure you're online."})]})]}))}))}),[S,l,W,q,m,A]),z=Object(i.useCallback)((function(e){e.preventDefault(),fetch("/api/createMilestone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller:Object(v.a)({},l),amount:W,product:{dscr:q,type:m,deliveryDetail:Object(v.a)(Object(v.a)({phone:S.phone,name:S.firstName+" "+S.lastName},S.address),{},{timeOfDelivery:A})}})}).then((function(e){return e.json()})).then((function(e){null===r||void 0===r||r(e)})).catch((function(e){console.log(e),J(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return J(null)},children:"Okay"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)("h4",{children:"Could not create milestone. Make sure you're online."})]})]}))}))}),[S,l,W,q,m,A]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"milestonesForm",onSubmit:"seller"===s?Y:z,children:[Object(h.jsxs)("section",{className:"transactionDetail",children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Type of Transaction"}),Object(h.jsx)(k,{defaultValue:0,options:[{label:"Product",value:"product"},{label:"Service",value:"service"}],onChange:function(e){x(e.value)}})]}),Object(h.jsxs)("section",{className:"amount",children:[Object(h.jsx)("label",{children:"Amount"}),Object(h.jsx)(_,{min:10,defaultValue:0,required:!0,onChange:function(e){return I((+e.target.value).toString())}})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Detail"}),Object(h.jsx)("input",{value:q,required:!0,onChange:function(e){return T(e.target.value)}})]}),Object(h.jsx)("button",{type:"submit",children:"seller"===s?"Request Milestone":"Create Milestone"})]}),Object(h.jsxs)("section",{className:"clientDetail",children:[Object(h.jsx)("img",{src:null===S||void 0===S?void 0:S.profileImg}),Object(h.jsx)("label",{children:"Delivery Address"}),Object(h.jsxs)("div",{className:"detail",onClick:function(){return w(!0)},children:[Object(h.jsx)("button",{type:"button",children:"+ Add/Edit Address"}),Object(h.jsxs)("section",{className:"profileDetail",children:[Object(h.jsx)("p",{className:"name",children:(null===S||void 0===S?void 0:S.firstName)+" "+(null===S||void 0===S?void 0:S.lastName)}),Object(h.jsx)("p",{className:"phone",children:null===S||void 0===S?void 0:S.phone}),Object(h.jsx)("p",{className:"email",children:null===S||void 0===S?void 0:S.email})]}),(null===S||void 0===S||null===(t=S.address)||void 0===t?void 0:t.street)&&Object(h.jsx)("section",{className:"address",children:Object(h.jsxs)("p",{className:"street",children:[null===(n=S.address)||void 0===n?void 0:n.street,", ",null===(a=S.address)||void 0===a?void 0:a.city,","," ",null===(c=S.address)||void 0===c?void 0:c.zip]})})]}),"seller"===s?null:Object(h.jsxs)("div",{className:"sellerInfo",children:[Object(h.jsx)("img",{src:null===l||void 0===l?void 0:l.profileImg}),Object(h.jsx)("label",{children:"Seller Information"}),Object(h.jsx)("div",{className:"detail",children:Object(h.jsxs)("section",{className:"profileDetail",children:[Object(h.jsx)("p",{className:"name",children:(null===l||void 0===l?void 0:l.firstName)+" "+(null===l||void 0===l?void 0:l.lastName)}),Object(h.jsx)("p",{className:"phone",children:null===l||void 0===l?void 0:l.phone}),Object(h.jsx)("p",{className:"email",children:null===l||void 0===l?void 0:l.email})]})})]}),Object(h.jsxs)("div",{className:"deliveryTime",children:[Object(h.jsx)("p",{children:"Delivery Time"}),Object(h.jsx)("input",{value:A,type:"datetime-local",onChange:function(e){return B(e.target.value)}})]})]})]}),Object(h.jsxs)(y,{open:g,className:"addAddress",children:[Object(h.jsxs)("div",{className:"head",children:[Object(h.jsx)("p",{className:"modalName",children:"Add/Edit Address"}),Object(h.jsx)("button",{onClick:function(){w(!1)},children:Object(h.jsx)(C,{})})]}),Object(h.jsx)(fe,{client:S,setClient:L,onSuccess:function(e){L((function(t){return Object(v.a)(Object(v.a)({},t),e)})),w(!1)},onCancel:function(){return w(!1)}})]}),Object(h.jsx)(y,{className:"msg",open:G,children:G})]})},ve=function(e){var t=e.location,n=Object(i.useContext)(b).user;return Object(h.jsxs)("div",{className:"account",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)(m.b,{to:"/",children:Object(h.jsx)("img",{className:"logo",src:"/logo_land.jpg",alt:"Delivery pay logo"})}),Object(h.jsx)(pe,{})]}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("ul",{className:"sidebar",children:[Object(h.jsx)("li",{className:"/account"===t.pathname||t.pathname.startsWith("/account/home")?"active":void 0,children:Object(h.jsxs)(m.b,{to:"/account/home",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21.648",height:"21.513",viewBox:"0 0 21.648 21.513",children:Object(h.jsx)("path",{id:"Path_287","data-name":"Path 287",d:"M21.387,10.488A1.079,1.079,0,0,0,21.3,8.979L11.626.289a1.185,1.185,0,0,0-1.576,0L.342,9.44A1.073,1.073,0,0,0,.3,10.95l.245.258A1.043,1.043,0,0,0,2,11.321l.724-.665v9.762A1.071,1.071,0,0,0,3.78,21.5H7.563A1.071,1.071,0,0,0,8.62,20.418V13.591h4.81v6.828a1.04,1.04,0,0,0,.269.761.987.987,0,0,0,.723.323H18.45a1.071,1.071,0,0,0,1.057-1.084V10.776l.449.4c.245.222.765.042,1.168-.4Z",transform:"translate(-0.008 0.011)",fill:"#fff"})})}),"Home"]})}),Object(h.jsx)("li",{className:"deals ".concat(t.pathname.startsWith("/account/deals")?"active":void 0),children:Object(h.jsxs)(m.b,{to:"/account/deals",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.55",height:"25.219",viewBox:"0 0 26.55 25.219",children:Object(h.jsx)("path",{id:"Path_1","data-name":"Path 1",d:"M-242.2-184.285h-13l26.55-10.786-4.252,25.219-5.531-10.637-2.127,4.68v-6.382l7.659-9.148h2.34",transform:"translate(255.198 195.071)",fill:"#fff"})})}),"Deals"]})}),Object(h.jsx)("li",{className:t.pathname.startsWith("/account/wallet")?"active":void 0,children:Object(h.jsxs)(m.b,{to:"/account/wallet",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.886",height:"22.948",viewBox:"0 0 20.886 22.948",children:[Object(h.jsxs)("g",{id:"Rectangle_2","data-name":"Rectangle 2",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"20.886",height:"16.244",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"14.244",rx:"1",fill:"none"})]}),Object(h.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 9.283)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"20.886",height:"6.962",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"18.886",height:"4.962",rx:"1",fill:"none"})]}),Object(h.jsx)("path",{id:"Path_2","data-name":"Path 2",d:"M-180.174-182v7.923l4.1-4.653,3.932,4.653V-182Z",transform:"translate(186.6 197.025)",fill:"#fff"})]})}),"Wallet"]})}),Object(h.jsx)("li",{className:"hold ".concat(t.pathname.startsWith("/account/hold")?"active":void 0),children:Object(h.jsxs)(m.b,{to:"/account/hold",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"27",viewBox:"0 0 22 27",children:[Object(h.jsx)("text",{id:"_3","data-name":"3",transform:"translate(14 14) rotate(180)",fill:"#fff",fontSize:"10",fontFamily:"Ebrima-Bold, Ebrima",fontWeight:"700",children:Object(h.jsx)("tspan",{x:"0",y:"0",children:"3"})}),Object(h.jsxs)("g",{id:"Group_166","data-name":"Group 166",transform:"translate(-534.967 -611.816)",children:[Object(h.jsxs)("g",{id:"Rectangle_1132","data-name":"Rectangle 1132",transform:"translate(534.967 620.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"22",height:"18",rx:"4",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"20",height:"16",rx:"3",fill:"none"})]}),Object(h.jsxs)("g",{id:"Rectangle_1133","data-name":"Rectangle 1133",transform:"translate(539.967 611.816)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("path",{d:"M6.5,0h0A6.5,6.5,0,0,1,13,6.5V11a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V6.5A6.5,6.5,0,0,1,6.5,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M6.5,1h0A5.5,5.5,0,0,1,12,6.5V9.214a.786.786,0,0,1-.786.786H1.786A.786.786,0,0,1,1,9.214V6.5A5.5,5.5,0,0,1,6.5,1Z",fill:"none"})]})]})]})}),"Delivery pay Hold"]})}),Object(h.jsx)("li",{className:"trans ".concat(t.pathname.startsWith("/account/transactions")?"active":void 0),children:Object(h.jsxs)(m.b,{to:"/account/transactions",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{id:"Group_283","data-name":"Group 283",xmlns:"http://www.w3.org/2000/svg",width:"28.407",height:"25.407",viewBox:"0 0 28.407 25.407",children:[Object(h.jsxs)("g",{id:"Path_4","data-name":"Path 4",transform:"translate(3)",fill:"none",children:[Object(h.jsx)("path",{d:"M12.7,0A12.7,12.7,0,1,1,0,12.7,12.7,12.7,0,0,1,12.7,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 12.70325660705566 1.999996185302734 C 9.844316482543945 1.999996185302734 7.156496047973633 3.113327026367188 5.134906768798828 5.134906768798828 C 3.113327026367188 7.156496047973633 1.999996185302734 9.844316482543945 1.999996185302734 12.70325660705566 C 1.999996185302734 15.56219673156738 3.113327026367188 18.2500171661377 5.134906768798828 20.2716064453125 C 7.156496047973633 22.29318618774414 9.844316482543945 23.40651702880859 12.70325660705566 23.40651702880859 C 15.56219673156738 23.40651702880859 18.2500171661377 22.29318618774414 20.2716064453125 20.2716064453125 C 22.29318618774414 18.2500171661377 23.40651702880859 15.56219673156738 23.40651702880859 12.70325660705566 C 23.40651702880859 9.844316482543945 22.29318618774414 7.156496047973633 20.2716064453125 5.134906768798828 C 18.2500171661377 3.113327026367188 15.56219673156738 1.999996185302734 12.70325660705566 1.999996185302734 M 12.70325660705566 -3.814697265625e-06 C 19.71906661987305 -3.814697265625e-06 25.40651702880859 5.687446594238281 25.40651702880859 12.70325660705566 C 25.40651702880859 19.71906661987305 19.71906661987305 25.40651702880859 12.70325660705566 25.40651702880859 C 5.687446594238281 25.40651702880859 -3.814697265625e-06 19.71906661987305 -3.814697265625e-06 12.70325660705566 C -3.814697265625e-06 5.687446594238281 5.687446594238281 -3.814697265625e-06 12.70325660705566 -3.814697265625e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Polygon_1","data-name":"Polygon 1",transform:"translate(6.001 12.353) rotate(-150)",fill:"#fff",children:[Object(h.jsx)("path",{d:"M 4.929044723510742 3.619362831115723 L 2.000004529953003 3.619362831115723 L 3.464524507522583 1.666669487953186 L 4.929044723510742 3.619362831115723 Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 3.464524507522583 2.86102294921875e-06 L 6.929044723510742 4.619362831115723 L 4.291534423828125e-06 4.619362831115723 L 3.464524507522583 2.86102294921875e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Rectangle_4","data-name":"Rectangle 4",transform:"translate(0 11.86) rotate(-22)",fill:"#336cf9",stroke:"#336cf9",strokeWidth:"1",children:[Object(h.jsx)("rect",{width:"6.929",height:"4.619",stroke:"none"}),Object(h.jsx)("rect",{x:"0.5",y:"0.5",width:"5.929",height:"3.619",fill:"none"})]}),Object(h.jsxs)("g",{id:"Group_5","data-name":"Group 5",transform:"translate(15.704 4.888)",children:[Object(h.jsx)("line",{id:"Line_3","data-name":"Line 3",y2:"9.239",transform:"translate(0 0)",fill:"none",stroke:"#fff",strokeWidth:"2"}),Object(h.jsx)("line",{id:"Line_4","data-name":"Line 4",x2:"6.929",y2:"2.31",transform:"translate(0 9.239)",fill:"none",stroke:"#fff",strokeWidth:"2"})]})]})}),"Delivery pay Transactions"]})}),Object(h.jsx)("li",{className:"support ".concat(t.pathname.startsWith("/account/support")?"active":void 0),children:Object(h.jsxs)(m.b,{to:"/account/support",children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.872",height:"21.086",viewBox:"0 0 19.872 21.086",children:[Object(h.jsxs)("g",{id:"Group_4","data-name":"Group 4",transform:"translate(0 5.63)",children:[Object(h.jsxs)("g",{id:"Path_288","data-name":"Path 288",fill:"none",children:[Object(h.jsx)("path",{d:"M1,0H18.872a1,1,0,0,1,1,1V14.456a1,1,0,0,1-1,1H1a1,1,0,0,1-1-1V1A1,1,0,0,1,1,0Z",stroke:"none"}),Object(h.jsx)("path",{d:"M 2 2.000001907348633 L 2 13.45590209960938 L 17.87188148498535 13.45590209960938 L 17.87188148498535 2.000001907348633 L 2 2.000001907348633 M 1 1.9073486328125e-06 L 18.87188148498535 1.9073486328125e-06 C 19.42416000366211 1.9073486328125e-06 19.87188148498535 0.4477119445800781 19.87188148498535 1.000001907348633 L 19.87188148498535 14.45590209960938 C 19.87188148498535 15.00819206237793 19.42416000366211 15.45590209960938 18.87188148498535 15.45590209960938 L 1 15.45590209960938 C 0.4477100372314453 15.45590209960938 0 15.00819206237793 0 14.45590209960938 L 0 1.000001907348633 C 0 0.4477119445800781 0.4477100372314453 1.9073486328125e-06 1 1.9073486328125e-06 Z",stroke:"none",fill:"#fff"})]}),Object(h.jsxs)("g",{id:"Rectangle_3","data-name":"Rectangle 3",transform:"translate(0 8.832)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("rect",{width:"19.872",height:"6.624",rx:"2",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"17.872",height:"4.624",rx:"1",fill:"none"})]})]}),Object(h.jsxs)("g",{id:"Rectangle_1134","data-name":"Rectangle 1134",transform:"translate(4)",fill:"none",stroke:"#fff",strokeWidth:"2",children:[Object(h.jsx)("path",{d:"M2,0h8a2,2,0,0,1,2,2V7a0,0,0,0,1,0,0H0A0,0,0,0,1,0,7V2A2,2,0,0,1,2,0Z",stroke:"none"}),Object(h.jsx)("rect",{x:"1",y:"1",width:"10",height:"5",rx:"1",fill:"none"})]})]})}),"Customer Support"]})}),Object(h.jsx)("li",{className:t.pathname.startsWith("/account/profile")?"active":void 0,children:Object(h.jsxs)(m.b,{to:"/account/profile",children:[Object(h.jsx)("div",{className:"icon acc",children:Object(h.jsx)("img",{src:null===n||void 0===n?void 0:n.profileImg})}),"Account"]})})]}),Object(h.jsx)("main",{children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/account/deals/:phone?",component:me}),Object(h.jsx)(O.b,{path:"/account/wallet",component:ne}),Object(h.jsx)(O.b,{path:"/account/hold",component:E}),Object(h.jsx)(O.b,{path:"/account/transactions",component:W}),Object(h.jsx)(O.b,{path:"/account/support",component:ae}),Object(h.jsx)(O.b,{path:"/account/profile",component:de}),Object(h.jsx)(O.b,{path:"/",component:xe})]})})]})]})};function ye(e){var t=e.children,n=e.path,a=e.component,c=Object(i.useContext)(b),s=c.user,l=(c.setUser,Object(O.g)());return s?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(O.b,{path:n,component:a,children:t})}):Object(h.jsx)(O.a,{to:{pathname:"/u/login",state:{from:l.location.pathname}}})}var Ne=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(m.a,{children:Object(h.jsxs)(O.d,{children:[Object(h.jsx)(O.b,{path:"/",exact:!0,component:x}),Object(h.jsx)(O.b,{path:"/u",component:A}),Object(h.jsx)(ye,{path:"/account",component:ve}),Object(h.jsx)(O.b,{path:"/",children:Object(h.jsx)("h1",{children:"404"})})]})})})},we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),s(e),l(e)}))},Ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),c=0;c<n.length;++c)a[c]=n.charCodeAt(c);return a}function ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)),navigator.serviceWorker.ready.then(function(){var e=Object(ie.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pe("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var _e,Me=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).state={hasError:!1,reported:!1},c}return Object(c.a)(n,[{key:"componentDidCatch",value:function(e,t){var n=this,a={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({err:e.name,message:e.message,dscr:t})};fetch("/api/bugReportAuto",a).then((function(e){return e.json()})).then((function(e){"ok"===e.code&&(n.reported=!0)}))}},{key:"render",value:function(){return this.state.hasError?Object(h.jsx)("div",{className:"deathPage",children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("ion-icon",{name:"skull-outline"}),Object(h.jsx)("h2",{children:"Oops."}),Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("ion-icon",{name:"refresh-outline"})}),this.reported&&Object(h.jsx)("p",{children:"successfully reported"})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component);d.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Me,{children:Object(h.jsx)(u,{children:Object(h.jsx)(Ne,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="/service-worker.js";Ce?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,_e),navigator.serviceWorker.ready.then(function(){var e=Object(ie.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pe("BOAary6p08dAK6T2GSg0zRGrWKk5qs-sz_-f62My0JXMPG52fqQfzzJlePyF0snUvrdeEg4RSWOVGhrtVc1v3Lo")}).then((function(e){fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):ke(e,_e)})),we()},66:function(e,t,n){},68:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.0c23cfbd.chunk.js.map